/*! For license information please see main.fa35fb90.js.LICENSE.txt */
(()=>{var e={43:(e,t,r)=>{"use strict";e.exports=r(202)},153:(e,t,r)=>{"use strict";var n=r(43),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,a={},c=null,u=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,n)&&!l.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===a[n]&&(a[n]=t[n]);return{$$typeof:s,type:e,key:c,ref:u,props:a,_owner:o.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function v(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||p}function y(){}function x(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=x.prototype=new y;b.constructor=x,f(b,v.prototype),b.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,N={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var s,a={},i=null,o=null;if(null!=t)for(s in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)j.call(t,s)&&!k.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===a[s]&&(a[s]=l[s]);return{$$typeof:r,type:e,key:i,ref:o,props:a,_owner:N.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var E=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,s,a,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case n:l=!0}}if(l)return i=i(l=e),e=""===a?"."+C(l,0):a,w(i)?(s="",null!=e&&(s=e.replace(E,"$&/")+"/"),P(i,t,s,"",function(e){return e})):null!=i&&(_(i)&&(i=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,s+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(E,"$&/")+"/")+e)),t.push(i)),1;if(l=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var u=a+C(o=e[c],c);l+=P(o,t,s,u,i)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=P(o=o.value,t,s,u=a+C(o,c++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,r){if(null==e)return e;var n=[],s=0;return P(e,n,"","",function(e){return t.call(r,e,s++)}),n}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:N};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,r){T(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=s,t.Profiler=i,t.PureComponent=x,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=L,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=f({},e.props),a=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=N.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)j.call(t,c)&&!k.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:r,type:e.type,key:a,ref:i,props:s,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,r){return R.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,r){return R.current.useReducer(e,t,r)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return R.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},210:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(r(829)),a=n(r(736)),i=r(745);class o{constructor(e){let{headers:t={},schema:r,fetch:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=n}from(e){const t=new URL(`${this.url}/${e}`);return new s.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new o(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:n=!1,get:s=!1,count:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=new URL(`${this.url}/rpc/${e}`);let l;n||s?(t=n?"HEAD":"GET",Object.entries(r).filter(e=>{let[t,r]=e;return void 0!==r}).map(e=>{let[t,r]=e;return[t,Array.isArray(r)?`{${r.join(",")}}`:`${r}`]}).forEach(e=>{let[t,r]=e;o.searchParams.append(t,r)})):(t="POST",l=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new a.default({method:t,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}t.default=o},234:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,s=e[n];if(!(0<a(s,t)))break e;e[n]=t,e[r]=s,r=n}}function n(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,s=e.length,i=s>>>1;n<i;){var o=2*(n+1)-1,l=e[o],c=o+1,u=e[c];if(0>a(l,r))c<s&&0>a(u,l)?(e[n]=u,e[c]=r,n=c):(e[n]=l,e[o]=r,n=o);else{if(!(c<s&&0>a(u,r)))break e;e[n]=u,e[c]=r,n=c}}}return t}function a(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,m=3,p=!1,f=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=n(u);null!==t;){if(null===t.callback)s(u);else{if(!(t.startTime<=e))break;s(u),t.sortIndex=t.expirationTime,r(c,t)}t=n(u)}}function w(e){if(g=!1,b(e),!f)if(null!==n(c))f=!0,O(j);else{var t=n(u);null!==t&&D(w,t.startTime-e)}}function j(e,r){f=!1,g&&(g=!1,y(_),_=-1),p=!0;var a=m;try{for(b(r),h=n(c);null!==h&&(!(h.expirationTime>r)||e&&!P());){var i=h.callback;if("function"===typeof i){h.callback=null,m=h.priorityLevel;var o=i(h.expirationTime<=r);r=t.unstable_now(),"function"===typeof o?h.callback=o:h===n(c)&&s(c),b(r)}else s(c);h=n(c)}if(null!==h)var l=!0;else{var d=n(u);null!==d&&D(w,d.startTime-r),l=!1}return l}finally{h=null,m=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,k=!1,S=null,_=-1,E=5,C=-1;function P(){return!(t.unstable_now()-C<E)}function T(){if(null!==S){var e=t.unstable_now();C=e;var r=!0;try{r=S(!0,e)}finally{r?N():(k=!1,S=null)}}else k=!1}if("function"===typeof x)N=function(){x(T)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,R=A.port2;A.port1.onmessage=T,N=function(){R.postMessage(null)}}else N=function(){v(T,0)};function O(e){S=e,k||(k=!0,N())}function D(e,r){_=v(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||p||(f=!0,O(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var r=m;m=t;try{return e()}finally{m=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=m;m=e;try{return t()}finally{m=r}},t.unstable_scheduleCallback=function(e,s,a){var i=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:s,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>i?(e.sortIndex=a,r(u,e),null===n(c)&&e===n(u)&&(g?(y(_),_=-1):g=!0,D(w,a-i))):(e.sortIndex=o,r(c,e),f||p||(f=!0,O(j))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=m;return function(){var r=m;m=t;try{return e.apply(this,arguments)}finally{m=r}}}},286:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(r(630)),a=n(r(611));t.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=s.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,r,n;let s=null,i=null,o=null,l=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(i="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const n=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),a=null===(r=e.headers.get("content-range"))||void 0===r?void 0:r.split("/");n&&a&&a.length>1&&(o=parseInt(a[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(i)&&(i.length>1?(s={code:"PGRST116",details:`Results contain ${i.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},i=null,o=null,l=406,c="Not Acceptable"):i=1===i.length?i[0]:null)}else{const t=await e.text();try{s=JSON.parse(t),Array.isArray(s)&&404===e.status&&(i=[],s=null,l=200,c="OK")}catch(u){404===e.status&&""===t?(l=204,c="No Content"):s={message:t}}if(s&&this.isMaybeSingle&&(null===(n=null===s||void 0===s?void 0:s.details)||void 0===n?void 0:n.includes("0 rows"))&&(s=null,l=200,c="OK"),s&&this.shouldThrowOnError)throw new a.default(s)}return{error:s,data:i,count:o,status:l,statusText:c}});return this.shouldThrowOnError||(r=r.catch(e=>{var t,r,n;return{error:{message:`${null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null===e||void 0===e?void 0:e.message}`,details:`${null!==(r=null===e||void 0===e?void 0:e.stack)&&void 0!==r?r:""}`,hint:"",code:`${null!==(n=null===e||void 0===e?void 0:e.code)&&void 0!==n?n:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}returns(){return this}overrideTypes(){return this}}},374:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(r(286));class a extends s.default{select(e){let t=!1;const r=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e){let{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=s?`${s}.order`:"order",i=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${void 0===r?"":r?".nullsfirst":".nullslast"}`),this}limit(e){let{foreignTable:t,referencedTable:r=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="undefined"===typeof r?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t){let{foreignTable:r,referencedTable:n=r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s="undefined"===typeof n?"offset":`${n}.offset`,a="undefined"===typeof n?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(a,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain(){let{analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:a="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var i;const o=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=null!==(i=this.headers.Accept)&&void 0!==i?i:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${l}"; options=${o};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}t.default=a},391:(e,t,r)=>{"use strict";var n=r(950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},400:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.0.0-automated"},579:(e,t,r)=>{"use strict";e.exports=r(153)},611:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=r},630:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Headers:()=>i,Request:()=>o,Response:()=>l,default:()=>a,fetch:()=>s});var n=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof r.g)return r.g;throw new Error("unable to locate global object")}();const s=n.fetch,a=n.fetch.bind(n),i=n.Headers,o=n.Request,l=n.Response},730:(e,t,r)=>{"use strict";var n=r(43),s=r(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function f(e,t,r,n,s,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function x(e,t,r,n){var s=g.hasOwnProperty(t)?g[t]:null;(null!==s?0!==s.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,s,n)&&(r=null),n||null===s?function(e){return!!d.call(p,e)||!d.call(m,e)&&(h.test(e)?p[e]=!0:(m[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=null===r?3!==s.type&&"":r:(t=s.attributeName,n=s.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(s=s.type)||4===s&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),E=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var I,M=Object.assign;function $(e){if(void 0===I)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var s=c.stack.split("\n"),a=n.stack.split("\n"),i=s.length-1,o=a.length-1;1<=i&&0<=o&&s[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(s[i]!==a[o]){if(1!==i||1!==o)do{if(i--,0>--o||s[i]!==a[o]){var l="\n"+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?$(e):""}function z(e){switch(e.tag){case 5:return $(e.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function F(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case j:return"Portal";case S:return"Profiler";case k:return"StrictMode";case P:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:F(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return F(e(t))}catch(r){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return F(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=W(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var r=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Y(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=q(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function X(e,t){Q(e,t);var r=q(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&G(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+q(r),t=null,s=0;s<e.length;s++){if(e[s].value===r)return e[s].selected=!0,void(n&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(a(92));if(te(r)){if(1<r.length)throw Error(a(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:q(r)}}function ae(e,t){var r=q(t.value),n=q(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function fe(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function ge(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),s=fe(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}Object.keys(me).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]})});var ve=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,Ne=null,ke=null;function Se(e){if(e=xs(e)){if("function"!==typeof je)throw Error(a(280));var t=e.stateNode;t&&(t=ws(t),je(e.stateNode,e.type,t))}}function _e(e){Ne?ke?ke.push(e):ke=[e]:Ne=e}function Ee(){if(Ne){var e=Ne,t=ke;if(ke=Ne=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Pe(){}var Te=!1;function Ae(e,t,r){if(Te)return e(t,r);Te=!0;try{return Ce(e,t,r)}finally{Te=!1,(null!==Ne||null!==ke)&&(Pe(),Ee())}}function Re(e,t){var r=e.stateNode;if(null===r)return null;var n=ws(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(a(231,t,typeof r));return r}var Oe=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Oe=!1}function Le(e,t,r,n,s,a,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var Ie=!1,Me=null,$e=!1,Ue=null,Ve={onError:function(e){Ie=!0,Me=e}};function ze(e,t,r,n,s,a,i,o,l){Ie=!1,Me=null,Le.apply(Ve,arguments)}function Fe(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Fe(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Fe(e)))throw Error(a(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(null===s)break;var i=s.alternate;if(null===i){if(null!==(n=s.return)){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return qe(s),e;if(i===n)return qe(s),t;i=i.sibling}throw Error(a(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(a(189))}}if(r.alternate!==n)throw Error(a(190))}if(3!==r.tag)throw Error(a(188));return r.stateNode.current===r?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ke=s.unstable_scheduleCallback,Ge=s.unstable_cancelCallback,Je=s.unstable_shouldYield,Ye=s.unstable_requestPaint,Qe=s.unstable_now,Xe=s.unstable_getCurrentPriorityLevel,Ze=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,rt=s.unstable_LowPriority,nt=s.unstable_IdlePriority,st=null,at=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,i=268435455&r;if(0!==i){var o=i&~s;0!==o?n=dt(o):0!==(a&=i)&&(n=dt(a))}else 0!==(i=r&~s)?n=dt(i):0!==a&&(n=dt(a));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&s)&&((s=n&-n)>=(a=t&-t)||16===s&&0!==(4194240&a)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)s=1<<(r=31-it(t)),n|=e[r],t&=~s;return n}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function vt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=r}function yt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-it(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var xt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,jt,Nt,kt,St,_t=!1,Et=[],Ct=null,Pt=null,Tt=null,At=new Map,Rt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function It(e,t,r,n,s,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},null!==t&&(null!==(t=xs(t))&&jt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Mt(e){var t=ys(e.target);if(null!==t){var r=Fe(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=Be(r)))return e.blockedOn=t,void St(e.priority,function(){Nt(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function $t(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=xs(r))&&jt(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);be=n,r.target.dispatchEvent(n),be=null,t.shift()}return!0}function Ut(e,t,r){$t(e)&&r.delete(t)}function Vt(){_t=!1,null!==Ct&&$t(Ct)&&(Ct=null),null!==Pt&&$t(Pt)&&(Pt=null),null!==Tt&&$t(Tt)&&(Tt=null),At.forEach(Ut),Rt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Vt)))}function Ft(e){function t(t){return zt(t,e)}if(0<Et.length){zt(Et[0],e);for(var r=1;r<Et.length;r++){var n=Et[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Pt&&zt(Pt,e),null!==Tt&&zt(Tt,e),At.forEach(t),Rt.forEach(t),r=0;r<Ot.length;r++)(n=Ot[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Ot.length&&null===(r=Ot[0]).blockedOn;)Mt(r),null===r.blockedOn&&Ot.shift()}var Bt=b.ReactCurrentBatchConfig,qt=!0;function Wt(e,t,r,n){var s=xt,a=Bt.transition;Bt.transition=null;try{xt=1,Kt(e,t,r,n)}finally{xt=s,Bt.transition=a}}function Ht(e,t,r,n){var s=xt,a=Bt.transition;Bt.transition=null;try{xt=4,Kt(e,t,r,n)}finally{xt=s,Bt.transition=a}}function Kt(e,t,r,n){if(qt){var s=Jt(e,t,r,n);if(null===s)qn(e,t,n,Gt,r),Lt(e,n);else if(function(e,t,r,n,s){switch(t){case"focusin":return Ct=It(Ct,e,t,r,n,s),!0;case"dragenter":return Pt=It(Pt,e,t,r,n,s),!0;case"mouseover":return Tt=It(Tt,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return At.set(a,It(At.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Rt.set(a,It(Rt.get(a)||null,e,t,r,n,s)),!0}return!1}(s,e,t,r,n))n.stopPropagation();else if(Lt(e,n),4&t&&-1<Dt.indexOf(e)){for(;null!==s;){var a=xs(s);if(null!==a&&wt(a),null===(a=Jt(e,t,r,n))&&qn(e,t,n,Gt,r),a===s)break;s=a}null!==s&&n.stopPropagation()}else qn(e,t,n,null,r)}}var Gt=null;function Jt(e,t,r,n){if(Gt=null,null!==(e=ys(e=we(n))))if(null===(t=Fe(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Qt=null,Xt=null,Zt=null;function er(){if(Zt)return Zt;var e,t,r=Xt,n=r.length,s="value"in Qt?Qt.value:Qt.textContent,a=s.length;for(e=0;e<n&&r[e]===s[e];e++);var i=n-e;for(t=1;t<=i&&r[n-t]===s[a-t];t++);return Zt=s.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function nr(){return!1}function sr(e){function t(t,r,n,s,a){for(var i in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(s):s[i]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var ar,ir,or,lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=sr(lr),ur=M({},lr,{view:0,detail:0}),dr=sr(ur),hr=M({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==or&&(or&&"mousemove"===e.type?(ar=e.screenX-or.screenX,ir=e.screenY-or.screenY):ir=ar=0,or=e),ar)},movementY:function(e){return"movementY"in e?e.movementY:ir}}),mr=sr(hr),pr=sr(M({},hr,{dataTransfer:0})),fr=sr(M({},ur,{relatedTarget:0})),gr=sr(M({},lr,{animationName:0,elapsedTime:0,pseudoElement:0})),vr=M({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yr=sr(vr),xr=sr(M({},lr,{data:0})),br={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jr[e])&&!!t[e]}function kr(){return Nr}var Sr=M({},ur,{key:function(e){if(e.key){var t=br[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_r=sr(Sr),Er=sr(M({},hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cr=sr(M({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr})),Pr=sr(M({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tr=M({},hr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ar=sr(Tr),Rr=[9,13,27,32],Or=u&&"CompositionEvent"in window,Dr=null;u&&"documentMode"in document&&(Dr=document.documentMode);var Lr=u&&"TextEvent"in window&&!Dr,Ir=u&&(!Or||Dr&&8<Dr&&11>=Dr),Mr=String.fromCharCode(32),$r=!1;function Ur(e,t){switch(e){case"keyup":return-1!==Rr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zr=!1;var Fr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Br(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Fr[e.type]:"textarea"===t}function qr(e,t,r,n){_e(n),0<(t=Hn(t,"onChange")).length&&(r=new cr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Wr=null,Hr=null;function Kr(e){$n(e,0)}function Gr(e){if(K(bs(e)))return e}function Jr(e,t){if("change"===e)return t}var Yr=!1;if(u){var Qr;if(u){var Xr="oninput"in document;if(!Xr){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),Xr="function"===typeof Zr.oninput}Qr=Xr}else Qr=!1;Yr=Qr&&(!document.documentMode||9<document.documentMode)}function en(){Wr&&(Wr.detachEvent("onpropertychange",tn),Hr=Wr=null)}function tn(e){if("value"===e.propertyName&&Gr(Hr)){var t=[];qr(t,Hr,e,we(e)),Ae(Kr,t)}}function rn(e,t,r){"focusin"===e?(en(),Hr=r,(Wr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gr(Hr)}function sn(e,t){if("click"===e)return Gr(t)}function an(e,t){if("input"===e||"change"===e)return Gr(t)}var on="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ln(e,t){if(on(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!d.call(t,s)||!on(e[s],t[s]))return!1}return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function un(e,t){var r,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function dn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hn(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=G((e=t.contentWindow).document)}return t}function mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pn(e){var t=hn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&dn(r.ownerDocument.documentElement,r)){if(null!==n&&mn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=void 0===n.end?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=un(r,a);var i=un(r,n);s&&i&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fn=u&&"documentMode"in document&&11>=document.documentMode,gn=null,vn=null,yn=null,xn=!1;function bn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;xn||null==gn||gn!==G(n)||("selectionStart"in(n=gn)&&mn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},yn&&ln(yn,n)||(yn=n,0<(n=Hn(vn,"onSelect")).length&&(t=new cr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=gn)))}function wn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var jn={animationend:wn("Animation","AnimationEnd"),animationiteration:wn("Animation","AnimationIteration"),animationstart:wn("Animation","AnimationStart"),transitionend:wn("Transition","TransitionEnd")},Nn={},kn={};function Sn(e){if(Nn[e])return Nn[e];if(!jn[e])return e;var t,r=jn[e];for(t in r)if(r.hasOwnProperty(t)&&t in kn)return Nn[e]=r[t];return e}u&&(kn=document.createElement("div").style,"AnimationEvent"in window||(delete jn.animationend.animation,delete jn.animationiteration.animation,delete jn.animationstart.animation),"TransitionEvent"in window||delete jn.transitionend.transition);var _n=Sn("animationend"),En=Sn("animationiteration"),Cn=Sn("animationstart"),Pn=Sn("transitionend"),Tn=new Map,An="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rn(e,t){Tn.set(e,t),l(t,[e])}for(var On=0;On<An.length;On++){var Dn=An[On];Rn(Dn.toLowerCase(),"on"+(Dn[0].toUpperCase()+Dn.slice(1)))}Rn(_n,"onAnimationEnd"),Rn(En,"onAnimationIteration"),Rn(Cn,"onAnimationStart"),Rn("dblclick","onDoubleClick"),Rn("focusin","onFocus"),Rn("focusout","onBlur"),Rn(Pn,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ln="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),In=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ln));function Mn(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,s,i,o,l,c){if(ze.apply(this,arguments),Ie){if(!Ie)throw Error(a(198));var u=Me;Ie=!1,Me=null,$e||($e=!0,Ue=u)}}(n,t,void 0,e),e.currentTarget=null}function $n(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&s.isPropagationStopped())break e;Mn(s,o,c),a=l}else for(i=0;i<n.length;i++){if(l=(o=n[i]).instance,c=o.currentTarget,o=o.listener,l!==a&&s.isPropagationStopped())break e;Mn(s,o,c),a=l}}}if($e)throw e=Ue,$e=!1,Ue=null,e}function Un(e,t){var r=t[fs];void 0===r&&(r=t[fs]=new Set);var n=e+"__bubble";r.has(n)||(Bn(t,e,2,!1),r.add(n))}function Vn(e,t,r){var n=0;t&&(n|=4),Bn(r,e,n,t)}var zn="_reactListening"+Math.random().toString(36).slice(2);function Fn(e){if(!e[zn]){e[zn]=!0,i.forEach(function(t){"selectionchange"!==t&&(In.has(t)||Vn(t,!1,e),Vn(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zn]||(t[zn]=!0,Vn("selectionchange",!1,t))}}function Bn(e,t,r,n){switch(Yt(t)){case 1:var s=Wt;break;case 4:s=Ht;break;default:s=Kt}r=s.bind(null,t,r,e),s=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),n?void 0!==s?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):void 0!==s?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function qn(e,t,r,n,s){var a=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var i=n.tag;if(3===i||4===i){var o=n.stateNode.containerInfo;if(o===s||8===o.nodeType&&o.parentNode===s)break;if(4===i)for(i=n.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;i=i.return}for(;null!==o;){if(null===(i=ys(o)))return;if(5===(l=i.tag)||6===l){n=a=i;continue e}o=o.parentNode}}n=n.return}Ae(function(){var n=a,s=we(r),i=[];e:{var o=Tn.get(e);if(void 0!==o){var l=cr,c=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":l=_r;break;case"focusin":c="focus",l=fr;break;case"focusout":c="blur",l=fr;break;case"beforeblur":case"afterblur":l=fr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cr;break;case _n:case En:case Cn:l=gr;break;case Pn:l=Pr;break;case"scroll":l=dr;break;case"wheel":l=Ar;break;case"copy":case"cut":case"paste":l=yr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Er}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var m,p=n;null!==p;){var f=(m=p).stateNode;if(5===m.tag&&null!==f&&(m=f,null!==h&&(null!=(f=Re(p,h))&&u.push(Wn(p,f,m)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,r,s),i.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||r===be||!(c=r.relatedTarget||r.fromElement)||!ys(c)&&!c[ps])&&(l||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=n,null!==(c=(c=r.relatedTarget||r.toElement)?ys(c):null)&&(c!==(d=Fe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(u=mr,f="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Er,f="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:bs(l),m=null==c?o:bs(c),(o=new u(f,p+"leave",l,r,s)).target=d,o.relatedTarget=m,f=null,ys(s)===n&&((u=new u(h,p+"enter",c,r,s)).target=m,u.relatedTarget=d,f=u),d=f,l&&c)e:{for(h=c,p=0,m=u=l;m;m=Kn(m))p++;for(m=0,f=h;f;f=Kn(f))m++;for(;0<p-m;)u=Kn(u),p--;for(;0<m-p;)h=Kn(h),m--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kn(u),h=Kn(h)}u=null}else u=null;null!==l&&Gn(i,o,l,u,!1),null!==c&&null!==d&&Gn(i,d,c,u,!0)}if("select"===(l=(o=n?bs(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Jr;else if(Br(o))if(Yr)g=an;else{g=nn;var v=rn}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sn);switch(g&&(g=g(e,n))?qr(i,g,r,s):(v&&v(e,o,n),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=n?bs(n):window,e){case"focusin":(Br(v)||"true"===v.contentEditable)&&(gn=v,vn=n,yn=null);break;case"focusout":yn=vn=gn=null;break;case"mousedown":xn=!0;break;case"contextmenu":case"mouseup":case"dragend":xn=!1,bn(i,r,s);break;case"selectionchange":if(fn)break;case"keydown":case"keyup":bn(i,r,s)}var y;if(Or)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else zr?Ur(e,r)&&(x="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(x="onCompositionStart");x&&(Ir&&"ko"!==r.locale&&(zr||"onCompositionStart"!==x?"onCompositionEnd"===x&&zr&&(y=er()):(Xt="value"in(Qt=s)?Qt.value:Qt.textContent,zr=!0)),0<(v=Hn(n,x)).length&&(x=new xr(x,e,null,r,s),i.push({event:x,listeners:v}),y?x.data=y:null!==(y=Vr(r))&&(x.data=y))),(y=Lr?function(e,t){switch(e){case"compositionend":return Vr(t);case"keypress":return 32!==t.which?null:($r=!0,Mr);case"textInput":return(e=t.data)===Mr&&$r?null:e;default:return null}}(e,r):function(e,t){if(zr)return"compositionend"===e||!Or&&Ur(e,t)?(e=er(),Zt=Xt=Qt=null,zr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ir&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=Hn(n,"onBeforeInput")).length&&(s=new xr("onBeforeInput","beforeinput",null,r,s),i.push({event:s,listeners:n}),s.data=y))}$n(i,t)})}function Wn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Hn(e,t){for(var r=t+"Capture",n=[];null!==e;){var s=e,a=s.stateNode;5===s.tag&&null!==a&&(s=a,null!=(a=Re(e,r))&&n.unshift(Wn(e,a,s)),null!=(a=Re(e,t))&&n.push(Wn(e,a,s))),e=e.return}return n}function Kn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gn(e,t,r,n,s){for(var a=t._reactName,i=[];null!==r&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(null!==l&&l===n)break;5===o.tag&&null!==c&&(o=c,s?null!=(l=Re(r,a))&&i.unshift(Wn(r,l,o)):s||null!=(l=Re(r,a))&&i.push(Wn(r,l,o))),r=r.return}0!==i.length&&e.push({event:t,listeners:i})}var Jn=/\r\n?/g,Yn=/\u0000|\uFFFD/g;function Qn(e){return("string"===typeof e?e:""+e).replace(Jn,"\n").replace(Yn,"")}function Xn(e,t,r){if(t=Qn(t),Qn(e)!==t&&r)throw Error(a(425))}function Zn(){}var es=null,ts=null;function rs(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ns="function"===typeof setTimeout?setTimeout:void 0,ss="function"===typeof clearTimeout?clearTimeout:void 0,as="function"===typeof Promise?Promise:void 0,is="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof as?function(e){return as.resolve(null).then(e).catch(os)}:ns;function os(e){setTimeout(function(){throw e})}function ls(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&8===s.nodeType)if("/$"===(r=s.data)){if(0===n)return e.removeChild(s),void Ft(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=s}while(r);Ft(t)}function cs(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function us(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var ds=Math.random().toString(36).slice(2),hs="__reactFiber$"+ds,ms="__reactProps$"+ds,ps="__reactContainer$"+ds,fs="__reactEvents$"+ds,gs="__reactListeners$"+ds,vs="__reactHandles$"+ds;function ys(e){var t=e[hs];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ps]||r[hs]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=us(e);null!==e;){if(r=e[hs])return r;e=us(e)}return t}r=(e=r).parentNode}return null}function xs(e){return!(e=e[hs]||e[ps])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bs(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ws(e){return e[ms]||null}var js=[],Ns=-1;function ks(e){return{current:e}}function Ss(e){0>Ns||(e.current=js[Ns],js[Ns]=null,Ns--)}function _s(e,t){Ns++,js[Ns]=e.current,e.current=t}var Es={},Cs=ks(Es),Ps=ks(!1),Ts=Es;function As(e,t){var r=e.type.contextTypes;if(!r)return Es;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s,a={};for(s in r)a[s]=t[s];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Rs(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Os(){Ss(Ps),Ss(Cs)}function Ds(e,t,r){if(Cs.current!==Es)throw Error(a(168));_s(Cs,t),_s(Ps,r)}function Ls(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var s in n=n.getChildContext())if(!(s in t))throw Error(a(108,B(e)||"Unknown",s));return M({},r,n)}function Is(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Es,Ts=Cs.current,_s(Cs,e),_s(Ps,Ps.current),!0}function Ms(e,t,r){var n=e.stateNode;if(!n)throw Error(a(169));r?(e=Ls(e,t,Ts),n.__reactInternalMemoizedMergedChildContext=e,Ss(Ps),Ss(Cs),_s(Cs,e)):Ss(Ps),_s(Ps,r)}var $s=null,Us=!1,Vs=!1;function zs(e){null===$s?$s=[e]:$s.push(e)}function Fs(){if(!Vs&&null!==$s){Vs=!0;var e=0,t=xt;try{var r=$s;for(xt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}$s=null,Us=!1}catch(s){throw null!==$s&&($s=$s.slice(e+1)),Ke(Ze,Fs),s}finally{xt=t,Vs=!1}}return null}var Bs=[],qs=0,Ws=null,Hs=0,Ks=[],Gs=0,Js=null,Ys=1,Qs="";function Xs(e,t){Bs[qs++]=Hs,Bs[qs++]=Ws,Ws=e,Hs=t}function Zs(e,t,r){Ks[Gs++]=Ys,Ks[Gs++]=Qs,Ks[Gs++]=Js,Js=e;var n=Ys;e=Qs;var s=32-it(n)-1;n&=~(1<<s),r+=1;var a=32-it(t)+s;if(30<a){var i=s-s%5;a=(n&(1<<i)-1).toString(32),n>>=i,s-=i,Ys=1<<32-it(t)+s|r<<s|n,Qs=a+e}else Ys=1<<a|r<<s|n,Qs=e}function ea(e){null!==e.return&&(Xs(e,1),Zs(e,1,0))}function ta(e){for(;e===Ws;)Ws=Bs[--qs],Bs[qs]=null,Hs=Bs[--qs],Bs[qs]=null;for(;e===Js;)Js=Ks[--Gs],Ks[Gs]=null,Qs=Ks[--Gs],Ks[Gs]=null,Ys=Ks[--Gs],Ks[Gs]=null}var ra=null,na=null,sa=!1,aa=null;function ia(e,t){var r=Ac(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function oa(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ra=e,na=cs(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ra=e,na=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Js?{id:Ys,overflow:Qs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Ac(18,null,null,0)).stateNode=t,r.return=e,e.child=r,ra=e,na=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(sa){var t=na;if(t){var r=t;if(!oa(e,t)){if(la(e))throw Error(a(418));t=cs(r.nextSibling);var n=ra;t&&oa(e,t)?ia(n,r):(e.flags=-4097&e.flags|2,sa=!1,ra=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,sa=!1,ra=e}}}function ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ra=e}function da(e){if(e!==ra)return!1;if(!sa)return ua(e),sa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!rs(e.type,e.memoizedProps)),t&&(t=na)){if(la(e))throw ha(),Error(a(418));for(;t;)ia(e,t),t=cs(t.nextSibling)}if(ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){na=cs(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}na=null}}else na=ra?cs(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=na;e;)e=cs(e.nextSibling)}function ma(){na=ra=null,sa=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var fa=b.ReactCurrentBatchConfig;function ga(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(a(309));var n=r.stateNode}if(!n)throw Error(a(147,e));var s=n,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=s.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!r._owner)throw Error(a(290,e))}return e}function va(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ya(e){return(0,e._init)(e._payload)}function xa(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function i(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Mc(r,e.mode,n)).return=e,t):((t=s(t,r)).return=e,t)}function c(e,t,r,n){var a=r.type;return a===N?d(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&ya(a)===t.type)?((n=s(t,r.props)).ref=ga(e,t,r),n.return=e,n):((n=Dc(r.type,r.key,r.props,null,e.mode,n)).ref=ga(e,t,r),n.return=e,n)}function u(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=$c(r,e.mode,n)).return=e,t):((t=s(t,r.children||[])).return=e,t)}function d(e,t,r,n,a){return null===t||7!==t.tag?((t=Lc(r,e.mode,n,a)).return=e,t):((t=s(t,r)).return=e,t)}function h(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(r=Dc(t.type,t.key,t.props,null,e.mode,r)).ref=ga(e,null,t),r.return=e,r;case j:return(t=$c(t,e.mode,r)).return=e,t;case R:return h(e,(0,t._init)(t._payload),r)}if(te(t)||L(t))return(t=Lc(t,e.mode,r,null)).return=e,t;va(e,t)}return null}function m(e,t,r,n){var s=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==s?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return r.key===s?c(e,t,r,n):null;case j:return r.key===s?u(e,t,r,n):null;case R:return m(e,t,(s=r._init)(r._payload),n)}if(te(r)||L(r))return null!==s?null:d(e,t,r,n,null);va(e,r)}return null}function p(e,t,r,n,s){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(r)||null,""+n,s);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return c(t,e=e.get(null===n.key?r:n.key)||null,n,s);case j:return u(t,e=e.get(null===n.key?r:n.key)||null,n,s);case R:return p(e,t,r,(0,n._init)(n._payload),s)}if(te(n)||L(n))return d(t,e=e.get(r)||null,n,s,null);va(t,n)}return null}function f(s,a,o,l){for(var c=null,u=null,d=a,f=a=0,g=null;null!==d&&f<o.length;f++){d.index>f?(g=d,d=null):g=d.sibling;var v=m(s,d,o[f],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(s,d),a=i(v,a,f),null===u?c=v:u.sibling=v,u=v,d=g}if(f===o.length)return r(s,d),sa&&Xs(s,f),c;if(null===d){for(;f<o.length;f++)null!==(d=h(s,o[f],l))&&(a=i(d,a,f),null===u?c=d:u.sibling=d,u=d);return sa&&Xs(s,f),c}for(d=n(s,d);f<o.length;f++)null!==(g=p(d,s,f,o[f],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?f:g.key),a=i(g,a,f),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(s,e)}),sa&&Xs(s,f),c}function g(s,o,l,c){var u=L(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,f=o,g=o=0,v=null,y=l.next();null!==f&&!y.done;g++,y=l.next()){f.index>g?(v=f,f=null):v=f.sibling;var x=m(s,f,y.value,c);if(null===x){null===f&&(f=v);break}e&&f&&null===x.alternate&&t(s,f),o=i(x,o,g),null===d?u=x:d.sibling=x,d=x,f=v}if(y.done)return r(s,f),sa&&Xs(s,g),u;if(null===f){for(;!y.done;g++,y=l.next())null!==(y=h(s,y.value,c))&&(o=i(y,o,g),null===d?u=y:d.sibling=y,d=y);return sa&&Xs(s,g),u}for(f=n(s,f);!y.done;g++,y=l.next())null!==(y=p(f,s,g,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?g:y.key),o=i(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&f.forEach(function(e){return t(s,e)}),sa&&Xs(s,g),u}return function e(n,a,i,l){if("object"===typeof i&&null!==i&&i.type===N&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case w:e:{for(var c=i.key,u=a;null!==u;){if(u.key===c){if((c=i.type)===N){if(7===u.tag){r(n,u.sibling),(a=s(u,i.props.children)).return=n,n=a;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&ya(c)===u.type){r(n,u.sibling),(a=s(u,i.props)).ref=ga(n,u,i),a.return=n,n=a;break e}r(n,u);break}t(n,u),u=u.sibling}i.type===N?((a=Lc(i.props.children,n.mode,l,i.key)).return=n,n=a):((l=Dc(i.type,i.key,i.props,null,n.mode,l)).ref=ga(n,a,i),l.return=n,n=l)}return o(n);case j:e:{for(u=i.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===i.containerInfo&&a.stateNode.implementation===i.implementation){r(n,a.sibling),(a=s(a,i.children||[])).return=n,n=a;break e}r(n,a);break}t(n,a),a=a.sibling}(a=$c(i,n.mode,l)).return=n,n=a}return o(n);case R:return e(n,a,(u=i._init)(i._payload),l)}if(te(i))return f(n,a,i,l);if(L(i))return g(n,a,i,l);va(n,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==a&&6===a.tag?(r(n,a.sibling),(a=s(a,i)).return=n,n=a):(r(n,a),(a=Mc(i,n.mode,l)).return=n,n=a),o(n)):r(n,a)}}var ba=xa(!0),wa=xa(!1),ja=ks(null),Na=null,ka=null,Sa=null;function _a(){Sa=ka=Na=null}function Ea(e){var t=ja.current;Ss(ja),e._currentValue=t}function Ca(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Pa(e,t){Na=e,Sa=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xo=!0),e.firstContext=null)}function Ta(e){var t=e._currentValue;if(Sa!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===Na)throw Error(a(308));ka=e,Na.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Aa=null;function Ra(e){null===Aa?Aa=[e]:Aa.push(e)}function Oa(e,t,r,n){var s=t.interleaved;return null===s?(r.next=r,Ra(t)):(r.next=s.next,s.next=r),t.interleaved=r,Da(e,n)}function Da(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var La=!1;function Ia(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ma(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $a(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ua(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Cl)){var s=n.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Da(e,r)}return null===(s=n.interleaved)?(t.next=t,Ra(n)):(t.next=s.next,s.next=t),n.interleaved=t,Da(e,r)}function Va(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,yt(e,r)}}function za(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var s=null,a=null;if(null!==(r=r.firstBaseUpdate)){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===a?s=a=i:a=a.next=i,r=r.next}while(null!==r);null===a?s=a=t:a=a.next=t}else s=a=t;return r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Fa(e,t,r,n){var s=e.updateQueue;La=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?a=c:i.next=c,i=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=s.baseState;for(i=0,u=c=l=null,o=a;;){var h=o.lane,m=o.eventTime;if((n&h)===h){null!==u&&(u=u.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,f=o;switch(h=t,m=r,f.tag){case 1:if("function"===typeof(p=f.payload)){d=p.call(m,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=f.payload)?p.call(m,d,h):p)||void 0===h)break e;d=M({},d,h);break e;case 2:La=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=s.effects)?s.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=m,l=d):u=u.next=m,i|=h;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(h=o).next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}if(null===u&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null!==(t=s.shared.interleaved)){s=t;do{i|=s.lane,s=s.next}while(s!==t)}else null===a&&(s.shared.lanes=0);Il|=i,e.lanes=i,e.memoizedState=d}}function Ba(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(null!==s){if(n.callback=null,n=r,"function"!==typeof s)throw Error(a(191,s));s.call(n)}}}var qa={},Wa=ks(qa),Ha=ks(qa),Ka=ks(qa);function Ga(e){if(e===qa)throw Error(a(174));return e}function Ja(e,t){switch(_s(Ka,t),_s(Ha,e),_s(Wa,qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ss(Wa),_s(Wa,t)}function Ya(){Ss(Wa),Ss(Ha),Ss(Ka)}function Qa(e){Ga(Ka.current);var t=Ga(Wa.current),r=le(t,e.type);t!==r&&(_s(Ha,e),_s(Wa,r))}function Xa(e){Ha.current===e&&(Ss(Wa),Ss(Ha))}var Za=ks(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function ri(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ni=b.ReactCurrentDispatcher,si=b.ReactCurrentBatchConfig,ai=0,ii=null,oi=null,li=null,ci=!1,ui=!1,di=0,hi=0;function mi(){throw Error(a(321))}function pi(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!on(e[r],t[r]))return!1;return!0}function fi(e,t,r,n,s,i){if(ai=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ni.current=null===e||null===e.memoizedState?Xi:Zi,e=r(n,s),ui){i=0;do{if(ui=!1,di=0,25<=i)throw Error(a(301));i+=1,li=oi=null,t.updateQueue=null,ni.current=eo,e=r(n,s)}while(ui)}if(ni.current=Qi,t=null!==oi&&null!==oi.next,ai=0,li=oi=ii=null,ci=!1,t)throw Error(a(300));return e}function gi(){var e=0!==di;return di=0,e}function vi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===li?ii.memoizedState=li=e:li=li.next=e,li}function yi(){if(null===oi){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=oi.next;var t=null===li?ii.memoizedState:li.next;if(null!==t)li=t,oi=e;else{if(null===e)throw Error(a(310));e={memoizedState:(oi=e).memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},null===li?ii.memoizedState=li=e:li=li.next=e}return li}function xi(e,t){return"function"===typeof t?t(e):t}function bi(e){var t=yi(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=oi,s=n.baseQueue,i=r.pending;if(null!==i){if(null!==s){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(null!==s){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((ai&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=n):c=c.next=h,ii.lanes|=d,Il|=d}u=u.next}while(null!==u&&u!==i);null===c?o=n:c.next=l,on(n,t.memoizedState)||(xo=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(null!==(e=r.interleaved)){s=e;do{i=s.lane,ii.lanes|=i,Il|=i,s=s.next}while(s!==e)}else null===s&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function wi(e){var t=yi(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(null!==s){r.pending=null;var o=s=s.next;do{i=e(i,o.action),o=o.next}while(o!==s);on(i,t.memoizedState)||(xo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function ji(){}function Ni(e,t){var r=ii,n=yi(),s=t(),i=!on(n.memoizedState,s);if(i&&(n.memoizedState=s,xo=!0),n=n.queue,Li(_i.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||null!==li&&1&li.memoizedState.tag){if(r.flags|=2048,Ti(9,Si.bind(null,r,n,s,t),void 0,null),null===Pl)throw Error(a(349));0!==(30&ai)||ki(r,t,s)}return s}function ki(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Si(e,t,r,n){t.value=r,t.getSnapshot=n,Ei(t)&&Ci(e)}function _i(e,t,r){return r(function(){Ei(t)&&Ci(e)})}function Ei(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!on(e,r)}catch(n){return!0}}function Ci(e){var t=Da(e,1);null!==t&&rc(t,e,1,-1)}function Pi(e){var t=vi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:e},t.queue=e,e=e.dispatch=Ki.bind(null,ii,e),[t.memoizedState,e]}function Ti(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Ai(){return yi().memoizedState}function Ri(e,t,r,n){var s=vi();ii.flags|=e,s.memoizedState=Ti(1|t,r,void 0,void 0===n?null:n)}function Oi(e,t,r,n){var s=yi();n=void 0===n?null:n;var a=void 0;if(null!==oi){var i=oi.memoizedState;if(a=i.destroy,null!==n&&pi(n,i.deps))return void(s.memoizedState=Ti(t,r,a,n))}ii.flags|=e,s.memoizedState=Ti(1|t,r,a,n)}function Di(e,t){return Ri(8390656,8,e,t)}function Li(e,t){return Oi(2048,8,e,t)}function Ii(e,t){return Oi(4,2,e,t)}function Mi(e,t){return Oi(4,4,e,t)}function $i(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ui(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Oi(4,4,$i.bind(null,t,e),r)}function Vi(){}function zi(e,t){var r=yi();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&pi(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Fi(e,t){var r=yi();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&pi(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Bi(e,t,r){return 0===(21&ai)?(e.baseState&&(e.baseState=!1,xo=!0),e.memoizedState=r):(on(r,t)||(r=ft(),ii.lanes|=r,Il|=r,e.baseState=!0),t)}function qi(e,t){var r=xt;xt=0!==r&&4>r?r:4,e(!0);var n=si.transition;si.transition={};try{e(!1),t()}finally{xt=r,si.transition=n}}function Wi(){return yi().memoizedState}function Hi(e,t,r){var n=tc(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Gi(e))Ji(t,r);else if(null!==(r=Oa(e,t,r,n))){rc(r,e,n,ec()),Yi(r,t,n)}}function Ki(e,t,r){var n=tc(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Gi(e))Ji(t,s);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=a(i,r);if(s.hasEagerState=!0,s.eagerState=o,on(o,i)){var l=t.interleaved;return null===l?(s.next=s,Ra(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(c){}null!==(r=Oa(e,t,s,n))&&(rc(r,e,n,s=ec()),Yi(r,t,n))}}function Gi(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function Ji(e,t){ui=ci=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Yi(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,yt(e,r)}}var Qi={readContext:Ta,useCallback:mi,useContext:mi,useEffect:mi,useImperativeHandle:mi,useInsertionEffect:mi,useLayoutEffect:mi,useMemo:mi,useReducer:mi,useRef:mi,useState:mi,useDebugValue:mi,useDeferredValue:mi,useTransition:mi,useMutableSource:mi,useSyncExternalStore:mi,useId:mi,unstable_isNewReconciler:!1},Xi={readContext:Ta,useCallback:function(e,t){return vi().memoizedState=[e,void 0===t?null:t],e},useContext:Ta,useEffect:Di,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Ri(4194308,4,$i.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ri(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ri(4,2,e,t)},useMemo:function(e,t){var r=vi();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=vi();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Hi.bind(null,ii,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},vi().memoizedState=e},useState:Pi,useDebugValue:Vi,useDeferredValue:function(e){return vi().memoizedState=e},useTransition:function(){var e=Pi(!1),t=e[0];return e=qi.bind(null,e[1]),vi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ii,s=vi();if(sa){if(void 0===r)throw Error(a(407));r=r()}else{if(r=t(),null===Pl)throw Error(a(349));0!==(30&ai)||ki(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Di(_i.bind(null,n,i,e),[e]),n.flags|=2048,Ti(9,Si.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=vi(),t=Pl.identifierPrefix;if(sa){var r=Qs;t=":"+t+"R"+(r=(Ys&~(1<<32-it(Ys)-1)).toString(32)+r),0<(r=di++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=hi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zi={readContext:Ta,useCallback:zi,useContext:Ta,useEffect:Li,useImperativeHandle:Ui,useInsertionEffect:Ii,useLayoutEffect:Mi,useMemo:Fi,useReducer:bi,useRef:Ai,useState:function(){return bi(xi)},useDebugValue:Vi,useDeferredValue:function(e){return Bi(yi(),oi.memoizedState,e)},useTransition:function(){return[bi(xi)[0],yi().memoizedState]},useMutableSource:ji,useSyncExternalStore:Ni,useId:Wi,unstable_isNewReconciler:!1},eo={readContext:Ta,useCallback:zi,useContext:Ta,useEffect:Li,useImperativeHandle:Ui,useInsertionEffect:Ii,useLayoutEffect:Mi,useMemo:Fi,useReducer:wi,useRef:Ai,useState:function(){return wi(xi)},useDebugValue:Vi,useDeferredValue:function(e){var t=yi();return null===oi?t.memoizedState=e:Bi(t,oi.memoizedState,e)},useTransition:function(){return[wi(xi)[0],yi().memoizedState]},useMutableSource:ji,useSyncExternalStore:Ni,useId:Wi,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var r in t=M({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function ro(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:M({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var no={isMounted:function(e){return!!(e=e._reactInternals)&&Fe(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ec(),s=tc(e),a=$a(n,s);a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=Ua(e,a,s))&&(rc(t,e,s,n),Va(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ec(),s=tc(e),a=$a(n,s);a.tag=1,a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=Ua(e,a,s))&&(rc(t,e,s,n),Va(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ec(),n=tc(e),s=$a(r,n);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=Ua(e,s,n))&&(rc(t,e,n,r),Va(t,e,n))}};function so(e,t,r,n,s,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!ln(r,n)||!ln(s,a))}function ao(e,t,r){var n=!1,s=Es,a=t.contextType;return"object"===typeof a&&null!==a?a=Ta(a):(s=Rs(t)?Ts:Cs.current,a=(n=null!==(n=t.contextTypes)&&void 0!==n)?As(e,s):Es),t=new t(r,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=no,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function io(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&no.enqueueReplaceState(t,t.state,null)}function oo(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Ia(e);var a=t.contextType;"object"===typeof a&&null!==a?s.context=Ta(a):(a=Rs(t)?Ts:Cs.current,s.context=As(e,a)),s.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ro(e,t,a,r),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&no.enqueueReplaceState(s,s.state,null),Fa(e,r,s,n),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var r="",n=t;do{r+=z(n),n=n.return}while(n);var s=r}catch(a){s="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:s,digest:null}}function co(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ho="function"===typeof WeakMap?WeakMap:Map;function mo(e,t,r){(r=$a(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ql||(ql=!0,Wl=n),uo(0,t)},r}function po(e,t,r){(r=$a(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){uo(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(r.callback=function(){uo(0,t),"function"!==typeof n&&(null===Hl?Hl=new Set([this]):Hl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function fo(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new ho;var s=new Set;n.set(t,s)}else void 0===(s=n.get(t))&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Sc.bind(null,e,t,r),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,r,n,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=$a(-1,1)).tag=2,Ua(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var yo=b.ReactCurrentOwner,xo=!1;function bo(e,t,r,n){t.child=null===e?wa(t,null,r,n):ba(t,e.child,r,n)}function wo(e,t,r,n,s){r=r.render;var a=t.ref;return Pa(t,s),n=fi(e,t,r,n,a,s),r=gi(),null===e||xo?(sa&&r&&ea(t),t.flags|=1,bo(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qo(e,t,s))}function jo(e,t,r,n,s){if(null===e){var a=r.type;return"function"!==typeof a||Rc(a)||void 0!==a.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Dc(r.type,null,n,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,No(e,t,a,n,s))}if(a=e.child,0===(e.lanes&s)){var i=a.memoizedProps;if((r=null!==(r=r.compare)?r:ln)(i,n)&&e.ref===t.ref)return qo(e,t,s)}return t.flags|=1,(e=Oc(a,n)).ref=t.ref,e.return=t,t.child=e}function No(e,t,r,n,s){if(null!==e){var a=e.memoizedProps;if(ln(a,n)&&e.ref===t.ref){if(xo=!1,t.pendingProps=n=a,0===(e.lanes&s))return t.lanes=e.lanes,qo(e,t,s);0!==(131072&e.flags)&&(xo=!0)}}return _o(e,t,r,n,s)}function ko(e,t,r){var n=t.pendingProps,s=n.children,a=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_s(Ol,Rl),Rl|=r;else{if(0===(1073741824&r))return e=null!==a?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_s(Ol,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==a?a.baseLanes:r,_s(Ol,Rl),Rl|=n}else null!==a?(n=a.baseLanes|r,t.memoizedState=null):n=r,_s(Ol,Rl),Rl|=n;return bo(e,t,s,r),t.child}function So(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function _o(e,t,r,n,s){var a=Rs(r)?Ts:Cs.current;return a=As(t,a),Pa(t,s),r=fi(e,t,r,n,a,s),n=gi(),null===e||xo?(sa&&n&&ea(t),t.flags|=1,bo(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qo(e,t,s))}function Eo(e,t,r,n,s){if(Rs(r)){var a=!0;Is(t)}else a=!1;if(Pa(t,s),null===t.stateNode)Bo(e,t),ao(t,r,n),oo(t,r,n,s),n=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=r.contextType;"object"===typeof c&&null!==c?c=Ta(c):c=As(t,c=Rs(r)?Ts:Cs.current);var u=r.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==n||l!==c)&&io(t,i,n,c),La=!1;var h=t.memoizedState;i.state=h,Fa(t,n,i,s),l=t.memoizedState,o!==n||h!==l||Ps.current||La?("function"===typeof u&&(ro(t,r,u,n),l=t.memoizedState),(o=La||so(t,r,o,n,h,l,c))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=c,n=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Ma(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),i.props=c,d=t.pendingProps,h=i.context,"object"===typeof(l=r.contextType)&&null!==l?l=Ta(l):l=As(t,l=Rs(r)?Ts:Cs.current);var m=r.getDerivedStateFromProps;(u="function"===typeof m||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==d||h!==l)&&io(t,i,n,l),La=!1,h=t.memoizedState,i.state=h,Fa(t,n,i,s);var p=t.memoizedState;o!==d||h!==p||Ps.current||La?("function"===typeof m&&(ro(t,r,m,n),p=t.memoizedState),(c=La||so(t,r,c,n,h,p,l)||!1)?(u||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(n,p,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(n,p,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),i.props=n,i.state=p,i.context=l,n=c):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Co(e,t,r,n,a,s)}function Co(e,t,r,n,s,a){So(e,t);var i=0!==(128&t.flags);if(!n&&!i)return s&&Ms(t,r,!1),qo(e,t,a);n=t.stateNode,yo.current=t;var o=i&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&i?(t.child=ba(t,e.child,null,a),t.child=ba(t,null,o,a)):bo(e,t,o,a),t.memoizedState=n.state,s&&Ms(t,r,!0),t.child}function Po(e){var t=e.stateNode;t.pendingContext?Ds(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ds(0,t.context,!1),Ja(e,t.containerInfo)}function To(e,t,r,n,s){return ma(),pa(s),t.flags|=256,bo(e,t,r,n),t.child}var Ao,Ro,Oo,Do,Lo={dehydrated:null,treeContext:null,retryLane:0};function Io(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mo(e,t,r){var n,s=t.pendingProps,i=Za.current,o=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&i)),n?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),_s(Za,1&i),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=s.children,e=s.fallback,o?(s=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&s)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Ic(l,s,0,null),e=Lc(e,s,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Io(r),t.memoizedState=Lo,e):$o(t,l));if(null!==(i=e.memoizedState)&&null!==(n=i.dehydrated))return function(e,t,r,n,s,i,o){if(r)return 256&t.flags?(t.flags&=-257,Uo(e,t,o,n=co(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Ic({mode:"visible",children:n.children},s,0,null),(i=Lc(i,s,o,null)).flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,0!==(1&t.mode)&&ba(t,e.child,null,o),t.child.memoizedState=Io(o),t.memoizedState=Lo,i);if(0===(1&t.mode))return Uo(e,t,o,null);if("$!"===s.data){if(n=s.nextSibling&&s.nextSibling.dataset)var l=n.dgst;return n=l,Uo(e,t,o,n=co(i=Error(a(419)),n,void 0))}if(l=0!==(o&e.childLanes),xo||l){if(null!==(n=Pl)){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(n.suspendedLanes|o))?0:s)&&s!==i.retryLane&&(i.retryLane=s,Da(e,s),rc(n,e,s,-1))}return fc(),Uo(e,t,o,n=co(Error(a(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,na=cs(s.nextSibling),ra=t,sa=!0,aa=null,null!==e&&(Ks[Gs++]=Ys,Ks[Gs++]=Qs,Ks[Gs++]=Js,Ys=e.id,Qs=e.overflow,Js=t),t=$o(t,n.children),t.flags|=4096,t)}(e,t,l,s,n,i,r);if(o){o=s.fallback,l=t.mode,n=(i=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&l)&&t.child!==i?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=Oc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==n?o=Oc(n,o):(o=Lc(o,l,r,null)).flags|=2,o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,l=null===(l=e.child.memoizedState)?Io(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~r,t.memoizedState=Lo,s}return e=(o=e.child).sibling,s=Oc(o,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=r),s.return=t,s.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function $o(e,t){return(t=Ic({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uo(e,t,r,n){return null!==n&&pa(n),ba(t,e.child,null,r),(e=$o(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vo(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ca(e.return,t,r)}function zo(e,t,r,n,s){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function Fo(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(bo(e,t,n.children,r),0!==(2&(n=Za.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vo(e,r,t);else if(19===e.tag)Vo(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(_s(Za,n),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;null!==r;)null!==(e=r.alternate)&&null===ei(e)&&(s=r),r=r.sibling;null===(r=s)?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),zo(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===ei(e)){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}zo(t,!0,r,null,a);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qo(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Il|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(r=Oc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Oc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Wo(e,t){if(!sa)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ho(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;null!==s;)r|=s.lanes|s.childLanes,n|=14680064&s.subtreeFlags,n|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Ko(e,t,r){var n=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ho(t),null;case 1:case 17:return Rs(t.type)&&Os(),Ho(t),null;case 3:return n=t.stateNode,Ya(),Ss(Ps),Ss(Cs),ri(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ic(aa),aa=null))),Ro(e,t),Ho(t),null;case 5:Xa(t);var s=Ga(Ka.current);if(r=t.type,null!==e&&null!=t.stateNode)Oo(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(a(166));return Ho(t),null}if(e=Ga(Wa.current),da(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[hs]=t,n[ms]=i,e=0!==(1&t.mode),r){case"dialog":Un("cancel",n),Un("close",n);break;case"iframe":case"object":case"embed":Un("load",n);break;case"video":case"audio":for(s=0;s<Ln.length;s++)Un(Ln[s],n);break;case"source":Un("error",n);break;case"img":case"image":case"link":Un("error",n),Un("load",n);break;case"details":Un("toggle",n);break;case"input":Y(n,i),Un("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Un("invalid",n);break;case"textarea":se(n,i),Un("invalid",n)}for(var l in ye(r,i),s=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?n.textContent!==c&&(!0!==i.suppressHydrationWarning&&Xn(n.textContent,c,e),s=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Xn(n.textContent,c,e),s=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Un("scroll",n)}switch(r){case"input":H(n),Z(n,i,!0);break;case"textarea":H(n),ie(n);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(n.onclick=Zn)}n=s,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),"select"===r&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[hs]=t,e[ms]=n,Ao(e,t,!1,!1),t.stateNode=e;e:{switch(l=xe(r,n),r){case"dialog":Un("cancel",e),Un("close",e),s=n;break;case"iframe":case"object":case"embed":Un("load",e),s=n;break;case"video":case"audio":for(s=0;s<Ln.length;s++)Un(Ln[s],e);s=n;break;case"source":Un("error",e),s=n;break;case"img":case"image":case"link":Un("error",e),Un("load",e),s=n;break;case"details":Un("toggle",e),s=n;break;case"input":Y(e,n),s=J(e,n),Un("invalid",e);break;case"option":default:s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=M({},n,{value:void 0}),Un("invalid",e);break;case"textarea":se(e,n),s=ne(e,n),Un("invalid",e)}for(i in ye(r,s),c=s)if(c.hasOwnProperty(i)){var u=c[i];"style"===i?ge(e,u):"dangerouslySetInnerHTML"===i?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===i?"string"===typeof u?("textarea"!==r||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=u&&"onScroll"===i&&Un("scroll",e):null!=u&&x(e,i,u,l))}switch(r){case"input":H(e),Z(e,n,!1);break;case"textarea":H(e),ie(e);break;case"option":null!=n.value&&e.setAttribute("value",""+q(n.value));break;case"select":e.multiple=!!n.multiple,null!=(i=n.value)?re(e,!!n.multiple,i,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Zn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ho(t),null;case 6:if(e&&null!=t.stateNode)Do(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(a(166));if(r=Ga(Ka.current),Ga(Wa.current),da(t)){if(n=t.stateNode,r=t.memoizedProps,n[hs]=t,(i=n.nodeValue!==r)&&null!==(e=ra))switch(e.tag){case 3:Xn(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xn(n.nodeValue,r,0!==(1&e.mode))}i&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[hs]=t,t.stateNode=n}return Ho(t),null;case 13:if(Ss(Za),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(sa&&null!==na&&0!==(1&t.mode)&&0===(128&t.flags))ha(),ma(),t.flags|=98560,i=!1;else if(i=da(t),null!==n&&null!==n.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[hs]=t}else ma(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ho(t),i=!1}else null!==aa&&(ic(aa),aa=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Za.current)?0===Dl&&(Dl=3):fc())),null!==t.updateQueue&&(t.flags|=4),Ho(t),null);case 4:return Ya(),Ro(e,t),null===e&&Fn(t.stateNode.containerInfo),Ho(t),null;case 10:return Ea(t.type._context),Ho(t),null;case 19:if(Ss(Za),null===(i=t.memoizedState))return Ho(t),null;if(n=0!==(128&t.flags),null===(l=i.rendering))if(n)Wo(i,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ei(e))){for(t.flags|=128,Wo(i,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(i=r).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return _s(Za,1&Za.current|2),t.child}e=e.sibling}null!==i.tail&&Qe()>Fl&&(t.flags|=128,n=!0,Wo(i,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=ei(l))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Wo(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!sa)return Ho(t),null}else 2*Qe()-i.renderingStartTime>Fl&&1073741824!==r&&(t.flags|=128,n=!0,Wo(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=i.last)?r.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Qe(),t.sibling=null,r=Za.current,_s(Za,n?1&r|2:1&r),t):(Ho(t),null);case 22:case 23:return dc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(Ho(t),6&t.subtreeFlags&&(t.flags|=8192)):Ho(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Go(e,t){switch(ta(t),t.tag){case 1:return Rs(t.type)&&Os(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ya(),Ss(Ps),Ss(Cs),ri(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xa(t),null;case 13:if(Ss(Za),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ma()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ss(Za),null;case 4:return Ya(),null;case 10:return Ea(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ao=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Ro=function(){},Oo=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ga(Wa.current);var a,i=null;switch(r){case"input":s=J(e,s),n=J(e,n),i=[];break;case"select":s=M({},s,{value:void 0}),n=M({},n,{value:void 0}),i=[];break;case"textarea":s=ne(e,s),n=ne(e,n),i=[];break;default:"function"!==typeof s.onClick&&"function"===typeof n.onClick&&(e.onclick=Zn)}for(u in ye(r,n),r=null,s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&null!=s[u])if("style"===u){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=null!=s?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(u,r)),r=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Un("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}},Do=function(e,t,r,n){r!==n&&(t.flags|=4)};var Jo=!1,Yo=!1,Qo="function"===typeof WeakSet?WeakSet:Set,Xo=null;function Zo(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){kc(e,t,n)}else r.current=null}function el(e,t,r){try{r()}catch(n){kc(e,t,n)}}var tl=!1;function rl(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,void 0!==a&&el(t,r,a)}s=s.next}while(s!==n)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function sl(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hs],delete t[ms],delete t[fs],delete t[gs],delete t[vs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Zn));else if(4!==n&&null!==(e=e.child))for(ll(e,t,r),e=e.sibling;null!==e;)ll(e,t,r),e=e.sibling}function cl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(cl(e,t,r),e=e.sibling;null!==e;)cl(e,t,r),e=e.sibling}var ul=null,dl=!1;function hl(e,t,r){for(r=r.child;null!==r;)ml(e,t,r),r=r.sibling}function ml(e,t,r){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(st,r)}catch(o){}switch(r.tag){case 5:Yo||Zo(r,t);case 6:var n=ul,s=dl;ul=null,hl(e,t,r),dl=s,null!==(ul=n)&&(dl?(e=ul,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):ul.removeChild(r.stateNode));break;case 18:null!==ul&&(dl?(e=ul,r=r.stateNode,8===e.nodeType?ls(e.parentNode,r):1===e.nodeType&&ls(e,r),Ft(e)):ls(ul,r.stateNode));break;case 4:n=ul,s=dl,ul=r.stateNode.containerInfo,dl=!0,hl(e,t,r),ul=n,dl=s;break;case 0:case 11:case 14:case 15:if(!Yo&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){s=n=n.next;do{var a=s,i=a.destroy;a=a.tag,void 0!==i&&(0!==(2&a)||0!==(4&a))&&el(r,t,i),s=s.next}while(s!==n)}hl(e,t,r);break;case 1:if(!Yo&&(Zo(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){kc(r,t,o)}hl(e,t,r);break;case 21:hl(e,t,r);break;case 22:1&r.mode?(Yo=(n=Yo)||null!==r.memoizedState,hl(e,t,r),Yo=n):hl(e,t,r);break;default:hl(e,t,r)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Qo),t.forEach(function(t){var n=Cc.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))})}}function fl(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(a(160));ml(i,o,s),ul=null,dl=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(u){kc(s,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),vl(e),4&n){try{rl(3,e,e.return),nl(3,e)}catch(g){kc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:fl(t,e),vl(e),512&n&&null!==r&&Zo(r,r.return);break;case 5:if(fl(t,e),vl(e),512&n&&null!==r&&Zo(r,r.return),32&e.flags){var s=e.stateNode;try{he(s,"")}catch(g){kc(e,e.return,g)}}if(4&n&&null!=(s=e.stateNode)){var i=e.memoizedProps,o=null!==r?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&Q(s,i),xe(l,o);var u=xe(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(s,h):"dangerouslySetInnerHTML"===d?de(s,h):"children"===d?he(s,h):x(s,d,h,u)}switch(l){case"input":X(s,i);break;case"textarea":ae(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;null!=p?re(s,!!i.multiple,p,!1):m!==!!i.multiple&&(null!=i.defaultValue?re(s,!!i.multiple,i.defaultValue,!0):re(s,!!i.multiple,i.multiple?[]:"",!1))}s[ms]=i}catch(g){kc(e,e.return,g)}}break;case 6:if(fl(t,e),vl(e),4&n){if(null===e.stateNode)throw Error(a(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){kc(e,e.return,g)}}break;case 3:if(fl(t,e),vl(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Ft(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:fl(t,e),vl(e);break;case 13:fl(t,e),vl(e),8192&(s=e.child).flags&&(i=null!==s.memoizedState,s.stateNode.isHidden=i,!i||null!==s.alternate&&null!==s.alternate.memoizedState||(zl=Qe())),4&n&&pl(e);break;case 22:if(d=null!==r&&null!==r.memoizedState,1&e.mode?(Yo=(u=Yo)||d,fl(t,e),Yo=u):fl(t,e),vl(e),8192&n){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Xo=e,d=e.child;null!==d;){for(h=Xo=d;null!==Xo;){switch(p=(m=Xo).child,m.tag){case 0:case 11:case 14:case 15:rl(4,m,m.return);break;case 1:Zo(m,m.return);var f=m.stateNode;if("function"===typeof f.componentWillUnmount){n=m,r=m.return;try{t=n,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(g){kc(n,r,g)}}break;case 5:Zo(m,m.return);break;case 22:if(null!==m.memoizedState){wl(h);continue}}null!==p?(p.return=m,Xo=p):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{s=h.stateNode,u?"function"===typeof(i=s.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",o))}catch(g){kc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fl(t,e),vl(e),4&n&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(il(r)){var n=r;break e}r=r.return}throw Error(a(160))}switch(n.tag){case 5:var s=n.stateNode;32&n.flags&&(he(s,""),n.flags&=-33),cl(e,ol(e),s);break;case 3:case 4:var i=n.stateNode.containerInfo;ll(e,ol(e),i);break;default:throw Error(a(161))}}catch(o){kc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,r){Xo=e,xl(e,t,r)}function xl(e,t,r){for(var n=0!==(1&e.mode);null!==Xo;){var s=Xo,a=s.child;if(22===s.tag&&n){var i=null!==s.memoizedState||Jo;if(!i){var o=s.alternate,l=null!==o&&null!==o.memoizedState||Yo;o=Jo;var c=Yo;if(Jo=i,(Yo=l)&&!c)for(Xo=s;null!==Xo;)l=(i=Xo).child,22===i.tag&&null!==i.memoizedState?jl(s):null!==l?(l.return=i,Xo=l):jl(s);for(;null!==a;)Xo=a,xl(a,t,r),a=a.sibling;Xo=s,Jo=o,Yo=c}bl(e)}else 0!==(8772&s.subtreeFlags)&&null!==a?(a.return=s,Xo=a):bl(e)}}function bl(e){for(;null!==Xo;){var t=Xo;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yo||nl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Yo)if(null===r)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:to(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Ba(t,i,n);break;case 3:var o=t.updateQueue;if(null!==o){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Ba(t,o,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Ft(h)}}}break;default:throw Error(a(163))}Yo||512&t.flags&&sl(t)}catch(m){kc(t,t.return,m)}}if(t===e){Xo=null;break}if(null!==(r=t.sibling)){r.return=t.return,Xo=r;break}Xo=t.return}}function wl(e){for(;null!==Xo;){var t=Xo;if(t===e){Xo=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Xo=r;break}Xo=t.return}}function jl(e){for(;null!==Xo;){var t=Xo;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{nl(4,t)}catch(l){kc(t,r,l)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var s=t.return;try{n.componentDidMount()}catch(l){kc(t,s,l)}}var a=t.return;try{sl(t)}catch(l){kc(t,a,l)}break;case 5:var i=t.return;try{sl(t)}catch(l){kc(t,i,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Xo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Xo=o;break}Xo=t.return}}var Nl,kl=Math.ceil,Sl=b.ReactCurrentDispatcher,_l=b.ReactCurrentOwner,El=b.ReactCurrentBatchConfig,Cl=0,Pl=null,Tl=null,Al=0,Rl=0,Ol=ks(0),Dl=0,Ll=null,Il=0,Ml=0,$l=0,Ul=null,Vl=null,zl=0,Fl=1/0,Bl=null,ql=!1,Wl=null,Hl=null,Kl=!1,Gl=null,Jl=0,Yl=0,Ql=null,Xl=-1,Zl=0;function ec(){return 0!==(6&Cl)?Qe():-1!==Xl?Xl:Xl=Qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Al?Al&-Al:null!==fa.transition?(0===Zl&&(Zl=ft()),Zl):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rc(e,t,r,n){if(50<Yl)throw Yl=0,Ql=null,Error(a(185));vt(e,r,n),0!==(2&Cl)&&e===Pl||(e===Pl&&(0===(2&Cl)&&(Ml|=r),4===Dl&&oc(e,Al)),nc(e,n),1===r&&0===Cl&&0===(1&t.mode)&&(Fl=Qe()+500,Us&&Fs()))}function nc(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-it(a),o=1<<i,l=s[i];-1===l?0!==(o&r)&&0===(o&n)||(s[i]=mt(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var n=ht(e,e===Pl?Al:0);if(0===n)null!==r&&Ge(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Ge(r),1===t)0===e.tag?function(e){Us=!0,zs(e)}(lc.bind(null,e)):zs(lc.bind(null,e)),is(function(){0===(6&Cl)&&Fs()}),r=null;else{switch(bt(n)){case 1:r=Ze;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=Pc(r,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function sc(e,t){if(Xl=-1,Zl=0,0!==(6&Cl))throw Error(a(327));var r=e.callbackNode;if(jc()&&e.callbackNode!==r)return null;var n=ht(e,e===Pl?Al:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=gc(e,n);else{t=n;var s=Cl;Cl|=2;var i=pc();for(Pl===e&&Al===t||(Bl=null,Fl=Qe()+500,hc(e,t));;)try{yc();break}catch(l){mc(e,l)}_a(),Sl.current=i,Cl=s,null!==Tl?t=0:(Pl=null,Al=0,t=Dl)}if(0!==t){if(2===t&&(0!==(s=pt(e))&&(n=s,t=ac(e,s))),1===t)throw r=Ll,hc(e,0),oc(e,n),nc(e,Qe()),r;if(6===t)oc(e,n);else{if(s=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!on(a(),s))return!1}catch(o){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=gc(e,n))&&(0!==(i=pt(e))&&(n=i,t=ac(e,i))),1===t))throw r=Ll,hc(e,0),oc(e,n),nc(e,Qe()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Vl,Bl);break;case 3:if(oc(e,n),(130023424&n)===n&&10<(t=zl+500-Qe())){if(0!==ht(e,0))break;if(((s=e.suspendedLanes)&n)!==n){ec(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ns(wc.bind(null,e,Vl,Bl),t);break}wc(e,Vl,Bl);break;case 4:if(oc(e,n),(4194240&n)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-it(n);i=1<<o,(o=t[o])>s&&(s=o),n&=~i}if(n=s,10<(n=(120>(n=Qe()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*kl(n/1960))-n)){e.timeoutHandle=ns(wc.bind(null,e,Vl,Bl),n);break}wc(e,Vl,Bl);break;default:throw Error(a(329))}}}return nc(e,Qe()),e.callbackNode===r?sc.bind(null,e):null}function ac(e,t){var r=Ul;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Vl,Vl=r,null!==t&&ic(t)),e}function ic(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function oc(e,t){for(t&=~$l,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-it(t),n=1<<r;e[r]=-1,t&=~n}}function lc(e){if(0!==(6&Cl))throw Error(a(327));jc();var t=ht(e,0);if(0===(1&t))return nc(e,Qe()),null;var r=gc(e,t);if(0!==e.tag&&2===r){var n=pt(e);0!==n&&(t=n,r=ac(e,n))}if(1===r)throw r=Ll,hc(e,0),oc(e,t),nc(e,Qe()),r;if(6===r)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vl,Bl),nc(e,Qe()),null}function cc(e,t){var r=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=r)&&(Fl=Qe()+500,Us&&Fs())}}function uc(e){null!==Gl&&0===Gl.tag&&0===(6&Cl)&&jc();var t=Cl;Cl|=1;var r=El.transition,n=xt;try{if(El.transition=null,xt=1,e)return e()}finally{xt=n,El.transition=r,0===(6&(Cl=t))&&Fs()}}function dc(){Rl=Ol.current,Ss(Ol)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,ss(r)),null!==Tl)for(r=Tl.return;null!==r;){var n=r;switch(ta(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Os();break;case 3:Ya(),Ss(Ps),Ss(Cs),ri();break;case 5:Xa(n);break;case 4:Ya();break;case 13:case 19:Ss(Za);break;case 10:Ea(n.type._context);break;case 22:case 23:dc()}r=r.return}if(Pl=e,Tl=e=Oc(e.current,null),Al=Rl=t,Dl=0,Ll=null,$l=Ml=Il=0,Vl=Ul=null,null!==Aa){for(t=0;t<Aa.length;t++)if(null!==(n=(r=Aa[t]).interleaved)){r.interleaved=null;var s=n.next,a=r.pending;if(null!==a){var i=a.next;a.next=s,n.next=i}r.pending=n}Aa=null}return e}function mc(e,t){for(;;){var r=Tl;try{if(_a(),ni.current=Qi,ci){for(var n=ii.memoizedState;null!==n;){var s=n.queue;null!==s&&(s.pending=null),n=n.next}ci=!1}if(ai=0,li=oi=ii=null,ui=!1,di=0,_l.current=null,null===r||null===r.return){Dl=1,Ll=t,Tl=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,vo(p,o,l,0,t),1&p.mode&&fo(i,u,t),c=u;var f=(t=p).updateQueue;if(null===f){var g=new Set;g.add(c),t.updateQueue=g}else f.add(c);break e}if(0===(1&t)){fo(i,u,t),fc();break e}c=Error(a(426))}else if(sa&&1&l.mode){var v=go(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,t),pa(lo(c,l));break e}}i=c=lo(c,l),4!==Dl&&(Dl=2),null===Ul?Ul=[i]:Ul.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,za(i,mo(0,c,t));break e;case 1:l=c;var y=i.type,x=i.stateNode;if(0===(128&i.flags)&&("function"===typeof y.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Hl||!Hl.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t,za(i,po(i,l,t));break e}}i=i.return}while(null!==i)}bc(r)}catch(b){t=b,Tl===r&&null!==r&&(Tl=r=r.return);continue}break}}function pc(){var e=Sl.current;return Sl.current=Qi,null===e?Qi:e}function fc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Pl||0===(268435455&Il)&&0===(268435455&Ml)||oc(Pl,Al)}function gc(e,t){var r=Cl;Cl|=2;var n=pc();for(Pl===e&&Al===t||(Bl=null,hc(e,t));;)try{vc();break}catch(s){mc(e,s)}if(_a(),Cl=r,Sl.current=n,null!==Tl)throw Error(a(261));return Pl=null,Al=0,Dl}function vc(){for(;null!==Tl;)xc(Tl)}function yc(){for(;null!==Tl&&!Je();)xc(Tl)}function xc(e){var t=Nl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?bc(e):Tl=t,_l.current=null}function bc(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Ko(r,t,Rl)))return void(Tl=r)}else{if(null!==(r=Go(r,t)))return r.flags&=32767,void(Tl=r);if(null===e)return Dl=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Dl&&(Dl=5)}function wc(e,t,r){var n=xt,s=El.transition;try{El.transition=null,xt=1,function(e,t,r,n){do{jc()}while(null!==Gl);if(0!==(6&Cl))throw Error(a(327));r=e.finishedWork;var s=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-it(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}(e,i),e===Pl&&(Tl=Pl=null,Al=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Kl||(Kl=!0,Pc(tt,function(){return jc(),null})),i=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||i){i=El.transition,El.transition=null;var o=xt;xt=1;var l=Cl;Cl|=4,_l.current=null,function(e,t){if(es=qt,mn(e=hn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch(w){r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var p;h!==r||0!==s&&3!==h.nodeType||(l=o+s),h!==i||0!==n&&3!==h.nodeType||(c=o+n),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)m=h,h=p;for(;;){if(h===e)break t;if(m===r&&++u===s&&(l=o),m===i&&++d===n&&(c=o),null!==(p=h.nextSibling))break;m=(h=m).parentNode}h=p}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ts={focusedElem:e,selectionRange:r},qt=!1,Xo=t;null!==Xo;)if(e=(t=Xo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xo=e;else for(;null!==Xo;){t=Xo;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var g=f.memoizedProps,v=f.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){kc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xo=e;break}Xo=t.return}f=tl,tl=!1}(e,r),gl(r,e),pn(ts),qt=!!es,ts=es=null,e.current=r,yl(r,e,s),Ye(),Cl=l,xt=o,El.transition=i}else e.current=r;if(Kl&&(Kl=!1,Gl=e,Jl=s),i=e.pendingLanes,0===i&&(Hl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),nc(e,Qe()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ql)throw ql=!1,e=Wl,Wl=null,e;0!==(1&Jl)&&0!==e.tag&&jc(),i=e.pendingLanes,0!==(1&i)?e===Ql?Yl++:(Yl=0,Ql=e):Yl=0,Fs()}(e,t,r,n)}finally{El.transition=s,xt=n}return null}function jc(){if(null!==Gl){var e=bt(Jl),t=El.transition,r=xt;try{if(El.transition=null,xt=16>e?16:e,null===Gl)var n=!1;else{if(e=Gl,Gl=null,Jl=0,0!==(6&Cl))throw Error(a(331));var s=Cl;for(Cl|=4,Xo=e.current;null!==Xo;){var i=Xo,o=i.child;if(0!==(16&Xo.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Xo=u;null!==Xo;){var d=Xo;switch(d.tag){case 0:case 11:case 15:rl(8,d,i)}var h=d.child;if(null!==h)h.return=d,Xo=h;else for(;null!==Xo;){var m=(d=Xo).sibling,p=d.return;if(al(d),d===u){Xo=null;break}if(null!==m){m.return=p,Xo=m;break}Xo=p}}}var f=i.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Xo=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,Xo=o;else e:for(;null!==Xo;){if(0!==(2048&(i=Xo).flags))switch(i.tag){case 0:case 11:case 15:rl(9,i,i.return)}var y=i.sibling;if(null!==y){y.return=i.return,Xo=y;break e}Xo=i.return}}var x=e.current;for(Xo=x;null!==Xo;){var b=(o=Xo).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,Xo=b;else e:for(o=x;null!==Xo;){if(0!==(2048&(l=Xo).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(j){kc(l,l.return,j)}if(l===o){Xo=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Xo=w;break e}Xo=l.return}}if(Cl=s,Fs(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(st,e)}catch(j){}n=!0}return n}finally{xt=r,El.transition=t}}return!1}function Nc(e,t,r){e=Ua(e,t=mo(0,t=lo(r,t),1),1),t=ec(),null!==e&&(vt(e,1,t),nc(e,t))}function kc(e,t,r){if(3===e.tag)Nc(e,e,r);else for(;null!==t;){if(3===t.tag){Nc(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Hl||!Hl.has(n))){t=Ua(t,e=po(t,e=lo(r,e),1),1),e=ec(),null!==t&&(vt(t,1,e),nc(t,e));break}}t=t.return}}function Sc(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&r,Pl===e&&(Al&r)===r&&(4===Dl||3===Dl&&(130023424&Al)===Al&&500>Qe()-zl?hc(e,0):$l|=r),nc(e,t)}function _c(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var r=ec();null!==(e=Da(e,t))&&(vt(e,t,r),nc(e,r))}function Ec(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),_c(e,r)}function Cc(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;null!==s&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(a(314))}null!==n&&n.delete(t),_c(e,r)}function Pc(e,t){return Ke(e,t)}function Tc(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,r,n){return new Tc(e,t,r,n)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var r=e.alternate;return null===r?((r=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Dc(e,t,r,n,s,i){var o=2;if(n=e,"function"===typeof e)Rc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case N:return Lc(r.children,s,i,t);case k:o=8,s|=8;break;case S:return(e=Ac(12,r,t,2|s)).elementType=S,e.lanes=i,e;case P:return(e=Ac(13,r,t,s)).elementType=P,e.lanes=i,e;case T:return(e=Ac(19,r,t,s)).elementType=T,e.lanes=i,e;case O:return Ic(r,s,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:o=10;break e;case E:o=9;break e;case C:o=11;break e;case A:o=14;break e;case R:o=16,n=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ac(o,r,t,s)).elementType=e,t.type=n,t.lanes=i,t}function Lc(e,t,r,n){return(e=Ac(7,e,n,t)).lanes=r,e}function Ic(e,t,r,n){return(e=Ac(22,e,n,t)).elementType=O,e.lanes=r,e.stateNode={isHidden:!1},e}function Mc(e,t,r){return(e=Ac(6,e,null,t)).lanes=r,e}function $c(e,t,r){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Vc(e,t,r,n,s,a,i,o,l){return e=new Uc(e,t,r,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ac(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ia(a),e}function zc(e){if(!e)return Es;e:{if(Fe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var r=e.type;if(Rs(r))return Ls(e,r,t)}return t}function Fc(e,t,r,n,s,a,i,o,l){return(e=Vc(r,n,!0,e,0,a,0,o,l)).context=zc(null),r=e.current,(a=$a(n=ec(),s=tc(r))).callback=void 0!==t&&null!==t?t:null,Ua(r,a,s),e.current.lanes=s,vt(e,s,n),nc(e,n),e}function Bc(e,t,r,n){var s=t.current,a=ec(),i=tc(s);return r=zc(r),null===t.context?t.context=r:t.pendingContext=r,(t=$a(a,i)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Ua(s,t,i))&&(rc(e,s,i,a),Va(e,s,i)),i}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Hc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Nl=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ps.current)xo=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return xo=!1,function(e,t,r){switch(t.tag){case 3:Po(t),ma();break;case 5:Qa(t);break;case 1:Rs(t.type)&&Is(t);break;case 4:Ja(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;_s(ja,n._currentValue),n._currentValue=s;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(_s(Za,1&Za.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Mo(e,t,r):(_s(Za,1&Za.current),null!==(e=qo(e,t,r))?e.sibling:null);_s(Za,1&Za.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return Fo(e,t,r);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),_s(Za,Za.current),n)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,r)}return qo(e,t,r)}(e,t,r);xo=0!==(131072&e.flags)}else xo=!1,sa&&0!==(1048576&t.flags)&&Zs(t,Hs,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Bo(e,t),e=t.pendingProps;var s=As(t,Cs.current);Pa(t,r),s=fi(null,t,n,e,s,r);var i=gi();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rs(n)?(i=!0,Is(t)):i=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Ia(t),s.updater=no,t.stateNode=s,s._reactInternals=t,oo(t,n,e,r),t=Co(null,t,n,!0,i,r)):(t.tag=0,sa&&i&&ea(t),bo(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Bo(e,t),e=t.pendingProps,n=(s=n._init)(n._payload),t.type=n,s=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===A)return 14}return 2}(n),e=to(n,e),s){case 0:t=_o(null,t,n,e,r);break e;case 1:t=Eo(null,t,n,e,r);break e;case 11:t=wo(null,t,n,e,r);break e;case 14:t=jo(null,t,n,to(n.type,e),r);break e}throw Error(a(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,_o(e,t,n,s=t.elementType===n?s:to(n,s),r);case 1:return n=t.type,s=t.pendingProps,Eo(e,t,n,s=t.elementType===n?s:to(n,s),r);case 3:e:{if(Po(t),null===e)throw Error(a(387));n=t.pendingProps,s=(i=t.memoizedState).element,Ma(e,t),Fa(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated){if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=To(e,t,n,r,s=lo(Error(a(423)),t));break e}if(n!==s){t=To(e,t,n,r,s=lo(Error(a(424)),t));break e}for(na=cs(t.stateNode.containerInfo.firstChild),ra=t,sa=!0,aa=null,r=wa(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(ma(),n===s){t=qo(e,t,r);break e}bo(e,t,n,r)}t=t.child}return t;case 5:return Qa(t),null===e&&ca(t),n=t.type,s=t.pendingProps,i=null!==e?e.memoizedProps:null,o=s.children,rs(n,s)?o=null:null!==i&&rs(n,i)&&(t.flags|=32),So(e,t),bo(e,t,o,r),t.child;case 6:return null===e&&ca(t),null;case 13:return Mo(e,t,r);case 4:return Ja(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=ba(t,null,n,r):bo(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,wo(e,t,n,s=t.elementType===n?s:to(n,s),r);case 7:return bo(e,t,t.pendingProps,r),t.child;case 8:case 12:return bo(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,_s(ja,n._currentValue),n._currentValue=o,null!==i)if(on(i.value,o)){if(i.children===s.children&&!Ps.current){t=qo(e,t,r);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===i.tag){(c=$a(-1,r&-r)).tag=2;var u=i.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,null!==(c=i.alternate)&&(c.lanes|=r),Ca(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(a(341));o.lanes|=r,null!==(l=o.alternate)&&(l.lanes|=r),Ca(o,r,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}bo(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Pa(t,r),n=n(s=Ta(s)),t.flags|=1,bo(e,t,n,r),t.child;case 14:return s=to(n=t.type,t.pendingProps),jo(e,t,n,s=to(n.type,s),r);case 15:return No(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:to(n,s),Bo(e,t),t.tag=1,Rs(n)?(e=!0,Is(t)):e=!1,Pa(t,r),ao(t,n,s),oo(t,n,s,r),Co(null,t,n,!0,e,r);case 19:return Fo(e,t,r);case 22:return ko(e,t,r)}throw Error(a(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,r,n,s){var a=r._reactRootContainer;if(a){var i=a;if("function"===typeof s){var o=s;s=function(){var e=qc(i);o.call(e)}}Bc(t,i,e,s)}else i=function(e,t,r,n,s){if(s){if("function"===typeof n){var a=n;n=function(){var e=qc(i);a.call(e)}}var i=Fc(t,n,e,0,null,!1,0,"",Xc);return e._reactRootContainer=i,e[ps]=i.current,Fn(8===e.nodeType?e.parentNode:e),uc(),i}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof n){var o=n;n=function(){var e=qc(l);o.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[ps]=l.current,Fn(8===e.nodeType?e.parentNode:e),uc(function(){Bc(t,l,r,n)}),l}(r,t,e,s,n);return qc(i)}Jc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Bc(e,t,null,null)},Jc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Bc(null,e,null,null)}),t[ps]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ot.length&&0!==t&&t<Ot[r].priority;r++);Ot.splice(r,0,e),0===r&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=dt(t.pendingLanes);0!==r&&(yt(t,1|r),nc(t,Qe()),0===(6&Cl)&&(Fl=Qe()+500,Fs()))}break;case 13:uc(function(){var t=Da(e,1);if(null!==t){var r=ec();rc(t,e,1,r)}}),Hc(e,1)}},jt=function(e){if(13===e.tag){var t=Da(e,134217728);if(null!==t)rc(t,e,134217728,ec());Hc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tc(e),r=Da(e,t);if(null!==r)rc(r,e,t,ec());Hc(e,t)}},kt=function(){return xt},St=function(e,t){var r=xt;try{return xt=e,t()}finally{xt=r}},je=function(e,t,r){switch(t){case"input":if(X(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=ws(n);if(!s)throw Error(a(90));K(n),X(n,s)}}}break;case"textarea":ae(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Ce=cc,Pe=uc;var eu={usingClientEntryPoint:!1,Events:[xs,bs,ws,_e,Ee,cc]},tu={findFiberByHostInstance:ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ru={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{st=nu.inject(ru),at=nu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var r=!1,n="",s=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Vc(e,1,!1,null,0,r,0,n,s),e[ps]=t.current,Fn(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,r){if(!Qc(t))throw Error(a(200));return Zc(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Yc(e))throw Error(a(405));var n=null!=r&&r.hydratedSources||null,s=!1,i="",o=Kc;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(s=!0),void 0!==r.identifierPrefix&&(i=r.identifierPrefix),void 0!==r.onRecoverableError&&(o=r.onRecoverableError)),t=Fc(t,null,e,1,null!=r?r:null,s,0,i,o),e[ps]=t.current,Fn(e),n)for(e=0;e<n.length;e++)s=(s=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Jc(t)},t.render=function(e,t,r){if(!Qc(t))throw Error(a(200));return Zc(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(a(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[ps]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Qc(r))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zc(e,t,r,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},736:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(r(374));class a extends s.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(e=>"string"===typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t){let{config:r,type:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s="";"plain"===n?s="pl":"phrase"===n?s="ph":"websearch"===n&&(s="w");const a=void 0===r?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(e=>{let[t,r]=e;this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e){let{foreignTable:t,referencedTable:r=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}}t.default=a},745:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_HEADERS=void 0;const n=r(400);t.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${n.version}`}},785:(e,t,r)=>{"use strict";r.d(t,{deleteVehicleImage:()=>er,supabase:()=>Zt});class n extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",r=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=r}}class s extends n{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class a extends n{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class i extends n{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var o;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(o||(o={}));var l=function(e,t,r,n){return new(r||(r=Promise))(function(s,a){function i(e){try{l(n.next(e))}catch(t){a(t)}}function o(e){try{l(n.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})};class c{constructor(e){let{headers:t={},customFetch:n,region:s=o.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=s,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then(r.bind(r,630)).then(e=>{let{default:r}=e;return r(...t)})}:fetch),function(){return t(...arguments)}})(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;return l(this,void 0,void 0,function*(){try{const{headers:n,method:o,body:l}=t;let c={},{region:u}=t;u||(u=this.region);const d=new URL(`${this.url}/${e}`);let h;u&&"any"!==u&&(c["x-region"]=u,d.searchParams.set("forceFunctionRegion",u)),l&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&("undefined"!==typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",h=l):"string"===typeof l?(c["Content-Type"]="text/plain",h=l):"undefined"!==typeof FormData&&l instanceof FormData?h=l:(c["Content-Type"]="application/json",h=JSON.stringify(l)));const m=yield this.fetch(d.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),n),body:h}).catch(e=>{throw new s(e)}),p=m.headers.get("x-relay-error");if(p&&"true"===p)throw new a(m);if(!m.ok)throw new i(m);let f,g=(null!==(r=m.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return f="application/json"===g?yield m.json():"application/octet-stream"===g?yield m.blob():"text/event-stream"===g?m:"multipart/form-data"===g?yield m.formData():yield m.text(),{data:f,error:null,response:m}}catch(n){return{data:null,error:n,response:n instanceof i||n instanceof a?n.context:void 0}}})}}var u=r(980);const{PostgrestClient:d,PostgrestQueryBuilder:h,PostgrestFilterBuilder:m,PostgrestTransformBuilder:p,PostgrestBuilder:f,PostgrestError:g}=u;const v=class{static dynamicRequire(e){try{return"undefined"!==typeof process&&process.versions&&process.versions.node?r(986)(e):null}catch(t){return null}}static detectEnvironment(){var e,t;if("undefined"!==typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!==typeof r.g&&"undefined"!==typeof r.g.WebSocket)return{type:"native",constructor:r.g.WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocketPair&&"undefined"===typeof globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!==typeof globalThis&&globalThis.EdgeRuntime||"undefined"!==typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!==typeof process&&process.versions&&process.versions.node){const e=parseInt(process.versions.node.split(".")[0]);if(e>=22)try{if("undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};const e=this.dynamicRequire("undici");if(e&&e.WebSocket)return{type:"native",constructor:e.WebSocket};throw new Error("undici not available")}catch(n){return{type:"unsupported",error:`Node.js ${e} detected but native WebSocket not found.`,workaround:'Install the "ws" package or check your Node.js installation.'}}try{const e=this.dynamicRequire("ws");if(e)return{type:"ws",constructor:null!==(t=e.WebSocket)&&void 0!==t?t:e};throw new Error("ws package not available")}catch(n){return{type:"unsupported",error:`Node.js ${e} detected without WebSocket support.`,workaround:'Install the "ws" package: npm install ws'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`\n\nSuggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}},y=1e4;var x,b,w,j,N,k;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(x||(x={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(b||(b={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(w||(w={})),function(e){e.websocket="websocket"}(j||(j={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(N||(N={}));class S{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const n=t.getUint8(1),s=t.getUint8(2);let a=this.HEADER_LENGTH+2;const i=r.decode(e.slice(a,a+n));a+=n;const o=r.decode(e.slice(a,a+s));a+=s;return{ref:null,topic:i,event:o,payload:JSON.parse(r.decode(e.slice(a,e.byteLength)))}}}class _{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(k||(k={}));const E=function(e,t){var r;const n=null!==(r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==r?r:[];return Object.keys(t).reduce((r,s)=>(r[s]=C(s,e,t,n),r),{})},C=(e,t,r,n)=>{const s=t.find(t=>t.name===e),a=null===s||void 0===s?void 0:s.type,i=r[e];return a&&!n.includes(a)?P(a,i):T(i)},P=(e,t)=>{if("_"===e.charAt(0)){const r=e.slice(1,e.length);return D(t,r)}switch(e){case k.bool:return A(t);case k.float4:case k.float8:case k.int2:case k.int4:case k.int8:case k.numeric:case k.oid:return R(t);case k.json:case k.jsonb:return O(t);case k.timestamp:return L(t);case k.abstime:case k.date:case k.daterange:case k.int4range:case k.int8range:case k.money:case k.reltime:case k.text:case k.time:case k.timestamptz:case k.timetz:case k.tsrange:case k.tstzrange:default:return T(t)}},T=e=>e,A=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},R=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},O=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},D=(e,t)=>{if("string"!==typeof e)return e;const r=e.length-1,n=e[r];if("{"===e[0]&&"}"===n){let n;const a=e.slice(1,r);try{n=JSON.parse("["+a+"]")}catch(s){n=a?a.split(","):[]}return n.map(e=>P(t,e))}return e},L=e=>"string"===typeof e?e.replace(" ","T"):e,I=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class M{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:y;this.channel=e,this.event=t,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:r}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var $,U,V,z;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}($||($={}));class F{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.joinRef=this.channel._joinRef(),this.state=F.syncState(this.state,e,t,r),this.pendingDiffs.forEach(e=>{this.state=F.syncDiff(this.state,e,t,r)}),this.pendingDiffs=[],n()}),this.channel._on(r.diff,{},e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=F.syncDiff(this.state,e,t,r),n())}),this.onJoin((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})}),this.onLeave((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,n){const s=this.cloneDeep(e),a=this.transformState(t),i={},o={};return this.map(s,(e,t)=>{a[e]||(o[e]=t)}),this.map(a,(e,t)=>{const r=s[e];if(r){const n=t.map(e=>e.presence_ref),s=r.map(e=>e.presence_ref),a=t.filter(e=>s.indexOf(e.presence_ref)<0),l=r.filter(e=>n.indexOf(e.presence_ref)<0);a.length>0&&(i[e]=a),l.length>0&&(o[e]=l)}else i[e]=t}),this.syncDiff(s,{joins:i,leaves:o},r,n)}static syncDiff(e,t,r,n){const{joins:s,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(s,(t,n)=>{var s;const a=null!==(s=e[t])&&void 0!==s?s:[];if(e[t]=this.cloneDeep(n),a.length>0){const r=e[t].map(e=>e.presence_ref),n=a.filter(e=>r.indexOf(e.presence_ref)<0);e[t].unshift(...n)}r(t,a,n)}),this.map(a,(t,r)=>{let s=e[t];if(!s)return;const a=r.map(e=>e.presence_ref);s=s.filter(e=>a.indexOf(e.presence_ref)<0),e[t]=s,n(t,s,r),0===s.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const n=e[r];return t[r]="metas"in n?n.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(U||(U={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(V||(V={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(z||(z={}));class B{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},r=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=b.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new M(this,w.join,this.params,this.timeout),this.rejoinTimer=new _(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=b.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=b.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=b.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=b.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=b.errored,this.rejoinTimer.scheduleTimeout())}),this._on(w.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new F(this),this.broadcastEndpointURL=I(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var r,n;if(this.socket.isConnected()||this.socket.connect(),this.state==b.closed){const{config:{broadcast:s,presence:a,private:i}}=this.params,o=null!==(n=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map(e=>e.filter))&&void 0!==n?n:[],l=!!this.bindings[V.PRESENCE]&&this.bindings[V.PRESENCE].length>0,c={},u={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:l}),postgres_changes:o,private:i};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this._onError(t=>null===e||void 0===e?void 0:e(z.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(z.CLOSED)),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:r}=t;var n;if(this.socket.setAuth(),void 0!==r){const t=this.bindings.postgres_changes,s=null!==(n=null===t||void 0===t?void 0:t.length)&&void 0!==n?n:0,a=[];for(let n=0;n<s;n++){const s=t[n],{filter:{event:i,schema:o,table:l,filter:c}}=s,u=r&&r[n];if(!u||u.event!==i||u.schema!==o||u.table!==l||u.filter!==c)return this.unsubscribe(),this.state=b.errored,void(null===e||void 0===e||e(z.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));a.push(Object.assign(Object.assign({},s),{id:u.id}))}return this.bindings.postgres_changes=a,void(e&&e(z.SUBSCRIBED))}null===e||void 0===e||e(z.SUBSCRIBED)}).receive("error",t=>{this.state=b.errored,null===e||void 0===e||e(z.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(z.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===b.joined&&e===V.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,r)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r,n;if(this._canPush()||"broadcast"!==e.type)return new Promise(r=>{var n,s,a;const i=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(a=null===(s=null===(n=this.params)||void 0===n?void 0:n.config)||void 0===s?void 0:s.broadcast)||void 0===a?void 0:a.ack)||r("ok"),i.receive("ok",()=>r("ok")),i.receive("error",()=>r("error")),i.receive("timeout",()=>r("timed out"))});{const{event:a,payload:i}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(r=t.timeout)&&void 0!==r?r:this.timeout);return await(null===(n=e.body)||void 0===n?void 0:n.cancel()),e.ok?"ok":"error"}catch(s){return"AbortError"===s.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=b.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(w.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{r=new M(this,w.leave,{},e),r.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{null===r||void 0===r||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=b.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){const n=new AbortController,s=setTimeout(()=>n.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(s),a}_push(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new M(this,e,t,r);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var n,s;const a=e.toLocaleLowerCase(),{close:i,error:o,leave:l,join:c}=w;if(r&&[i,o,l,c].indexOf(a)>=0&&r!==this._joinRef())return;let u=this._onMessage(a,t,r);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?null===(n=this.bindings.postgres_changes)||void 0===n||n.filter(e=>{var t,r,n;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(n=null===(r=e.filter)||void 0===r?void 0:r.event)||void 0===n?void 0:n.toLocaleLowerCase())===a}).map(e=>e.callback(u,r)):null===(s=this.bindings[a])||void 0===s||s.filter(e=>{var r,n,s,i,o,l;if(["broadcast","presence","postgres_changes"].includes(a)){if("id"in e){const a=e.id,i=null===(r=e.filter)||void 0===r?void 0:r.event;return a&&(null===(n=t.ids)||void 0===n?void 0:n.includes(a))&&("*"===i||(null===i||void 0===i?void 0:i.toLocaleLowerCase())===(null===(s=t.data)||void 0===s?void 0:s.type.toLocaleLowerCase()))}{const r=null===(o=null===(i=null===e||void 0===e?void 0:e.filter)||void 0===i?void 0:i.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===r||r===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===a}).map(e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:r,commit_timestamp:n,type:s,errors:a}=e,i={schema:t,table:r,commit_timestamp:n,eventType:s,new:{},old:{},errors:a};u=Object.assign(Object.assign({},i),this._getPayloadRecords(e))}e.callback(u,r)})}_isClosed(){return this.state===b.closed}_isJoined(){return this.state===b.joined}_isJoining(){return this.state===b.joining}_isLeaving(){return this.state===b.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const n=e.toLocaleLowerCase(),s={type:n,filter:t,callback:r};return this.bindings[n]?this.bindings[n].push(s):this.bindings[n]=[s],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(e=>{var n;return!((null===(n=e.type)||void 0===n?void 0:n.toLocaleLowerCase())===r&&B.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(w.close,{},e)}_onError(e){this._on(w.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=b.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=E(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=E(e.columns,e.old_record)),t}}const q=()=>{},W=25e3,H=10,K=100,G=[1e3,2e3,5e3,1e4];class J{constructor(e,t){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=y,this.transport=null,this.heartbeatIntervalMs=W,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=q,this.ref=0,this.reconnectTimer=null,this.logger=q,this.conn=null,this.sendBuffer=[],this.serializer=new S,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then(r.bind(r,630)).then(e=>{let{default:r}=e;return r(...t)}).catch(e=>{throw new Error(`Failed to load @supabase/node-fetch: ${e.message}. This is required for HTTP requests in Node.js environments without native fetch.`)})}:fetch),function(){return t(...arguments)}},!(null===(n=null===t||void 0===t?void 0:t.params)||void 0===n?void 0:n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${j.websocket}`,this.httpEndpoint=I(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=v.createWebSocket(this.endpointURL())}catch(e){throw this._setConnectionState("disconnected"),new Error(`WebSocket not available: ${e.message}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case x.connecting:return N.Connecting;case x.open:return N.Open;case x.closing:return N.Closing;default:return N.Closed}}isConnected(){return this.connectionState()===N.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const r=`realtime:${e}`,n=this.getChannels().find(e=>e.topic===r);if(n)return n;{const r=new B(`realtime:${e}`,t,this);return this.channels.push(r),r}}push(e){const{topic:t,event:r,payload:n,ref:s}=e,a=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push",`${t} ${r} (${s})`,n),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},K);this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}else this.heartbeatCallback("disconnected")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{"phoenix"===e.topic&&"phx_reply"===e.event&&this.heartbeatCallback("ok"===e.payload.status?"ok":"error"),e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:r,payload:n,ref:s}=e,a=s?`(${s})`:"",i=n.status||"";this.log("receive",`${i} ${t} ${r} ${a}`.trim(),n),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(r,n,s)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(w.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const r=e.match(/\?/)?"&":"?";return`${e}${r}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=t||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const r={access_token:e,version:"realtime-js/2.15.0"};e&&t.updateJoinPayload(r),t.joinedOnce&&t._isJoined()&&t._push(w.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(n){this.log("error",`error in ${e} callback`,n)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new _(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},H)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,n,s,a,i,o,l;if(this.transport=null!==(t=null===e||void 0===e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(r=null===e||void 0===e?void 0:e.timeout)&&void 0!==r?r:y,this.heartbeatIntervalMs=null!==(n=null===e||void 0===e?void 0:e.heartbeatIntervalMs)&&void 0!==n?n:W,this.worker=null!==(s=null===e||void 0===e?void 0:e.worker)&&void 0!==s&&s,this.accessToken=null!==(a=null===e||void 0===e?void 0:e.accessToken)&&void 0!==a?a:null,(null===e||void 0===e?void 0:e.params)&&(this.params=e.params),(null===e||void 0===e?void 0:e.logger)&&(this.logger=e.logger),((null===e||void 0===e?void 0:e.logLevel)||(null===e||void 0===e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(i=null===e||void 0===e?void 0:e.reconnectAfterMs)&&void 0!==i?i:e=>G[e-1]||1e4,this.encode=null!==(o=null===e||void 0===e?void 0:e.encode)&&void 0!==o?o:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(l=null===e||void 0===e?void 0:e.decode)&&void 0!==l?l:this.serializer.decode.bind(this.serializer),this.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null===e||void 0===e?void 0:e.workerUrl}}}class Y extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Q(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class X extends Y{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Z extends Y{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var ee=function(e,t,r,n){return new(r||(r=Promise))(function(s,a){function i(e){try{l(n.next(e))}catch(t){a(t)}}function o(e){try{l(n.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})};const te=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then(r.bind(r,630)).then(e=>{let{default:r}=e;return r(...t)})}:fetch),function(){return t(...arguments)}},re=e=>{if(Array.isArray(e))return e.map(e=>re(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[r,n]=e;const s=r.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[s]=re(n)}),t};var ne=function(e,t,r,n){return new(r||(r=Promise))(function(s,a){function i(e){try{l(n.next(e))}catch(t){a(t)}}function o(e){try{l(n.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})};const se=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ae=(e,t,n)=>ne(void 0,void 0,void 0,function*(){const s=yield ee(void 0,void 0,void 0,function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(r.bind(r,630))).Response:Response});e instanceof s&&!(null===n||void 0===n?void 0:n.noResolveJson)?e.json().then(r=>{const n=e.status||500,s=(null===r||void 0===r?void 0:r.statusCode)||n+"";t(new X(se(r),n,s))}).catch(e=>{t(new Z(se(e),e))}):t(new Z(se(e),e))}),ie=(e,t,r,n)=>{const s={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&n?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(n)?(s.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function oe(e,t,r,n,s,a){return ne(this,void 0,void 0,function*(){return new Promise((i,o)=>{e(r,ie(t,n,s,a)).then(e=>{if(!e.ok)throw e;return(null===n||void 0===n?void 0:n.noResolveJson)?e:e.json()}).then(e=>i(e)).catch(e=>ae(e,o,n))})})}function le(e,t,r,n){return ne(this,void 0,void 0,function*(){return oe(e,"GET",t,r,n)})}function ce(e,t,r,n,s){return ne(this,void 0,void 0,function*(){return oe(e,"POST",t,n,s,r)})}function ue(e,t,r,n,s){return ne(this,void 0,void 0,function*(){return oe(e,"PUT",t,n,s,r)})}function de(e,t,r,n,s){return ne(this,void 0,void 0,function*(){return oe(e,"DELETE",t,n,s,r)})}var he=function(e,t,r,n){return new(r||(r=Promise))(function(s,a){function i(e){try{l(n.next(e))}catch(t){a(t)}}function o(e){try{l(n.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})};const me={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},pe={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class fe{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;this.url=e,this.headers=t,this.bucketId=r,this.fetch=te(n)}uploadOrUpdate(e,t,r,n){return he(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},pe),n);let i=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(a.upsert)});const o=a.metadata;"undefined"!==typeof Blob&&r instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),o&&s.append("metadata",this.encodeMetadata(o)),s.append("",r)):"undefined"!==typeof FormData&&r instanceof FormData?(s=r,s.append("cacheControl",a.cacheControl),o&&s.append("metadata",this.encodeMetadata(o))):(s=r,i["cache-control"]=`max-age=${a.cacheControl}`,i["content-type"]=a.contentType,o&&(i["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),(null===n||void 0===n?void 0:n.headers)&&(i=Object.assign(Object.assign({},i),n.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield("PUT"==e?ue:ce)(this.fetch,`${this.url}/object/${c}`,s,Object.assign({headers:i},(null===a||void 0===a?void 0:a.duplex)?{duplex:a.duplex}:{}));return{data:{path:l,id:u.Id,fullPath:u.Key},error:null}}catch(s){if(Q(s))return{data:null,error:s};throw s}})}upload(e,t,r){return he(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,n){return he(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),i=new URL(this.url+`/object/upload/sign/${a}`);i.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:pe.upsert},n),a=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&r instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",r)):"undefined"!==typeof FormData&&r instanceof FormData?(e=r,e.append("cacheControl",t.cacheControl)):(e=r,a["cache-control"]=`max-age=${t.cacheControl}`,a["content-type"]=t.contentType);return{data:{path:s,fullPath:(yield ue(this.fetch,i.toString(),e,{headers:a})).Key},error:null}}catch(o){if(Q(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(e,t){return he(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(n["x-upsert"]="true");const s=yield ce(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),a=new URL(this.url+s.url),i=a.searchParams.get("token");if(!i)throw new Y("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:i},error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}})}update(e,t,r){return he(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return he(this,void 0,void 0,function*(){try{return{data:yield ce(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===r||void 0===r?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}})}copy(e,t,r){return he(this,void 0,void 0,function*(){try{return{data:{path:(yield ce(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===r||void 0===r?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}})}createSignedUrl(e,t,r){return he(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),s=yield ce(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:t},(null===r||void 0===r?void 0:r.transform)?{transform:r.transform}:{}),{headers:this.headers});const a=(null===r||void 0===r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}})}createSignedUrls(e,t,r){return he(this,void 0,void 0,function*(){try{const n=yield ce(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),s=(null===r||void 0===r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return{data:n.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${s}`):null})),error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}})}download(e,t){return he(this,void 0,void 0,function*(){const r="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",n=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),s=n?`?${n}`:"";try{const t=this._getFinalPath(e),n=yield le(this.fetch,`${this.url}/${r}/${t}${s}`,{headers:this.headers,noResolveJson:!0});return{data:yield n.blob(),error:null}}catch(a){if(Q(a))return{data:null,error:a};throw a}})}info(e){return he(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield le(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:re(e),error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}})}exists(e){return he(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,r,n){return ne(this,void 0,void 0,function*(){return oe(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Q(r)&&r instanceof Z){const e=r.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=(null===t||void 0===t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==s&&n.push(s);const a="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",i=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==i&&n.push(i);let o=n.join("&");return""!==o&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${o}`)}}}remove(e){return he(this,void 0,void 0,function*(){try{return{data:yield de(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Q(t))return{data:null,error:t};throw t}})}list(e,t,r){return he(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},me),t),{prefix:e||""});return{data:yield ce(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const ge={"X-Client-Info":"storage-js/2.10.4"};var ve=function(e,t,r,n){return new(r||(r=Promise))(function(s,a){function i(e){try{l(n.next(e))}catch(t){a(t)}}function o(e){try{l(n.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})};class ye{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;const s=new URL(e);if(null===n||void 0===n?void 0:n.useNewHostname){/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."))}this.url=s.href,this.headers=Object.assign(Object.assign({},ge),t),this.fetch=te(r)}listBuckets(){return ve(this,void 0,void 0,function*(){try{return{data:yield le(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Q(e))return{data:null,error:e};throw e}})}getBucket(e){return ve(this,void 0,void 0,function*(){try{return{data:yield le(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Q(t))return{data:null,error:t};throw t}})}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return ve(this,void 0,void 0,function*(){try{return{data:yield ce(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return ve(this,void 0,void 0,function*(){try{return{data:yield ue(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ve(this,void 0,void 0,function*(){try{return{data:yield ce(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Q(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ve(this,void 0,void 0,function*(){try{return{data:yield de(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Q(t))return{data:null,error:t};throw t}})}}class xe extends ye{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)}from(e){return new fe(this.url,this.headers,e,this.fetch)}}let be="";be="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const we={headers:{"X-Client-Info":`supabase-js-${be}/2.54.0`}},je={schema:"public"},Ne={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ke={};var Se=r(630),_e=function(e,t,r,n){return new(r||(r=Promise))(function(s,a){function i(e){try{l(n.next(e))}catch(t){a(t)}}function o(e){try{l(n.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})};const Ee=e=>{let t;return t=e||("undefined"===typeof fetch?Se.default:fetch),function(){return t(...arguments)}},Ce=(e,t,r)=>{const n=Ee(r),s="undefined"===typeof Headers?Se.Headers:Headers;return(r,a)=>_e(void 0,void 0,void 0,function*(){var i;const o=null!==(i=yield t())&&void 0!==i?i:e;let l=new s(null===a||void 0===a?void 0:a.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${o}`),n(r,Object.assign(Object.assign({},a),{headers:l}))})};var Pe=function(e,t,r,n){return new(r||(r=Promise))(function(s,a){function i(e){try{l(n.next(e))}catch(t){a(t)}}function o(e){try{l(n.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})};const Te="2.71.1",Ae=3e4,Re=9e4,Oe={"X-Client-Info":`gotrue-js/${Te}`},De="X-Supabase-Api-Version",Le={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},Ie=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Me extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function $e(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class Ue extends Me{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class Ve extends Me{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class ze extends Me{constructor(e,t,r,n){super(e,r,n),this.name=t,this.status=r}}class Fe extends ze{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Be extends ze{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qe extends ze{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class We extends ze{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class He extends ze{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ke extends ze{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Ge(e){return $e(e)&&"AuthRetryableFetchError"===e.name}class Je extends ze{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class Ye extends ze{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Qe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Xe=" \t\n\r=".split(""),Ze=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Xe.length;t+=1)e[Xe[t].charCodeAt(0)]=-2;for(let t=0;t<Qe.length;t+=1)e[Qe[t].charCodeAt(0)]=t;return e})();function et(e,t,r){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(Qe[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(Qe[e]),t.queuedBits-=6}}function tt(e,t,r){const n=Ze[e];if(!(n>-1)){if(-2===n)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function rt(e){const t=[],r=e=>{t.push(String.fromCodePoint(e))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=e=>{!function(e,t,r){if(0===t.utf8seq){if(e<=127)return void r(e);for(let r=1;r<6;r+=1)if(0===(e>>7-r&1)){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}}(e,n,r)};for(let i=0;i<e.length;i+=1)tt(e.charCodeAt(i),s,a);return t.join("")}function nt(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function st(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const t=1024*(n-55296)&65535;n=65536+(e.charCodeAt(r+1)-56320&65535|t),r+=1}nt(n,t)}}function at(e){const t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};for(let s=0;s<e.length;s+=1)tt(e.charCodeAt(s),r,n);return new Uint8Array(t)}function it(e){const t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};return e.forEach(e=>et(e,r,n)),et(null,r,n),t.join("")}const ot=()=>"undefined"!==typeof window&&"undefined"!==typeof document,lt={tested:!1,writable:!1},ct=()=>{if(!ot())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(t){return!1}if(lt.tested)return lt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),lt.tested=!0,lt.writable=!0}catch(t){lt.tested=!0,lt.writable=!1}return lt.writable};const ut=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then(r.bind(r,630)).then(e=>{let{default:r}=e;return r(...t)})}:fetch),function(){return t(...arguments)}},dt=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ht=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(n){return r}},mt=async(e,t)=>{await e.removeItem(t)};class pt{constructor(){this.promise=new pt.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function ft(e){const t=e.split(".");if(3!==t.length)throw new Ye("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Ie.test(t[r]))throw new Ye("JWT not in base64url format");return{header:JSON.parse(rt(t[0])),payload:JSON.parse(rt(t[1])),signature:at(t[2]),raw:{header:t[0],payload:t[1]}}}function gt(e){return("0"+e.toString(16)).substr(-2)}async function vt(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),r=await crypto.subtle.digest("SHA-256",t),n=new Uint8Array(r);return Array.from(n).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yt(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let r="";for(let n=0;n<56;n++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,gt).join("")}();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await dt(e,`${t}-code-verifier`,s);const a=await vt(n);return[a,n===a?"plain":"s256"]}pt.promiseConstructor=Promise;const xt=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const bt=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function wt(e){if(!bt.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function jt(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Nt(e){return JSON.parse(JSON.stringify(e))}var kt=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]])}return r};const St=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),_t=[502,503,504];async function Et(e){var t,r;if(!("object"===typeof(r=e)&&null!==r&&"status"in r&&"ok"in r&&"json"in r&&"function"===typeof r.json))throw new Ke(St(e),0);if(_t.includes(e.status))throw new Ke(St(e),e.status);let n,s;try{n=await e.json()}catch(i){throw new Ve(St(i),i)}const a=function(e){const t=e.headers.get(De);if(!t)return null;if(!t.match(xt))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(i){return null}}(e);if(a&&a.getTime()>=Le.timestamp&&"object"===typeof n&&n&&"string"===typeof n.code?s=n.code:"object"===typeof n&&n&&"string"===typeof n.error_code&&(s=n.error_code),s){if("weak_password"===s)throw new Je(St(n),e.status,(null===(t=n.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===s)throw new Fe}else if("object"===typeof n&&n&&"object"===typeof n.weak_password&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new Je(St(n),e.status,n.weak_password.reasons);throw new Ue(St(n),e.status||500,s)}async function Ct(e,t,r,n){var s;const a=Object.assign({},null===n||void 0===n?void 0:n.headers);a[De]||(a[De]=Le.name),(null===n||void 0===n?void 0:n.jwt)&&(a.Authorization=`Bearer ${n.jwt}`);const i=null!==(s=null===n||void 0===n?void 0:n.query)&&void 0!==s?s:{};(null===n||void 0===n?void 0:n.redirectTo)&&(i.redirect_to=n.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await async function(e,t,r,n,s,a){const i=((e,t,r,n)=>{const s={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))})(t,n,s,a);let o;try{o=await e(r,Object.assign({},i))}catch(l){throw console.error(l),new Ke(St(l),0)}o.ok||await Et(o);if(null===n||void 0===n?void 0:n.noResolveJson)return o;try{return await o.json()}catch(l){await Et(l)}}(e,t,r+o,{headers:a,noResolveJson:null===n||void 0===n?void 0:n.noResolveJson},{},null===n||void 0===n?void 0:n.body);return(null===n||void 0===n?void 0:n.xform)?null===n||void 0===n?void 0:n.xform(l):{data:Object.assign({},l),error:null}}function Pt(e){var t;let r=null;var n;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=(n=e.expires_in,Math.round(Date.now()/1e3)+n)));return{data:{session:r,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Tt(e){const t=Pt(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function At(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Rt(e){return{data:e,error:null}}function Ot(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,i=kt(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},user:Object.assign({},i)},error:null}}function Dt(e){return e}const Lt=["global","local","others"];var It=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]])}return r};class Mt{constructor(e){let{url:t="",headers:r={},fetch:n}=e;this.url=t,this.headers=r,this.fetch=ut(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Lt[0];if(Lt.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Lt.join(", ")}`);try{return await Ct(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await Ct(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:At})}catch(r){if($e(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=It(e,["options"]),n=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(n.new_email=null===r||void 0===r?void 0:r.newEmail,delete n.newEmail),await Ct(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Ot,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if($e(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Ct(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:At})}catch(t){if($e(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,n,s,a,i,o;try{const l={nextPage:null,lastPage:0,total:0},c=await Ct(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(s=null===(n=null===e||void 0===e?void 0:e.perPage)||void 0===n?void 0:n.toString())&&void 0!==s?s:""},xform:Dt});if(c.error)throw c.error;const u=await c.json(),d=null!==(a=c.headers.get("x-total-count"))&&void 0!==a?a:0,h=null!==(o=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if($e(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){wt(e);try{return await Ct(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:At})}catch(t){if($e(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){wt(e);try{return await Ct(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:At})}catch(r){if($e(r))return{data:{user:null},error:r};throw r}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];wt(e);try{return await Ct(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:At})}catch(r){if($e(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){wt(e.userId);try{const{data:t,error:r}=await Ct(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(t){if($e(t))return{data:null,error:t};throw t}}async _deleteFactor(e){wt(e.userId),wt(e.id);try{return{data:await Ct(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if($e(t))return{data:null,error:t};throw t}}}function $t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ut=!!(globalThis&&ct()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class Vt extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class zt extends Vt{}async function Ft(e,t,r){Ut&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ut&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async n=>{if(!n){if(0===t)throw Ut&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new zt(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ut)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}Ut&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await r()}finally{Ut&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!==typeof self&&(self.globalThis=self)}}();const Bt={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Oe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function qt(e,t,r){return await r()}const Wt={};class Ht{constructor(e){var t,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ht.nextInstanceID,Ht.nextInstanceID+=1,this.instanceID>0&&ot()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Bt),e);if(this.logDebugMessages=!!n.debug,"function"===typeof n.debug&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Mt({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=ut(n.fetch),this.lock=n.lock||qt,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:ot()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=Ft:this.lock=qt,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:ct()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$t(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=$t(this.memoryStorage)),ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}null===(r=this.broadcastChannel)||void 0===r||r.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}get jwks(){var e,t;return null!==(t=null===(e=Wt[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){Wt[this.storageKey]=Object.assign(Object.assign({},Wt[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=Wt[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Wt[this.storageKey]=Object.assign(Object.assign({},Wt[this.storageKey]),{cachedAt:e})}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger(`GoTrueClient@${this.instanceID} (${Te}) ${(new Date).toISOString()}`,...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach((e,r)=>{t[r]=e})}catch(n){}return r.searchParams.forEach((e,r)=>{t[r]=e}),t}(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),ot()&&this.detectSessionInUrl&&"none"!==r){const{data:n,error:s}=await this._getSessionFromURL(t,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),function(e){return $e(e)&&"AuthImplicitGrantRedirectError"===e.name}(s)){const t=null===(e=s.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:i}=n;return this._debug("#_initialize()","detected session in URL",a,"redirect type",i),await this._saveSession(a),setTimeout(async()=>{"recovery"===i?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return $e(t)?{error:t}:{error:new Ve("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,n;try{const s=await Ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(r=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==r?r:{},gotrue_meta_security:{captcha_token:null===(n=null===e||void 0===e?void 0:e.options)||void 0===n?void 0:n.captchaToken}},xform:Pt}),{data:a,error:i}=s;if(i||!a)return{data:{user:null,session:null},error:i};const o=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(s){if($e(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var t,r,n;try{let s;if("email"in e){const{email:r,password:n,options:a}=e;let i=null,o=null;"pkce"===this.flowType&&([i,o]=await yt(this.storage,this.storageKey)),s=await Ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo,body:{email:r,password:n,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:i,code_challenge_method:o},xform:Pt})}else{if(!("phone"in e))throw new qe("You must provide either an email or phone number and a password");{const{phone:t,password:a,options:i}=e;s=await Ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:a,data:null!==(r=null===i||void 0===i?void 0:i.data)&&void 0!==r?r:{},channel:null!==(n=null===i||void 0===i?void 0:i.channel)&&void 0!==n?n:"sms",gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:Pt})}}const{data:a,error:i}=s;if(i||!a)return{data:{user:null,session:null},error:i};const o=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(s){if($e(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let t;if("email"in e){const{email:r,password:n,options:s}=e;t=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:n,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:Tt})}else{if(!("phone"in e))throw new qe("You must provide either an email or phone number and a password");{const{phone:r,password:n,options:s}=e;t=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:n,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:Tt})}}const{data:r,error:n}=t;return n?{data:{user:null,session:null},error:n}:r&&r.session&&r.user?(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n}):{data:{user:null,session:null},error:new Be}}catch(t){if($e(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,n,s;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(n=e.options)||void 0===n?void 0:n.queryParams,skipBrowserRedirect:null===(s=e.options)||void 0===s?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if("solana"===t)return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,r,n,s,a,i,o,l,c,u,d,h;let m,p;if("message"in e)m=e.message,p=e.signature;else{const{chain:d,wallet:h,statement:f,options:g}=e;let v;if(ot())if("object"===typeof h)v=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");v=e.solana}else{if("object"!==typeof h||!(null===g||void 0===g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=h}const y=new URL(null!==(t=null===g||void 0===g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in v&&v.signIn){const e=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===g||void 0===g?void 0:g.signInWithSolana),{version:"1",domain:y.host,uri:y.href}),f?{statement:f}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");m="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in v)||"function"!==typeof v.signMessage||!("publicKey"in v)||"object"!==typeof v||!v.publicKey||!("toBase58"in v.publicKey)||"function"!==typeof v.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${y.host} wants you to sign in with your Solana account:`,v.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${y.href}`,`Issued At: ${null!==(n=null===(r=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===r?void 0:r.issuedAt)&&void 0!==n?n:(new Date).toISOString()}`,...(null===(s=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===s?void 0:s.notBefore)?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...(null===(a=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===a?void 0:a.expirationTime)?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...(null===(i=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===i?void 0:i.chainId)?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...(null===(o=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===o?void 0:o.nonce)?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...(null===(l=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...(null===(u=null===(c=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...g.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join("\n");const e=await v.signMessage((new TextEncoder).encode(m),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:r}=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:it(p)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:Pt});if(r)throw r;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:r}):{data:{user:null,session:null},error:new Be}}catch(f){if($e(f))return{data:{user:null,session:null},error:f};throw f}}async _exchangeCodeForSession(e){const t=await ht(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:s}=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Pt});if(await mt(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==n&&void 0!==n?n:null}),error:s}):{data:{user:null,session:null,redirectType:null},error:new Be}}catch(s){if($e(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:t,provider:r,token:n,access_token:s,nonce:a}=e,i=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:Pt}),{data:o,error:l}=i;return l?{data:{user:null,session:null},error:l}:o&&o.session&&o.user?(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:l}):{data:{user:null,session:null},error:new Be}}catch(t){if($e(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,n,s,a;try{if("email"in e){const{email:n,options:s}=e;let a=null,i=null;"pkce"===this.flowType&&([a,i]=await yt(this.storage,this.storageKey));const{error:o}=await Ct(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:n,data:null!==(t=null===s||void 0===s?void 0:s.data)&&void 0!==t?t:{},create_user:null===(r=null===s||void 0===s?void 0:s.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken},code_challenge:a,code_challenge_method:i},redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:t,options:r}=e,{data:i,error:o}=await Ct(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(n=null===r||void 0===r?void 0:r.data)&&void 0!==n?n:{},create_user:null===(s=null===r||void 0===r?void 0:r.shouldCreateUser)||void 0===s||s,gotrue_meta_security:{captcha_token:null===r||void 0===r?void 0:r.captchaToken},channel:null!==(a=null===r||void 0===r?void 0:r.channel)&&void 0!==a?a:"sms"}});return{data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:o}}throw new qe("You must provide either an email or phone number.")}catch(i){if($e(i))return{data:{user:null,session:null},error:i};throw i}}async verifyOtp(e){var t,r;try{let n,s;"options"in e&&(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo,s=null===(r=e.options)||void 0===r?void 0:r.captchaToken);const{data:a,error:i}=await Ct(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:n,xform:Pt});if(i)throw i;if(!a)throw new Error("An error occurred on token verification.");const o=a.session,l=a.user;return(null===o||void 0===o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(n){if($e(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var t,r,n;try{let s=null,a=null;return"pkce"===this.flowType&&([s,a]=await yt(this.storage,this.storageKey)),await Ct(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==r?r:void 0}),(null===(n=null===e||void 0===e?void 0:e.options)||void 0===n?void 0:n.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:Rt})}catch(s){if($e(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new Fe;const{error:n}=await Ct(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if($e(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:s}=e,{error:a}=await Ct(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}if("phone"in e){const{phone:r,type:n,options:s}=e,{data:a,error:i}=await Ct(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:null===a||void 0===a?void 0:a.message_id},error:i}}throw new qe("You must provide either an email or phone number and a type")}catch(t){if($e(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch(e){}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(t){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await ht(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=!!e.expires_at&&1e3*e.expires_at-Date.now()<Re;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const t=await ht(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=jt()}if(this.storage.isServer&&e.user){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,r,n)=>(t||"user"!==r||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,r,n))})}return{data:{session:e},error:null}}const{session:n,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await Ct(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:At}):await this._useSession(async e=>{var t,r,n;const{data:s,error:a}=e;if(a)throw a;return(null===(t=s.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await Ct(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(n=null===(r=s.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0,xform:At}):{data:{user:null},error:new Fe}})}catch(t){if($e(t))return function(e){return $e(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await mt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async r=>{const{data:n,error:s}=r;if(s)throw s;if(!n.session)throw new Fe;const a=n.session;let i=null,o=null;"pkce"===this.flowType&&null!=e.email&&([i,o]=await yt(this.storage,this.storageKey));const{data:l,error:c}=await Ct(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:i,code_challenge_method:o}),jwt:a.access_token,xform:At});if(c)throw c;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if($e(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Fe;const t=Date.now()/1e3;let r=t,n=!0,s=null;const{payload:a}=ft(e.access_token);if(a.exp&&(r=a.exp,n=r<=t),n){const{session:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return{data:{user:null,session:null},error:r};if(!t)return{data:{user:null,session:null},error:null};s=t}else{const{data:n,error:a}=await this._getUser(e.access_token);if(a)throw a;s={access_token:e.access_token,refresh_token:e.refresh_token,user:n.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(t){if($e(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:n,error:s}=t;if(s)throw s;e=null!==(r=n.session)&&void 0!==r?r:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new Fe;const{session:n,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if($e(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!ot())throw new We("No browser detected.");if(e.error||e.error_description||e.error_code)throw new We(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new He("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new We("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new He("No code detected.");const{data:t,error:r}=await this._exchangeCodeForSession(e.code);if(r)throw r;const n=new URL(window.location.href);return n.searchParams.delete("code"),window.history.replaceState(window.history.state,"",n.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:s,refresh_token:a,expires_in:i,expires_at:o,token_type:l}=e;if(!s||!i||!a||!l)throw new We("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(i);let d=c+u;o&&(d=parseInt(o));const h=d-c;1e3*h<=Ae&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${u}s`);const m=d-u;c-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,d,c):c-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,d,c);const{data:p,error:f}=await this._getUser(s);if(f)throw f;const g={provider_token:r,provider_refresh_token:n,access_token:s,expires_in:u,expires_at:d,refresh_token:a,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if($e(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await ht(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var r;const{data:n,error:s}=t;if(s)return{error:s};const a=null===(r=n.session)||void 0===r?void 0:r.access_token;if(a){const{error:t}=await this.admin.signOut(a,e);if(t&&(!function(e){return $e(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await mt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,n;try{const{data:{session:n},error:s}=t;if(s)throw s;await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(s){await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,n=null;"pkce"===this.flowType&&([r,n]=await yt(this.storage,this.storageKey,!0));try{return await Ct(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if($e(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if($e(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:n}=await this._useSession(async t=>{var r,n,s,a,i;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(r=e.options)||void 0===r?void 0:r.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(s=e.options)||void 0===s?void 0:s.queryParams,skipBrowserRedirect:!0});return await Ct(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(i=null===(a=o.session)||void 0===a?void 0:a.access_token)&&void 0!==i?i:void 0})});if(n)throw n;return ot()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===r||void 0===r?void 0:r.url),{data:{provider:e.provider,url:null===r||void 0===r?void 0:r.url},error:null}}catch(r){if($e(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,n;const{data:s,error:a}=t;if(a)throw a;return await Ct(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(n=null===(r=s.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0})})}catch(t){if($e(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await(r=async r=>(r>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await Ct(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Pt})),n=(e,t)=>{const r=200*Math.pow(2,e);return t&&Ge(t)&&Date.now()+r-s<Ae},new Promise((e,t)=>{(async()=>{for(let a=0;a<1/0;a++)try{const t=await r(a);if(!n(a,null,t))return void e(t)}catch(s){if(!n(a,s))return void t(s)}})()}))}catch(s){if(this._debug(t,"error",s),$e(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(t,"end")}var r,n}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),ot()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await ht(this.storage,this.storageKey);if(s&&this.userStorage){let t=await ht(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:s.user},await dt(this.userStorage,this.storageKey+"-user",t)),s.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:jt()}else if(s&&!s.user&&!s.user){const e=await ht(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(s.user=e.user,await mt(this.storage,this.storageKey+"-user"),await dt(this.storage,this.storageKey,s)):s.user=jt()}if(this._debug(r,"session from storage",s),!this._isValidSession(s))return this._debug(r,"session is not valid"),void(null!==s&&await this._removeSession());const a=1e3*(null!==(t=s.expires_at)&&void 0!==t?t:1/0)-Date.now()<Re;if(this._debug(r,`session has${a?"":" not"} expired with margin of 90000s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:e}=await this._callRefreshToken(s.refresh_token);e&&(console.error(e),Ge(e)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(s.user&&!0===s.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(s.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(s.user=e.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(n){console.error("Error getting user data:",n),this._debug(r,"error getting user data, skipping SIGNED_IN notification",n)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){return this._debug(r,"error",s),void console.error(s)}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new Fe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new pt;const{data:t,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new Fe;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const n={session:t.session,error:null};return this.refreshingDeferred.resolve(n),n}catch(s){if(this._debug(n,"error",s),$e(s)){const e={session:null,error:s};return Ge(s)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const n=[],s=Array.from(this.stateChangeEmitters.values()).map(async r=>{try{await r.callback(e,t)}catch(s){n.push(s)}});if(await Promise.all(s),n.length>0){for(let e=0;e<n.length;e+=1)console.error(n[e]);throw n[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),r=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!r&&t.user&&await dt(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const n=Nt(e);await dt(this.storage,this.storageKey,n)}else{const e=Nt(t);await dt(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await mt(this.storage,this.storageKey),await mt(this.storage,this.storageKey+"-code-verifier"),await mt(this.storage,this.storageKey+"-user"),this.userStorage&&await mt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ot()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ae);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:r}}=e;if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const n=Math.floor((1e3*r.expires_at-t)/Ae);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),n<=3&&await this._callRefreshToken(r.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(!(e.isAcquireTimeout||e instanceof Vt))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ot()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const n=[`provider=${encodeURIComponent(t)}`];if((null===r||void 0===r?void 0:r.redirectTo)&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),(null===r||void 0===r?void 0:r.scopes)&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),"pkce"===this.flowType){const[e,t]=await yt(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});n.push(r.toString())}if(null===r||void 0===r?void 0:r.queryParams){const e=new URLSearchParams(r.queryParams);n.push(e.toString())}return(null===r||void 0===r?void 0:r.skipBrowserRedirect)&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:n,error:s}=t;return s?{data:null,error:s}:await Ct(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token})})}catch(t){if($e(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,n;const{data:s,error:a}=t;if(a)return{data:null,error:a};const i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:o,error:l}=await Ct(this.fetch,"POST",`${this.url}/factors`,{body:i,headers:this.headers,jwt:null===(r=null===s||void 0===s?void 0:s.session)||void 0===r?void 0:r.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(n=null===o||void 0===o?void 0:o.totp)||void 0===n?void 0:n.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(t){if($e(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:n,error:s}=t;if(s)return{data:null,error:s};const{data:a,error:i}=await Ct(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token});return i?{data:null,error:i}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:i})})}catch(t){if($e(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:n,error:s}=t;return s?{data:null,error:s}:await Ct(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token})})}catch(t){if($e(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(null===e||void 0===e?void 0:e.factors)||[],n=r.filter(e=>"totp"===e.factor_type&&"verified"===e.status),s=r.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:r,totp:n,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:n},error:s}=e;if(s)return{data:null,error:s};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=ft(n.access_token);let i=null;a.aal&&(i=a.aal);let o=i;(null!==(r=null===(t=n.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==r?r:[]).length>0&&(o="aal2");return{data:{currentLevel:i,nextLevel:o,currentAuthenticationMethods:a.amr||[]},error:null}}))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;const r=Date.now();if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>r)return t;const{data:n,error:s}=await Ct(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return n.keys&&0!==n.keys.length?(this.jwks=n,this.jwks_cached_at=r,t=n.keys.find(t=>t.kid===e),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let r=e;if(!r){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};r=e.session.access_token}const{header:n,payload:s,signature:a,raw:{header:i,payload:o}}=ft(r);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(s.exp);const l=n.alg&&!n.alg.startsWith("HS")&&n.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(n.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(r);if(e)throw e;return{data:{claims:s,header:n,signature:a},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(n.alg),u=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,u,a,function(e){const t=[];return st(e,e=>t.push(e)),new Uint8Array(t)}(`${i}.${o}`)))throw new Ye("Invalid JWT signature");return{data:{claims:s,header:n,signature:a},error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}}}Ht.nextInstanceID=0;const Kt=Ht;class Gt extends Kt{constructor(e){super(e)}}var Jt=function(e,t,r,n){return new(r||(r=Promise))(function(s,a){function i(e){try{l(n.next(e))}catch(t){a(t)}}function o(e){try{l(n.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})};class Yt{constructor(e,t,r){var n,s,a;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const i=(o=e).endsWith("/")?o:o+"/";var o;const l=new URL(i);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u=function(e,t){var r,n;const{db:s,auth:a,realtime:i,global:o}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},u),i),storage:{},global:Object.assign(Object.assign(Object.assign({},d),o),{headers:Object.assign(Object.assign({},null!==(r=null===d||void 0===d?void 0:d.headers)&&void 0!==r?r:{}),null!==(n=null===o||void 0===o?void 0:o.headers)&&void 0!==n?n:{})}),accessToken:()=>Pe(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==r&&void 0!==r?r:{},{db:je,realtime:ke,auth:Object.assign(Object.assign({},Ne),{storageKey:c}),global:we});this.storageKey=null!==(n=u.auth.storageKey)&&void 0!==n?n:"",this.headers=null!==(s=u.global.headers)&&void 0!==s?s:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(a=u.auth)&&void 0!==a?a:{},this.headers,u.global.fetch),this.fetch=Ce(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new d(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new xe(this.storageUrl.href,this.headers,this.fetch,null===r||void 0===r?void 0:r.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new c(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,r)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Jt(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return null!==(t=null===(e=r.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey})}_initSupabaseAuthClient(e,t,r){let{autoRefreshToken:n,persistSession:s,detectSessionInUrl:a,storage:i,storageKey:o,flowType:l,lock:c,debug:u}=e;const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Gt({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),t),storageKey:o,autoRefreshToken:n,persistSession:s,detectSessionInUrl:a,storage:i,flowType:l,lock:c,debug:u,fetch:r,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new J(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,r){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===r?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=r}}(function(){if("undefined"!==typeof window)return!1;if("undefined"===typeof process)return!1;const e=process.version;if(void 0===e||null===e)return!1;const t=e.match(/^v(\d+)\./);return!!t&&parseInt(t[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Qt="https://sdkrnuemobvxvifqecoz.supabase.co",Xt="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNka3JudWVtb2J2eHZpZnFlY296Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ1NzQ0MDYsImV4cCI6MjA3MDE1MDQwNn0.YZTwo2XdFpfpqS2fVM9XOvR2Jq-kttOMW50oSPfCZ_8",Zt=((e,t,r)=>new Yt(e,t,r))(Qt,Xt),er=async e=>{const{error:t}=await Zt.storage.from("vehicle-images").remove([e]);if(t)throw t}},829:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(r(736));t.default=class{constructor(e,t){let{headers:r={},schema:n,fetch:s}=t;this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e){let{head:t=!1,count:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t?"HEAD":"GET";let a=!1;const i=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!a?"":('"'===e&&(a=!a),e)).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),new s.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e){let{count:t,defaultToNull:r=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[];if(this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),r||n.push("missing=default"),this.headers.Prefer=n.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new s.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e){let{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=[`resolution=${r?"ignore":"merge"}-duplicates`];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),a||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new s.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),this.headers.Prefer=r.join(","),new s.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new s.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},853:(e,t,r)=>{"use strict";e.exports=r(234)},950:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(730)},980:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const s=n(r(210));t.PostgrestClient=s.default;const a=n(r(829));t.PostgrestQueryBuilder=a.default;const i=n(r(736));t.PostgrestFilterBuilder=i.default;const o=n(r(374));t.PostgrestTransformBuilder=o.default;const l=n(r(286));t.PostgrestBuilder=l.default;const c=n(r(611));t.PostgrestError=c.default,t.default={PostgrestClient:s.default,PostgrestQueryBuilder:a.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:c.default}},986:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=986,e.exports=t}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,s){if(1&s&&(n=this(n)),8&s)return n;if("object"===typeof n&&n){if(4&s&&n.__esModule)return n;if(16&s&&"function"===typeof n.then)return n}var a=Object.create(null);r.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&s&&n;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>i[e]=()=>n[e]);return i.default=()=>n,r.d(a,i),a}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e,t=r(43),n=r.t(t,2),s=r(391),a=r(950),i=r.t(a,2);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Ie){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,r,n){return void 0===r&&(r=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:r,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function p(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function f(t,r,n,s){void 0===s&&(s={});let{window:a=document.defaultView,v5Compat:i=!1}=s,u=a.history,p=e.Pop,f=null,g=v();function v(){return(u.state||{idx:null}).idx}function y(){p=e.Pop;let t=v(),r=null==t?null:t-g;g=t,f&&f({action:p,location:b.location,delta:r})}function x(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,r="string"===typeof e?e:m(e);return r=r.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}null==g&&(g=0,u.replaceState(o({},u.state,{idx:g}),""));let b={get action(){return p},get location(){return t(a,u)},listen(e){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(l,y),f=e,()=>{a.removeEventListener(l,y),f=null}},createHref:e=>r(a,e),createURL:x,encodeLocation(e){let t=x(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,r){p=e.Push;let s=h(b.location,t,r);n&&n(s,t),g=v()+1;let o=d(s,g),l=b.createHref(s);try{u.pushState(o,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;a.location.assign(l)}i&&f&&f({action:p,location:b.location,delta:1})},replace:function(t,r){p=e.Replace;let s=h(b.location,t,r);n&&n(s,t),g=v();let a=d(s,g),o=b.createHref(s);u.replaceState(a,"",o),i&&f&&f({action:p,location:b.location,delta:0})},go:e=>u.go(e)};return b}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,r){return void 0===r&&(r="/"),y(e,t,r,!1)}function y(e,t,r,n){let s=R(("string"===typeof t?p(t):t).pathname||"/",r);if(null==s)return null;let a=x(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let i=null;for(let o=0;null==i&&o<a.length;++o){let e=A(s);i=P(a[o],e,n)}return i}function x(e,t,r,n){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===n&&(n="");let s=(e,s,a)=>{let i={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};i.relativePath.startsWith("/")&&(c(i.relativePath.startsWith(n),'Absolute route path "'+i.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(n.length));let o=M([n,i.relativePath]),l=r.concat(i);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),x(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:C(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let n of b(e.path))s(e,t,n);else s(e,t)}),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(0===n.length)return s?[a,""]:[a];let i=b(n.join("/")),o=[];return o.push(...i.map(e=>""===e?a:[a,e].join("/"))),s&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const w=/^:[\w-]+$/,j=3,N=2,k=1,S=10,_=-2,E=e=>"*"===e;function C(e,t){let r=e.split("/"),n=r.length;return r.some(E)&&(n+=_),t&&(n+=N),r.filter(e=>!E(e)).reduce((e,t)=>e+(w.test(t)?j:""===t?k:S),n)}function P(e,t,r){void 0===r&&(r=!1);let{routesMeta:n}=e,s={},a="/",i=[];for(let o=0;o<n.length;++o){let e=n[o],l=o===n.length-1,c="/"===a?t:t.slice(a.length)||"/",u=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&r&&!n[n.length-1].route.index&&(u=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(s,u.params),i.push({params:s,pathname:M([a,u.pathname]),pathnameBase:$(M([a,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(a=M([a,u.pathnameBase]))}return i}function T(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(n.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let a=new RegExp(s,t?void 0:"i");return[a,n]}(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),o=s.slice(1),l=n.reduce((e,t,r)=>{let{paramName:n,isOptional:s}=t;if("*"===n){let e=o[r]||"";i=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[r];return e[n]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:a,pathnameBase:i,pattern:e}}function A(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function O(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function L(e,t){let r=D(e);return t?r.map((e,t)=>t===r.length-1?e.pathname:e.pathnameBase):r.map(e=>e.pathnameBase)}function I(e,t,r,n){let s;void 0===n&&(n=!1),"string"===typeof e?s=p(e):(s=o({},e),c(!s.pathname||!s.pathname.includes("?"),O("?","pathname","search",s)),c(!s.pathname||!s.pathname.includes("#"),O("#","pathname","hash",s)),c(!s.search||!s.search.includes("#"),O("#","search","hash",s)));let a,i=""===e||""===s.pathname,l=i?"/":s.pathname;if(null==l)a=r;else{let e=t.length-1;if(!n&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}a=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:r,search:n="",hash:s=""}="string"===typeof e?p(e):e,a=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:a,search:U(n),hash:V(s)}}(s,a),d=l&&"/"!==l&&l.endsWith("/"),h=(i||"."===l)&&r.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const M=e=>e.join("/").replace(/\/\/+/g,"/"),$=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",V=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const F=["post","put","patch","delete"],B=(new Set(F),["get",...F]);new Set(B),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q.apply(this,arguments)}const W=t.createContext(null);const H=t.createContext(null);const K=t.createContext(null);const G=t.createContext(null);const J=t.createContext({outlet:null,matches:[],isDataRoute:!1});const Y=t.createContext(null);function Q(){return null!=t.useContext(G)}function X(){return Q()||c(!1),t.useContext(G).location}function Z(e){t.useContext(K).static||t.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=t.useContext(J);return e?function(){let{router:e}=ue(le.UseNavigateStable),r=he(ce.UseNavigateStable),n=t.useRef(!1);Z(()=>{n.current=!0});let s=t.useCallback(function(t,s){void 0===s&&(s={}),n.current&&("number"===typeof t?e.navigate(t):e.navigate(t,q({fromRouteId:r},s)))},[e,r]);return s}():function(){Q()||c(!1);let e=t.useContext(W),{basename:r,future:n,navigator:s}=t.useContext(K),{matches:a}=t.useContext(J),{pathname:i}=X(),o=JSON.stringify(L(a,n.v7_relativeSplatPath)),l=t.useRef(!1);return Z(()=>{l.current=!0}),t.useCallback(function(t,n){if(void 0===n&&(n={}),!l.current)return;if("number"===typeof t)return void s.go(t);let a=I(t,JSON.parse(o),i,"path"===n.relative);null==e&&"/"!==r&&(a.pathname="/"===a.pathname?r:M([r,a.pathname])),(n.replace?s.replace:s.push)(a,n.state,n)},[r,s,o,i,e])}()}function te(e,r){let{relative:n}=void 0===r?{}:r,{future:s}=t.useContext(K),{matches:a}=t.useContext(J),{pathname:i}=X(),o=JSON.stringify(L(a,s.v7_relativeSplatPath));return t.useMemo(()=>I(e,JSON.parse(o),i,"path"===n),[e,o,i,n])}function re(r,n,s,a){Q()||c(!1);let{navigator:i}=t.useContext(K),{matches:o}=t.useContext(J),l=o[o.length-1],u=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,m=X();if(n){var f;let e="string"===typeof n?p(n):n;"/"===d||(null==(f=e.pathname)?void 0:f.startsWith(d))||c(!1),h=e}else h=m;let g=h.pathname||"/",y=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=v(r,{pathname:y});let b=oe(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:M([d,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:M([d,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,s,a);return n&&b?t.createElement(G.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:e.Pop}},b):b}function ne(){let e=function(){var e;let r=t.useContext(Y),n=de(ce.UseRouteError),s=he(ce.UseRouteError);if(void 0!==r)return r;return null==(e=n.errors)?void 0:e[s]}(),r=z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},r),n?t.createElement("pre",{style:a},n):null,null)}const se=t.createElement(ne,null);class ae extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(J.Provider,{value:this.props.routeContext},t.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ie(e){let{routeContext:r,match:n,children:s}=e,a=t.useContext(W);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),t.createElement(J.Provider,{value:r},s)}function oe(e,r,n,s){var a;if(void 0===r&&(r=[]),void 0===n&&(n=null),void 0===s&&(s=null),null==e){var i;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(i=s)&&i.v7_partialHydration&&0===r.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(a=n)?void 0:a.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||c(!1),o=o.slice(0,Math.min(o.length,e+1))}let u=!1,d=-1;if(n&&s&&s.v7_partialHydration)for(let t=0;t<o.length;t++){let e=o[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=t),e.route.id){let{loaderData:t,errors:r}=n,s=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||s){u=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight((e,s,a)=>{let i,c=!1,h=null,m=null;var p;n&&(i=l&&s.route.id?l[s.route.id]:void 0,h=s.route.errorElement||se,u&&(d<0&&0===a?(p="route-fallback",!1||me[p]||(me[p]=!0),c=!0,m=null):d===a&&(c=!0,m=s.route.hydrateFallbackElement||null)));let f=r.concat(o.slice(0,a+1)),g=()=>{let r;return r=i?h:c?m:s.route.Component?t.createElement(s.route.Component,null):s.route.element?s.route.element:e,t.createElement(ie,{match:s,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:r})};return n&&(s.route.ErrorBoundary||s.route.errorElement||0===a)?t.createElement(ae,{location:n.location,revalidation:n.revalidation,component:h,error:i,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()},null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function ue(e){let r=t.useContext(W);return r||c(!1),r}function de(e){let r=t.useContext(H);return r||c(!1),r}function he(e){let r=function(){let e=t.useContext(J);return e||c(!1),e}(),n=r.matches[r.matches.length-1];return n.route.id||c(!1),n.route.id}const me={};function pe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}n.startTransition;function fe(e){let{to:r,replace:n,state:s,relative:a}=e;Q()||c(!1);let{future:i,static:o}=t.useContext(K),{matches:l}=t.useContext(J),{pathname:u}=X(),d=ee(),h=I(r,L(l,i.v7_relativeSplatPath),u,"path"===a),m=JSON.stringify(h);return t.useEffect(()=>d(JSON.parse(m),{replace:n,state:s,relative:a}),[d,m,a,n,s]),null}function ge(e){c(!1)}function ve(r){let{basename:n="/",children:s=null,location:a,navigationType:i=e.Pop,navigator:o,static:l=!1,future:u}=r;Q()&&c(!1);let d=n.replace(/^\/*/,"/"),h=t.useMemo(()=>({basename:d,navigator:o,static:l,future:q({v7_relativeSplatPath:!1},u)}),[d,u,o,l]);"string"===typeof a&&(a=p(a));let{pathname:m="/",search:f="",hash:g="",state:v=null,key:y="default"}=a,x=t.useMemo(()=>{let e=R(m,d);return null==e?null:{location:{pathname:e,search:f,hash:g,state:v,key:y},navigationType:i}},[d,m,f,g,v,y,i]);return null==x?null:t.createElement(K.Provider,{value:h},t.createElement(G.Provider,{children:s,value:x}))}function ye(e){let{children:t,location:r}=e;return re(xe(t),r)}new Promise(()=>{});t.Component;function xe(e,r){void 0===r&&(r=[]);let n=[];return t.Children.forEach(e,(e,s)=>{if(!t.isValidElement(e))return;let a=[...r,s];if(e.type===t.Fragment)return void n.push.apply(n,xe(e.props.children,a));e.type!==ge&&c(!1),e.props.index&&e.props.children&&c(!1);let i={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=xe(e.props.children,a)),n.push(i)}),n}function be(){return be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},be.apply(this,arguments)}function we(e,t){if(null==e)return{};var r,n,s={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}function je(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(e=>[r,e]):[[r,n]])},[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ne=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Ie){}new Map;const ke=n.startTransition;i.flushSync,n.useId;function Se(e){let{basename:r,children:n,future:s,window:a}=e,i=t.useRef();var o;null==i.current&&(i.current=(void 0===(o={window:a,v5Compat:!0})&&(o={}),f(function(e,t){let{pathname:r,search:n,hash:s}=e.location;return h("",{pathname:r,search:n,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:m(t)},null,o)));let l=i.current,[c,u]=t.useState({action:l.action,location:l.location}),{v7_startTransition:d}=s||{},p=t.useCallback(e=>{d&&ke?ke(()=>u(e)):u(e)},[u,d]);return t.useLayoutEffect(()=>l.listen(p),[l,p]),t.useEffect(()=>pe(s),[s]),t.createElement(ve,{basename:r,children:n,location:c.location,navigationType:c.action,navigator:l,future:s})}const _e="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ce=t.forwardRef(function(e,r){let n,{onClick:s,relative:a,reloadDocument:i,replace:o,state:l,target:u,to:d,preventScrollReset:h,viewTransition:p}=e,f=we(e,Ne),{basename:g}=t.useContext(K),v=!1;if("string"===typeof d&&Ee.test(d)&&(n=d,_e))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),r=R(t.pathname,g);t.origin===e.origin&&null!=r?d=r+t.search+t.hash:v=!0}catch(Ie){}let y=function(e,r){let{relative:n}=void 0===r?{}:r;Q()||c(!1);let{basename:s,navigator:a}=t.useContext(K),{hash:i,pathname:o,search:l}=te(e,{relative:n}),u=o;return"/"!==s&&(u="/"===o?s:M([s,o])),a.createHref({pathname:u,search:l,hash:i})}(d,{relative:a}),x=function(e,r){let{target:n,replace:s,state:a,preventScrollReset:i,relative:o,viewTransition:l}=void 0===r?{}:r,c=ee(),u=X(),d=te(e,{relative:o});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let r=void 0!==s?s:m(u)===m(d);c(e,{replace:r,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,s,a,n,e,i,o,l])}(d,{replace:o,state:l,target:u,preventScrollReset:h,relative:a,viewTransition:p});return t.createElement("a",be({},f,{href:n||y,onClick:v||i?s:function(e){s&&s(e),e.defaultPrevented||x(e)},ref:r,target:u}))});var Pe,Te;function Ae(e){let r=t.useRef(je(e)),n=t.useRef(!1),s=X(),a=t.useMemo(()=>function(e,t){let r=je(e);return t&&t.forEach((e,n)=>{r.has(n)||t.getAll(n).forEach(e=>{r.append(n,e)})}),r}(s.search,n.current?null:r.current),[s.search]),i=ee(),o=t.useCallback((e,t)=>{const r=je("function"===typeof e?e(a):e);n.current=!0,i("?"+r,t)},[i,a]);return[a,o]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Pe||(Pe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Te||(Te={}));var Re=r(785);const Oe={async signUp(e,t,r){const{data:n,error:s}=await Re.supabase.auth.signUp({email:e,password:t,options:{data:{display_name:r}}});if(s)throw s;return n},async signIn(e,t){const{data:r,error:n}=await Re.supabase.auth.signInWithPassword({email:e,password:t});if(n)throw n;return r},async signOut(){const{error:e}=await Re.supabase.auth.signOut();if(e)throw e},async getSession(){const{data:{session:e}}=await Re.supabase.auth.getSession();return e},async getUserProfile(e){console.log("\ud83d\udd0d Buscando perfil para userId:",e);try{const{data:r,error:n}=await Re.supabase.from("profiles").select("*").eq("id",e).single();if(n){var t;console.warn("\u26a0\ufe0f Error obteniendo perfil de DB:",n);const{data:{user:r}}=await Re.supabase.auth.getUser();return"oterov101@gmail.com"===(null===r||void 0===r?void 0:r.email)?(console.log("\ud83d\udd11 Retornando perfil owner para oterov101@gmail.com"),{id:e,email:"oterov101@gmail.com",display_name:"Administrador Principal",role:"owner"}):{id:e,email:(null===r||void 0===r?void 0:r.email)||"usuario@example.com",display_name:(null===r||void 0===r||null===(t=r.user_metadata)||void 0===t?void 0:t.display_name)||"Usuario",role:"cliente"}}return console.log("\u2705 Perfil encontrado:",r),r}catch(n){var r;console.warn("\u26a0\ufe0f Error en getUserProfile, usando fallback:",n);const{data:{user:t}}=await Re.supabase.auth.getUser();return{id:e,email:(null===t||void 0===t?void 0:t.email)||"usuario@example.com",display_name:(null===t||void 0===t||null===(r=t.user_metadata)||void 0===r?void 0:r.display_name)||"Usuario",role:"oterov101@gmail.com"===(null===t||void 0===t?void 0:t.email)?"owner":"cliente"}}},onAuthStateChange:e=>Re.supabase.auth.onAuthStateChange(e),async resetPassword(e){const{error:t}=await Re.supabase.auth.resetPasswordForEmail(e);if(t)throw t}},De={async getVehicles(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Re.supabase.from("vehicles").select("*");if(e.brand&&(t=t.ilike("brand",`%${e.brand}%`)),e.model&&(t=t.ilike("model",`%${e.model}%`)),e.type&&(t=t.eq("type",e.type)),e.condition&&(t=t.eq("condition",e.condition)),e.transmission&&(t=t.eq("transmission",e.transmission)),e.fuelType&&(t=t.eq("fuel_type",e.fuelType)),e.minPrice&&(t=t.gte("price",e.minPrice)),e.maxPrice&&(t=t.lte("price",e.maxPrice)),e.minYear&&(t=t.gte("year",e.minYear)),e.maxYear&&(t=t.lte("year",e.maxYear)),e.sortBy){const r="desc"!==e.sortOrder;t=t.order(e.sortBy,{ascending:r})}else t=t.order("created_at",{ascending:!1});e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;var s,a,i;if(n)throw console.error("\u274c Error en query Supabase:",n),console.error("\u274c Detalles del error:",n),(null!==(s=n.message)&&void 0!==s&&s.includes("RLS")||null!==(a=n.message)&&void 0!==a&&a.includes("policy")||null!==(i=n.message)&&void 0!==i&&i.includes("permission"))&&console.log("\ud83d\udd12 Error de permisos RLS, necesario revisar configuraci\xf3n"),n;return console.log("\u2705 Query exitosa, datos recibidos:",(null===r||void 0===r?void 0:r.length)||0),r||[]},async getVehicleById(e){await Re.supabase.rpc("increment_vehicle_views",{vehicle_id:e});const{data:t,error:r}=await Re.supabase.from("vehicles").select("*").eq("id",e).single();if(r)throw r;return t},async createVehicle(e){console.log("\ud83d\udd0d Datos recibidos en createVehicle:",e);const{data:t,error:r}=await Re.supabase.from("vehicles").insert([{brand:e.brand,model:e.model,year:e.year,kilometers:e.kilometers,price:e.price,price_ars:e.price_ars,condition:e.condition,transmission:e.transmission,fuel_type:e.fuel_type,color:e.color,type:e.type,location:e.location,engine:e.engine,power:e.power,features:e.features||[],images:e.images||[],is_featured:e.is_featured||!1,is_promotion:e.is_promotion||!1}]).select().single();if(r)throw console.error("\u274c Error en createVehicle:",r),r;return console.log("\u2705 Veh\xedculo creado exitosamente:",t),t},async updateVehicle(e,t){const{data:r,error:n}=await Re.supabase.from("vehicles").update({brand:t.brand,model:t.model,year:t.year,kilometers:t.kilometers,price:t.price,price_ars:t.priceARS,condition:t.condition,transmission:t.transmission,fuel_type:t.fuelType,color:t.color,type:t.type,location:t.location,engine:t.engine,power:t.power,features:t.features,images:t.images,is_featured:t.isFeatured,is_promotion:t.isPromotion}).eq("id",e).select().single();if(n)throw n;return r},async deleteVehicle(e){const{data:t,error:r}=await Re.supabase.from("vehicles").select("images").eq("id",e).single();r&&console.error("Error obteniendo veh\xedculo:",r);const{error:n}=await Re.supabase.from("vehicles").delete().eq("id",e);if(n)throw n;if(t&&t.images&&t.images.length>0){console.log("\ud83d\uddd1\ufe0f Eliminando im\xe1genes del veh\xedculo:",t.images.length);for(const e of t.images)try{const t=e.split("/"),r=`vehicles/${t[t.length-1]}`;console.log("\ud83d\uddd1\ufe0f Eliminando imagen:",r);const{error:n}=await Re.supabase.storage.from("vehicle-images").remove([r]);n?console.error("\u274c Error eliminando imagen:",n):console.log("\u2705 Imagen eliminada exitosamente:",r)}catch(s){console.error("\u274c Error procesando imagen:",s)}}console.log("\u2705 Veh\xedculo e im\xe1genes eliminados exitosamente")},async getFeaturedVehicles(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;const{data:t,error:r}=await Re.supabase.from("vehicles").select("*").eq("is_featured",!0).order("created_at",{ascending:!1}).limit(e);if(r)throw r;return t},async getPromotionVehicles(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;const{data:t,error:r}=await Re.supabase.from("vehicles").select("*").eq("is_promotion",!0).order("created_at",{ascending:!1}).limit(e);if(r)throw r;return t},async getSimilarVehicles(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;const{data:r,error:n}=await Re.supabase.from("vehicles").select("*").neq("id",e.id).or(`brand.eq.${e.brand},type.eq.${e.type}`).order("created_at",{ascending:!1}).limit(t);if(n)throw n;return r},async uploadVehicleImage(e,t,r){console.log("\ud83d\udce4 Iniciando subida de imagen:",{fileName:e.name,fileSize:e.size,vehicleId:t,imageIndex:r});const n=`vehicles/${`${t}-${r}.${e.name.split(".").pop()}`}`;console.log("\ud83d\udcc1 Ruta de archivo:",n);const{data:s,error:a}=await Re.supabase.storage.from("vehicle-images").upload(n,e);if(a)throw console.error("\u274c Error subiendo imagen:",a),console.error("\u274c Detalles del error:",{message:a.message,statusCode:a.statusCode,error:a.error}),a;console.log("\u2705 Imagen subida exitosamente:",s);const{data:{publicUrl:i}}=Re.supabase.storage.from("vehicle-images").getPublicUrl(n);return console.log("\ud83d\udd17 URL p\xfablica generada:",i),i}},Le={async getStatistics(){const{count:e}=await Re.supabase.from("vehicles").select("*",{count:"exact",head:!0}),{count:t}=await Re.supabase.from("vehicles").select("*",{count:"exact",head:!0}).eq("is_featured",!0),{count:r}=await Re.supabase.from("vehicles").select("*",{count:"exact",head:!0}).eq("is_promotion",!0),{data:n}=await Re.supabase.from("vehicles").select("views");return{totalVehicles:e||0,totalViews:(null===n||void 0===n?void 0:n.reduce((e,t)=>e+(t.views||0),0))||0,featuredVehicles:t||0,promotionVehicles:r||0}},async getVehicleConditionStats(){try{const{data:e,error:t}=await Re.supabase.rpc("get_vehicle_condition_stats");if(t)throw t;return e[0]||{new_vehicles:0,used_vehicles:0,total_vehicles:0}}catch(e){return console.error("Error obteniendo estad\xedsticas de condici\xf3n:",e),{new_vehicles:0,used_vehicles:0,total_vehicles:0}}},async getBlogViewsStats(){try{const{data:e,error:t}=await Re.supabase.rpc("get_blog_views_stats");if(t)throw t;return e[0]||{total_views:0,total_articles:0,avg_views_per_article:0}}catch(e){return console.error("Error obteniendo estad\xedsticas de blog:",e),{total_views:0,total_articles:0,avg_views_per_article:0}}},async getEnhancedVehicleStats(){try{const{data:e,error:t}=await Re.supabase.rpc("get_enhanced_vehicle_stats");if(t)throw t;return e[0]||{total_vehicles:0,total_views:0,featured_vehicles:0,promotion_vehicles:0,new_vehicles:0,used_vehicles:0}}catch(e){return console.error("Error obteniendo estad\xedsticas mejoradas:",e),{total_vehicles:0,total_views:0,featured_vehicles:0,promotion_vehicles:0,new_vehicles:0,used_vehicles:0}}},async getGalleryViewsStats(){try{const{data:e,error:t}=await Re.supabase.rpc("get_gallery_views_stats");if(t)throw t;return e[0]||{total_views:0,total_items:0,avg_views_per_item:0,total_unique_visitors:0}}catch(e){return console.error("Error obteniendo estad\xedsticas de galer\xeda:",e),{total_views:0,total_items:0,avg_views_per_item:0,total_unique_visitors:0}}}};let Ie={data:""},Me=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Ie,$e=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Ue=/\/\*[^]*?\*\/|  +/g,Ve=/\n+/g,ze=(e,t)=>{let r="",n="",s="";for(let a in e){let i=e[a];"@"==a[0]?"i"==a[1]?r=a+" "+i+";":n+="f"==a[1]?ze(i,a):a+"{"+ze(i,"k"==a[1]?"":t)+"}":"object"==typeof i?n+=ze(i,t?t.replace(/([^,])+/g,e=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):a):null!=i&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=ze.p?ze.p(a,i):a+":"+i+";")}return r+(t&&s?t+"{"+s+"}":s)+n},Fe={},Be=e=>{if("object"==typeof e){let t="";for(let r in e)t+=r+Be(e[r]);return t}return e},qe=(e,t,r,n,s)=>{let a=Be(e),i=Fe[a]||(Fe[a]=(e=>{let t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return"go"+r})(a));if(!Fe[i]){let t=a!==e?e:(e=>{let t,r,n=[{}];for(;t=$e.exec(e.replace(Ue,""));)t[4]?n.shift():t[3]?(r=t[3].replace(Ve," ").trim(),n.unshift(n[0][r]=n[0][r]||{})):n[0][t[1]]=t[2].replace(Ve," ").trim();return n[0]})(e);Fe[i]=ze(s?{["@keyframes "+i]:t}:t,r?"":"."+i)}let o=r&&Fe.g?Fe.g:null;return r&&(Fe.g=Fe[i]),((e,t,r,n)=>{n?t.data=t.data.replace(n,e):-1===t.data.indexOf(e)&&(t.data=r?e+t.data:t.data+e)})(Fe[i],t,n,o),i};function We(e){let t=this||{},r=e.call?e(t.p):e;return qe(r.unshift?r.raw?((e,t,r)=>e.reduce((e,n,s)=>{let a=t[s];if(a&&a.call){let e=a(r),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;a=t?"."+t:e&&"object"==typeof e?e.props?"":ze(e,""):!1===e?"":e}return e+n+(null==a?"":a)},""))(r,[].slice.call(arguments,1),t.p):r.reduce((e,r)=>Object.assign(e,r&&r.call?r(t.p):r),{}):r,Me(t.target),t.g,t.o,t.k)}We.bind({g:1});let He,Ke,Ge,Je=We.bind({k:1});function Ye(e,t){let r=this||{};return function(){let n=arguments;function s(a,i){let o=Object.assign({},a),l=o.className||s.className;r.p=Object.assign({theme:Ke&&Ke()},o),r.o=/ *go\d+/.test(l),o.className=We.apply(r,n)+(l?" "+l:""),t&&(o.ref=i);let c=e;return e[0]&&(c=o.as||e,delete o.as),Ge&&c[0]&&Ge(o),He(c,o)}return t?t(s):s}}var Qe=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,Xe=(()=>{let e=0;return()=>(++e).toString()})(),Ze=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),et=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case 2:let{toast:r}=t;return et(e,{type:e.toasts.find(e=>e.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(e=>e.id===n||void 0===n?{...e,dismissed:!0,visible:!1}:e)};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(e=>({...e,pauseDuration:e.pauseDuration+s}))}}},tt=[],rt={toasts:[],pausedAt:void 0},nt=e=>{rt=et(rt,e),tt.forEach(e=>{e(rt)})},st={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},at=e=>(t,r)=>{let n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",r=arguments.length>2?arguments[2]:void 0;return{createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(null==r?void 0:r.id)||Xe()}}(t,e,r);return nt({type:2,toast:n}),n.id},it=(e,t)=>at("blank")(e,t);it.error=at("error"),it.success=at("success"),it.loading=at("loading"),it.custom=at("custom"),it.dismiss=e=>{nt({type:3,toastId:e})},it.remove=e=>nt({type:4,toastId:e}),it.promise=(e,t,r)=>{let n=it.loading(t.loading,{...r,...null==r?void 0:r.loading});return"function"==typeof e&&(e=e()),e.then(e=>{let s=t.success?Qe(t.success,e):void 0;return s?it.success(s,{id:n,...r,...null==r?void 0:r.success}):it.dismiss(n),e}).catch(e=>{let s=t.error?Qe(t.error,e):void 0;s?it.error(s,{id:n,...r,...null==r?void 0:r.error}):it.dismiss(n)}),e};var ot=(e,t)=>{nt({type:1,toast:{id:e,height:t}})},lt=()=>{nt({type:5,time:Date.now()})},ct=new Map,ut=e=>{let{toasts:r,pausedAt:n}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[r,n]=(0,t.useState)(rt),s=(0,t.useRef)(rt);(0,t.useEffect)(()=>(s.current!==rt&&n(rt),tt.push(n),()=>{let e=tt.indexOf(n);e>-1&&tt.splice(e,1)}),[]);let a=r.toasts.map(t=>{var r,n,s;return{...e,...e[t.type],...t,removeDelay:t.removeDelay||(null==(r=e[t.type])?void 0:r.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(n=e[t.type])?void 0:n.duration)||(null==e?void 0:e.duration)||st[t.type],style:{...e.style,...null==(s=e[t.type])?void 0:s.style,...t.style}}});return{...r,toasts:a}}(e);(0,t.useEffect)(()=>{if(n)return;let e=Date.now(),t=r.map(t=>{if(t.duration===1/0)return;let r=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(r<0))return setTimeout(()=>it.dismiss(t.id),r);t.visible&&it.dismiss(t.id)});return()=>{t.forEach(e=>e&&clearTimeout(e))}},[r,n]);let s=(0,t.useCallback)(()=>{n&&nt({type:6,time:Date.now()})},[n]),a=(0,t.useCallback)((e,t)=>{let{reverseOrder:n=!1,gutter:s=8,defaultPosition:a}=t||{},i=r.filter(t=>(t.position||a)===(e.position||a)&&t.height),o=i.findIndex(t=>t.id===e.id),l=i.filter((e,t)=>t<o&&e.visible).length;return i.filter(e=>e.visible).slice(...n?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+s,0)},[r]);return(0,t.useEffect)(()=>{r.forEach(e=>{if(e.dismissed)!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(ct.has(e))return;let r=setTimeout(()=>{ct.delete(e),nt({type:4,toastId:e})},t);ct.set(e,r)}(e.id,e.removeDelay);else{let t=ct.get(e.id);t&&(clearTimeout(t),ct.delete(e.id))}})},[r]),{toasts:r,handlers:{updateHeight:ot,startPause:lt,endPause:s,calculateOffset:a}}},dt=Je`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ht=Je`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,mt=Je`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,pt=Ye("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${dt} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ht} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${mt} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ft=Je`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,gt=Ye("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${ft} 1s linear infinite;
`,vt=Je`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,yt=Je`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,xt=Ye("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${vt} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${yt} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,bt=Ye("div")`
  position: absolute;
`,wt=Ye("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,jt=Je`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Nt=Ye("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${jt} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,kt=e=>{let{toast:r}=e,{icon:n,type:s,iconTheme:a}=r;return void 0!==n?"string"==typeof n?t.createElement(Nt,null,n):n:"blank"===s?null:t.createElement(wt,null,t.createElement(gt,{...a}),"loading"!==s&&t.createElement(bt,null,"error"===s?t.createElement(pt,{...a}):t.createElement(xt,{...a})))},St=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,_t=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,Et=Ye("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Ct=Ye("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Pt=t.memo(e=>{let{toast:r,position:n,style:s,children:a}=e,i=r.height?((e,t)=>{let r=e.includes("top")?1:-1,[n,s]=Ze()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[St(r),_t(r)];return{animation:t?`${Je(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Je(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(r.position||n||"top-center",r.visible):{opacity:0},o=t.createElement(kt,{toast:r}),l=t.createElement(Ct,{...r.ariaProps},Qe(r.message,r));return t.createElement(Et,{className:r.className,style:{...i,...s,...r.style}},"function"==typeof a?a({icon:o,message:l}):t.createElement(t.Fragment,null,o,l))});!function(e,t,r,n){ze.p=t,He=e,Ke=r,Ge=n}(t.createElement);var Tt=e=>{let{id:r,className:n,style:s,onHeightUpdate:a,children:i}=e,o=t.useCallback(e=>{if(e){let t=()=>{let t=e.getBoundingClientRect().height;a(r,t)};t(),new MutationObserver(t).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[r,a]);return t.createElement("div",{ref:o,className:n,style:s},i)},At=We`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Rt=e=>{let{reverseOrder:r,position:n="top-center",toastOptions:s,gutter:a,children:i,containerStyle:o,containerClassName:l}=e,{toasts:c,handlers:u}=ut(s);return t.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...o},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(e=>{let s=e.position||n,o=((e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Ze()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}})(s,u.calculateOffset(e,{reverseOrder:r,gutter:a,defaultPosition:n}));return t.createElement(Tt,{id:e.id,key:e.id,onHeightUpdate:u.updateHeight,className:e.visible?At:"",style:o},"custom"===e.type?Qe(e.message,e):i?i(e):t.createElement(Pt,{toast:e,position:s}))}))},Ot=it,Dt=r(579);const Lt=(0,t.createContext)();function It(){return(0,t.useContext)(Lt)}function Mt(e){let{children:r}=e;const[n,s]=(0,t.useState)(null),[a,i]=(0,t.useState)("usuario"),[o,l]=(0,t.useState)(!0),[c,u]=(0,t.useState)(!1);function d(e){return{"Usuario no encontrado":"No existe una cuenta con este email","Contrase\xf1a incorrecta":"Contrase\xf1a incorrecta","El usuario ya existe":"Este email ya est\xe1 registrado","Email inv\xe1lido":"Email inv\xe1lido","Demasiados intentos":"Demasiados intentos. Intenta m\xe1s tarde","Cuenta deshabilitada":"Esta cuenta ha sido deshabilitada","Operaci\xf3n no permitida":"Operaci\xf3n no permitida","Credenciales inv\xe1lidas":"Credenciales inv\xe1lidas"}[e]||e||"Error desconocido"}(0,t.useEffect)(()=>{(async()=>{try{const t=await Oe.getSession();if(null!==t&&void 0!==t&&t.user){if(s(t.user),console.log("\ud83d\udc64 Usuario autenticado:",t.user.email),"oterov101@gmail.com"===t.user.email)return i("owner"),void console.log("\ud83d\udc51 OWNER FORZADO para oterov101@gmail.com");try{const{data:e,error:r}=await Oe.getUserProfile(t.user.id);r?(console.warn("\u26a0\ufe0f No se pudo obtener perfil, usando rol cliente por defecto"),i("cliente")):(console.log("\u2705 Rol obtenido desde DB:",e.role),i(e.role||"cliente"))}catch(e){console.warn("\u26a0\ufe0f Error obteniendo perfil, usando rol cliente por defecto:",e),i("cliente")}}}catch(t){console.error("\u274c Error obteniendo sesi\xf3n:",t)}finally{console.log("\u2705 Carga de autenticaci\xf3n completada"),l(!1)}})();const e=setTimeout(()=>{console.log("\u23f0 Timeout de autenticaci\xf3n - forzando carga"),l(!1)},1500),{data:{subscription:t}}=Oe.onAuthStateChange(async(e,t)=>{if("SIGNED_IN"===e&&null!==t&&void 0!==t&&t.user){if(s(t.user),"oterov101@gmail.com"===t.user.email)return i("owner"),void console.log("\ud83d\udc51 OWNER FORZADO en onChange para oterov101@gmail.com");try{const e=await Oe.getUserProfile(t.user.id);console.log("\u2705 Rol obtenido desde DB en onChange:",e.role),i(e.role||"cliente")}catch(r){console.warn("\u26a0\ufe0f Error obteniendo perfil en onChange, usando rol cliente por defecto:",r),i("cliente")}}else"SIGNED_OUT"===e&&(console.log("\ud83d\udd13 SIGNED_OUT detectado, limpiando estado..."),s(null),i("usuario"),u(!1))});return()=>{t.unsubscribe(),clearTimeout(e)}},[]);const h={currentUser:n,userRole:a,signup:async function(e,t,r){try{const n=await Oe.signUp(e,t,r);return Ot.success("Cuenta creada exitosamente. Revisa tu email para confirmar."),n}catch(n){throw console.error("Error en registro:",n),Ot.error(d(n.message)),n}},login:async function(e,t){try{const r=await Oe.signIn(e,t);return Ot.success("Inicio de sesi\xf3n exitoso"),r}catch(r){throw console.error("Error en login:",r),Ot.error(d(r.message)),r}},logout:async function(){if(c)console.log("\ud83d\udd04 Logout ya en progreso, ignorando...");else try{u(!0),console.log("\ud83d\udeaa AuthContext: Iniciando logout..."),await Oe.signOut(),console.log("\u2705 AuthContext: Logout exitoso"),Ot.success("Sesi\xf3n cerrada")}catch(e){console.error("\u274c Error en logout:",e),Ot.error("Error al cerrar sesi\xf3n")}finally{u(!1)}},resetPassword:async function(e){try{await Oe.resetPassword(e),Ot.success("Email de recuperaci\xf3n enviado")}catch(t){throw console.error("Error en reset password:",t),Ot.error(d(t.message)),t}},isOwner:async function(){if(!n)return console.log("\ud83d\udd0d isOwner: No hay usuario autenticado"),!1;if("oterov101@gmail.com"===n.email)return console.log("\ud83d\udc51 OWNER FORZADO en isOwner() para oterov101@gmail.com"),!0;const e="owner"===a;return console.log("\ud83d\udd0d Verificaci\xf3n owner desde userRole:",{email:n.email,userRole:a,isOwner:e}),e},isAdmin:function(){return console.log("\ud83d\udd0d Verificando rol admin:",{userRole:a,currentUser:null===n||void 0===n?void 0:n.email,result:"admin"===a||"owner"===a}),"admin"===a||"owner"===a},isClient:function(){return"cliente"===a||"admin"===a||"owner"===a},loading:o};return(0,Dt.jsx)(Lt.Provider,{value:h,children:r})}var $t={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};var Ut=(e,r)=>{const n=(0,t.forwardRef)((n,s)=>{let{color:a="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:l,children:c,...u}=n;return(0,t.createElement)("svg",{ref:s,...$t,width:i,height:i,stroke:a,strokeWidth:l?24*Number(o)/Number(i):o,className:`lucide lucide-${d=e,d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,...u},[...r.map(e=>{let[r,n]=e;return(0,t.createElement)(r,n)}),...(Array.isArray(c)?c:[c])||[]]);var d});return n.displayName=`${e}`,n};const Vt=Ut("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),zt=Ut("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),Ft=Ut("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Bt=Ut("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),qt=Ut("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Wt=Ut("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Ht="undefined"!==typeof document,Kt=Ht?t.useLayoutEffect:t.useEffect;function Gt(){const e=(0,t.useRef)(!1);return Kt(()=>(e.current=!0,()=>{e.current=!1}),[]),e}const Jt=e=>e;class Yt{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}const Qt=["prepare","read","update","preRender","render","postRender"];const{schedule:Xt,cancel:Zt,state:er,steps:tr}=function(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=Qt.reduce((e,t)=>(e[t]=function(e){let t=new Yt,r=new Yt,n=0,s=!1,a=!1;const i=new WeakSet,o={schedule:function(e){const a=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&s,o=a?t:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&i.add(e),o.add(e)&&a&&s&&(n=t.order.length),e},cancel:e=>{r.remove(e),i.delete(e)},process:l=>{if(s)a=!0;else{if(s=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let r=0;r<n;r++){const n=t.order[r];n(l),i.has(n)&&(o.schedule(n),e())}s=!1,a&&(a=!1,o.process(l))}}};return o}(()=>r=!0),e),{}),i=e=>a[e].process(s),o=()=>{const a=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(a-s.timestamp,40),1),s.timestamp=a,s.isProcessing=!0,Qt.forEach(i),s.isProcessing=!1,r&&t&&(n=!1,e(o))},l=Qt.reduce((t,i)=>{const l=a[i];return t[i]=function(t){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r||(r=!0,n=!0,s.isProcessing||e(o)),l.schedule(t,a,i)},t},{});return{schedule:l,cancel:e=>Qt.forEach(t=>a[t].cancel(e)),state:s,steps:a}}("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Jt,!0);const rr=(0,t.createContext)(null);function nr(e){const r=(0,t.useRef)(null);return null===r.current&&(r.current=e()),r.current}class sr extends t.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function ar(e){let{children:r,isPresent:n}=e;const s=(0,t.useId)(),a=(0,t.useRef)(null),i=(0,t.useRef)({width:0,height:0,top:0,left:0});return(0,t.useInsertionEffect)(()=>{const{width:e,height:t,top:r,left:o}=i.current;if(n||!a.current||!e||!t)return;a.current.dataset.motionPopId=s;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`\n          [data-motion-pop-id="${s}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${t}px !important;\n            top: ${r}px !important;\n            left: ${o}px !important;\n          }\n        `),()=>{document.head.removeChild(l)}},[n]),t.createElement(sr,{isPresent:n,childRef:a,sizeRef:i},t.cloneElement(r,{ref:a}))}const ir=e=>{let{children:r,initial:n,isPresent:s,onExitComplete:a,custom:i,presenceAffectsLayout:o,mode:l}=e;const c=nr(or),u=(0,t.useId)(),d=(0,t.useMemo)(()=>({id:u,initial:n,isPresent:s,custom:i,onExitComplete:e=>{c.set(e,!0);for(const t of c.values())if(!t)return;a&&a()},register:e=>(c.set(e,!1),()=>c.delete(e))}),o?void 0:[s]);return(0,t.useMemo)(()=>{c.forEach((e,t)=>c.set(t,!1))},[s]),t.useEffect(()=>{!s&&!c.size&&a&&a()},[s]),"popLayout"===l&&(r=t.createElement(ar,{isPresent:s},r)),t.createElement(rr.Provider,{value:d},r)};function or(){return new Map}const lr=(0,t.createContext)({});let cr=Jt,ur=Jt;const dr=e=>e.key||"";const hr=e=>{let{children:r,custom:n,initial:s=!0,onExitComplete:a,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:l="sync"}=e;ur(!i,"Replace exitBeforeEnter with mode='wait'");const c=(0,t.useContext)(lr).forceRender||function(){const e=Gt(),[r,n]=(0,t.useState)(0),s=(0,t.useCallback)(()=>{e.current&&n(r+1)},[r]);return[(0,t.useCallback)(()=>Xt.postRender(s),[s]),r]}()[0],u=Gt(),d=function(e){const r=[];return t.Children.forEach(e,e=>{(0,t.isValidElement)(e)&&r.push(e)}),r}(r);let h=d;const m=(0,t.useRef)(new Map).current,p=(0,t.useRef)(h),f=(0,t.useRef)(new Map).current,g=(0,t.useRef)(!0);var v;if(Kt(()=>{g.current=!1,function(e,t){e.forEach(e=>{const r=dr(e);t.set(r,e)})}(d,f),p.current=h}),v=()=>{g.current=!0,f.clear(),m.clear()},(0,t.useEffect)(()=>()=>v(),[]),g.current)return t.createElement(t.Fragment,null,h.map(e=>t.createElement(ir,{key:dr(e),isPresent:!0,initial:!!s&&void 0,presenceAffectsLayout:o,mode:l},e)));h=[...h];const y=p.current.map(dr),x=d.map(dr),b=y.length;for(let t=0;t<b;t++){const e=y[t];-1!==x.indexOf(e)||m.has(e)||m.set(e,void 0)}return"wait"===l&&m.size&&(h=[]),m.forEach((e,r)=>{if(-1!==x.indexOf(r))return;const s=f.get(r);if(!s)return;const i=y.indexOf(r);let g=e;if(!g){const e=()=>{m.delete(r);const e=Array.from(f.keys()).filter(e=>!x.includes(e));if(e.forEach(e=>f.delete(e)),p.current=d.filter(t=>{const n=dr(t);return n===r||e.includes(n)}),!m.size){if(!1===u.current)return;c(),a&&a()}};g=t.createElement(ir,{key:dr(s),isPresent:!1,onExitComplete:e,custom:n,presenceAffectsLayout:o,mode:l},s),m.set(r,g)}h.splice(i,0,g)}),h=h.map(e=>{const r=e.key;return m.has(r)?e:t.createElement(ir,{key:dr(e),isPresent:!0,presenceAffectsLayout:o,mode:l},e)}),t.createElement(t.Fragment,null,m.size?h:h.map(e=>(0,t.cloneElement)(e)))},mr=(0,t.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),pr=(0,t.createContext)({}),fr=(0,t.createContext)({strict:!1}),gr=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),vr="data-"+gr("framerAppearId");function yr(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function xr(e){return"string"===typeof e||Array.isArray(e)}function br(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const wr=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],jr=["initial",...wr];function Nr(e){return br(e.animate)||jr.some(t=>xr(e[t]))}function kr(e){return Boolean(Nr(e)||e.variants)}function Sr(e){const{initial:r,animate:n}=function(e,t){if(Nr(e)){const{initial:t,animate:r}=e;return{initial:!1===t||xr(t)?t:void 0,animate:xr(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,t.useContext)(pr));return(0,t.useMemo)(()=>({initial:r,animate:n}),[_r(r),_r(n)])}function _r(e){return Array.isArray(e)?e.join(" "):e}const Er={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Cr={};for(const r in Er)Cr[r]={isEnabled:e=>Er[r].some(t=>!!e[t])};const Pr=(0,t.createContext)({}),Tr=Symbol.for("motionComponentSymbol");function Ar(e){let{preloadedFeatures:r,createVisualElement:n,useRender:s,useVisualState:a,Component:i}=e;r&&function(e){for(const t in e)Cr[t]={...Cr[t],...e[t]}}(r);const o=(0,t.forwardRef)(function(e,o){let l;const c={...(0,t.useContext)(mr),...e,layoutId:Rr(e)},{isStatic:u}=c,d=Sr(e),h=a(e,u);if(!u&&Ht){d.visualElement=function(e,r,n,s){const{visualElement:a}=(0,t.useContext)(pr),i=(0,t.useContext)(fr),o=(0,t.useContext)(rr),l=(0,t.useContext)(mr).reducedMotion,c=(0,t.useRef)();s=s||i.renderer,!c.current&&s&&(c.current=s(e,{visualState:r,parent:a,props:n,presenceContext:o,blockInitialAnimation:!!o&&!1===o.initial,reducedMotionConfig:l}));const u=c.current;(0,t.useInsertionEffect)(()=>{u&&u.update(n,o)});const d=(0,t.useRef)(Boolean(n[vr]&&!window.HandoffComplete));return Kt(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),(0,t.useEffect)(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}(i,h,c,n);const e=(0,t.useContext)(Pr),s=(0,t.useContext)(fr).strict;d.visualElement&&(l=d.visualElement.loadFeatures(c,s,r,e))}return t.createElement(pr.Provider,{value:d},l&&d.visualElement?t.createElement(l,{visualElement:d.visualElement,...c}):null,s(i,e,function(e,r,n){return(0,t.useCallback)(t=>{t&&e.mount&&e.mount(t),r&&(t?r.mount(t):r.unmount()),n&&("function"===typeof n?n(t):yr(n)&&(n.current=t))},[r])}(h,d.visualElement,o),h,u,d.visualElement))});return o[Tr]=i,o}function Rr(e){let{layoutId:r}=e;const n=(0,t.useContext)(lr).id;return n&&void 0!==r?n+"-"+r:r}function Or(e){function t(t){return Ar(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;const r=new Map;return new Proxy(t,{get:(e,n)=>(r.has(n)||r.set(n,t(n)),r.get(n))})}const Dr=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Lr(e){return"string"===typeof e&&!e.includes("-")&&!!(Dr.indexOf(e)>-1||/[A-Z]/.test(e))}const Ir={};const Mr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$r=new Set(Mr);function Ur(e,t){let{layout:r,layoutId:n}=t;return $r.has(e)||e.startsWith("origin")||(r||void 0!==n)&&(!!Ir[e]||"opacity"===e)}const Vr=e=>Boolean(e&&e.getVelocity),zr={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Fr=Mr.length;const Br=e=>t=>"string"===typeof t&&t.startsWith(e),qr=Br("--"),Wr=Br("var(--"),Hr=(e,t)=>t&&"number"===typeof e?t.transform(e):e,Kr=(e,t,r)=>Math.min(Math.max(r,e),t),Gr={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},Jr={...Gr,transform:e=>Kr(0,1,e)},Yr={...Gr,default:1},Qr=e=>Math.round(1e5*e)/1e5,Xr=/(-)?([\d]*\.?[\d])+/g,Zr=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,en=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function tn(e){return"string"===typeof e}const rn=e=>({test:t=>tn(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),nn=rn("deg"),sn=rn("%"),an=rn("px"),on=rn("vh"),ln=rn("vw"),cn={...sn,parse:e=>sn.parse(e)/100,transform:e=>sn.transform(100*e)},un={...Gr,transform:Math.round},dn={borderWidth:an,borderTopWidth:an,borderRightWidth:an,borderBottomWidth:an,borderLeftWidth:an,borderRadius:an,radius:an,borderTopLeftRadius:an,borderTopRightRadius:an,borderBottomRightRadius:an,borderBottomLeftRadius:an,width:an,maxWidth:an,height:an,maxHeight:an,size:an,top:an,right:an,bottom:an,left:an,padding:an,paddingTop:an,paddingRight:an,paddingBottom:an,paddingLeft:an,margin:an,marginTop:an,marginRight:an,marginBottom:an,marginLeft:an,rotate:nn,rotateX:nn,rotateY:nn,rotateZ:nn,scale:Yr,scaleX:Yr,scaleY:Yr,scaleZ:Yr,skew:nn,skewX:nn,skewY:nn,distance:an,translateX:an,translateY:an,translateZ:an,x:an,y:an,z:an,perspective:an,transformPerspective:an,opacity:Jr,originX:cn,originY:cn,originZ:an,zIndex:un,fillOpacity:Jr,strokeOpacity:Jr,numOctaves:un};function hn(e,t,r,n){const{style:s,vars:a,transform:i,transformOrigin:o}=e;let l=!1,c=!1,u=!0;for(const d in t){const e=t[d];if(qr(d)){a[d]=e;continue}const r=dn[d],n=Hr(e,r);if($r.has(d)){if(l=!0,i[d]=n,!u)continue;e!==(r.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,o[d]=n):s[d]=n}if(t.transform||(l||n?s.transform=function(e,t,r,n){let{enableHardwareAcceleration:s=!0,allowTransformNone:a=!0}=t,i="";for(let o=0;o<Fr;o++){const t=Mr[o];void 0!==e[t]&&(i+=`${zr[t]||t}(${e[t]}) `)}return s&&!e.z&&(i+="translateZ(0)"),i=i.trim(),n?i=n(e,r?"":i):a&&r&&(i="none"),i}(e.transform,r,u,n):s.transform&&(s.transform="none")),c){const{originX:e="50%",originY:t="50%",originZ:r=0}=o;s.transformOrigin=`${e} ${t} ${r}`}}const mn=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function pn(e,t,r){for(const n in t)Vr(t[n])||Ur(n,r)||(e[n]=t[n])}function fn(e,r,n){const s={};return pn(s,e.style||{},e),Object.assign(s,function(e,r,n){let{transformTemplate:s}=e;return(0,t.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return hn(e,r,{enableHardwareAcceleration:!n},s),Object.assign({},e.vars,e.style)},[r])}(e,r,n)),e.transformValues?e.transformValues(s):s}function gn(e,t,r){const n={},s=fn(e,t,r);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const vn=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yn(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||vn.has(e)}let xn=e=>!yn(e);try{(bn=require("@emotion/is-prop-valid").default)&&(xn=e=>e.startsWith("on")?!yn(e):bn(e))}catch(Nu){}var bn;function wn(e,t,r){return"string"===typeof e?e:an.transform(t+r*e)}const jn={offset:"stroke-dashoffset",array:"stroke-dasharray"},Nn={offset:"strokeDashoffset",array:"strokeDasharray"};function kn(e,t,r,n,s){let{attrX:a,attrY:i,attrScale:o,originX:l,originY:c,pathLength:u,pathSpacing:d=1,pathOffset:h=0,...m}=t;if(hn(e,m,r,s),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:p,style:f,dimensions:g}=e;p.transform&&(g&&(f.transform=p.transform),delete p.transform),g&&(void 0!==l||void 0!==c||f.transform)&&(f.transformOrigin=function(e,t,r){return`${wn(t,e.x,e.width)} ${wn(r,e.y,e.height)}`}(g,void 0!==l?l:.5,void 0!==c?c:.5)),void 0!==a&&(p.x=a),void 0!==i&&(p.y=i),void 0!==o&&(p.scale=o),void 0!==u&&function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const a=s?jn:Nn;e[a.offset]=an.transform(-n);const i=an.transform(t),o=an.transform(r);e[a.array]=`${i} ${o}`}(p,u,d,h,!1)}const Sn=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),_n=e=>"string"===typeof e&&"svg"===e.toLowerCase();function En(e,r,n,s){const a=(0,t.useMemo)(()=>{const t={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return kn(t,r,{enableHardwareAcceleration:!1},_n(s),e.transformTemplate),{...t.attrs,style:{...t.style}}},[r]);if(e.style){const t={};pn(t,e.style,e),a.style={...t,...a.style}}return a}function Cn(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(r,n,s,a,i)=>{let{latestValues:o}=a;const l=(Lr(r)?En:gn)(n,o,i,r),c=function(e,t,r){const n={};for(const s in e)"values"===s&&"object"===typeof e.values||(xn(s)||!0===r&&yn(s)||!t&&!yn(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}(n,"string"===typeof r,e),u={...c,...l,ref:s},{children:d}=n,h=(0,t.useMemo)(()=>Vr(d)?d.get():d,[d]);return(0,t.createElement)(r,{...u,children:h})}}function Pn(e,t,r,n){let{style:s,vars:a}=t;Object.assign(e.style,s,n&&n.getProjectionStyles(r));for(const i in a)e.style.setProperty(i,a[i])}const Tn=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function An(e,t,r,n){Pn(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(Tn.has(s)?s:gr(s),t.attrs[s])}function Rn(e,t){const{style:r}=e,n={};for(const s in r)(Vr(r[s])||t.style&&Vr(t.style[s])||Ur(s,e))&&(n[s]=r[s]);return n}function On(e,t){const r=Rn(e,t);for(const n in e)if(Vr(e[n])||Vr(t[n])){r[-1!==Mr.indexOf(n)?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n]=e[n]}return r}function Dn(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==r?r:e.custom,n,s)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==r?r:e.custom,n,s)),t}const Ln=e=>Array.isArray(e),In=e=>Ln(e)?e[e.length-1]||0:e;function Mn(e){const t=Vr(e)?e.get():e;return r=t,Boolean(r&&"object"===typeof r&&r.mix&&r.toValue)?t.toValue():t;var r}const $n=e=>(r,n)=>{const s=(0,t.useContext)(pr),a=(0,t.useContext)(rr),i=()=>function(e,t,r,n){let{scrapeMotionValuesFromProps:s,createRenderState:a,onMount:i}=e;const o={latestValues:Un(t,r,n,s),renderState:a()};return i&&(o.mount=e=>i(t,e,o)),o}(e,r,s,a);return n?i():nr(i)};function Un(e,t,r,n){const s={},a=n(e,{});for(const h in a)s[h]=Mn(a[h]);let{initial:i,animate:o}=e;const l=Nr(e),c=kr(e);t&&c&&!l&&!1!==e.inherit&&(void 0===i&&(i=t.initial),void 0===o&&(o=t.animate));let u=!!r&&!1===r.initial;u=u||!1===i;const d=u?o:i;if(d&&"boolean"!==typeof d&&!br(d)){(Array.isArray(d)?d:[d]).forEach(t=>{const r=Dn(e,t);if(!r)return;const{transitionEnd:n,transition:a,...i}=r;for(const e in i){let t=i[e];if(Array.isArray(t)){t=t[u?t.length-1:0]}null!==t&&(s[e]=t)}for(const e in n)s[e]=n[e]})}return s}const Vn={useVisualState:$n({scrapeMotionValuesFromProps:On,createRenderState:Sn,onMount:(e,t,r)=>{let{renderState:n,latestValues:s}=r;Xt.read(()=>{try{n.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(Ie){n.dimensions={x:0,y:0,width:0,height:0}}}),Xt.render(()=>{kn(n,s,{enableHardwareAcceleration:!1},_n(t.tagName),e.transformTemplate),An(t,n)})}})},zn={useVisualState:$n({scrapeMotionValuesFromProps:Rn,createRenderState:mn})};function Fn(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const Bn=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function qn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}function Wn(e,t,r,n){return Fn(e,t,(e=>t=>Bn(t)&&e(t,qn(t)))(r),n)}const Hn=(e,t)=>r=>t(e(r)),Kn=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(Hn)};function Gn(e){let t=null;return()=>{const r=()=>{t=null};return null===t&&(t=e,r)}}const Jn=Gn("dragHorizontal"),Yn=Gn("dragVertical");function Qn(e){let t=!1;if("y"===e)t=Yn();else if("x"===e)t=Jn();else{const e=Jn(),r=Yn();e&&r?t=()=>{e(),r()}:(e&&e(),r&&r())}return t}function Xn(){const e=Qn(!0);return!e||(e(),!1)}class Zn{constructor(e){this.isMounted=!1,this.node=e}update(){}}function es(e,t){const r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End");return Wn(e.current,r,(r,s)=>{if("touch"===r.pointerType||Xn())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[n]&&Xt.update(()=>a[n](r,s))},{passive:!e.getProps()[n]})}const ts=(e,t)=>!!t&&(e===t||ts(e,t.parentElement));function rs(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,qn(r))}const ns=new WeakMap,ss=new WeakMap,as=e=>{const t=ns.get(e.target);t&&t(e)},is=e=>{e.forEach(as)};function os(e,t,r){const n=function(e){let{root:t,...r}=e;const n=t||document;ss.has(n)||ss.set(n,{});const s=ss.get(n),a=JSON.stringify(r);return s[a]||(s[a]=new IntersectionObserver(is,{root:t,...r})),s[a]}(t);return ns.set(e,r),n.observe(e),()=>{ns.delete(e),n.unobserve(e)}}const ls={some:0,all:1};const cs={inView:{Feature:class extends Zn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:n="some",once:s}=e,a={root:t?t.current:void 0,rootMargin:r,threshold:"number"===typeof n?n:ls[n]};return os(this.node.current,a,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,s&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:r,onViewportLeave:n}=this.node.getProps(),a=t?r:n;a&&a(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,r=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:r={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==r[e]}(e,t));r&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Zn{constructor(){super(...arguments),this.removeStartListeners=Jt,this.removeEndListeners=Jt,this.removeAccessibleListeners=Jt,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),n=Wn(window,"pointerup",(e,t)=>{if(!this.checkPressEnd())return;const{onTap:r,onTapCancel:n,globalTapTarget:s}=this.node.getProps();Xt.update(()=>{s||ts(this.node.current,e.target)?r&&r(e,t):n&&n(e,t)})},{passive:!(r.onTap||r.onPointerUp)}),s=Wn(window,"pointercancel",(e,t)=>this.cancelPress(e,t),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Kn(n,s),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=Fn(this.node.current,"keydown",e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=Fn(this.node.current,"keyup",e=>{"Enter"===e.key&&this.checkPressEnd()&&rs("up",(e,t)=>{const{onTap:r}=this.node.getProps();r&&Xt.update(()=>r(e,t))})}),rs("down",(e,t)=>{this.startPress(e,t)})}),t=Fn(this.node.current,"blur",()=>{this.isPressing&&rs("cancel",(e,t)=>this.cancelPress(e,t))});this.removeAccessibleListeners=Kn(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:r,whileTap:n}=this.node.getProps();n&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Xt.update(()=>r(e,t))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Xn()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Xt.update(()=>r(e,t))}mount(){const e=this.node.getProps(),t=Wn(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Fn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Kn(t,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends Zn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(Ie){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kn(Fn(this.node.current,"focus",()=>this.onFocus()),Fn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends Zn{mount(){this.unmount=Kn(es(this.node,!0),es(this.node,!1))}unmount(){}}}};function us(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function ds(e,t,r){const n=e.getProps();return Dn(n,t,void 0!==r?r:n.custom,function(e){const t={};return e.values.forEach((e,r)=>t[r]=e.get()),t}(e),function(e){const t={};return e.values.forEach((e,r)=>t[r]=e.getVelocity()),t}(e))}const hs=e=>1e3*e,ms=e=>e/1e3,ps=!1,fs=e=>Array.isArray(e)&&"number"===typeof e[0];function gs(e){return Boolean(!e||"string"===typeof e&&ys[e]||fs(e)||Array.isArray(e)&&e.every(gs))}const vs=e=>{let[t,r,n,s]=e;return`cubic-bezier(${t}, ${r}, ${n}, ${s})`},ys={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vs([0,.65,.55,1]),circOut:vs([.55,0,1,.45]),backIn:vs([.31,.01,.66,-.59]),backOut:vs([.33,1.53,.69,.99])};function xs(e){if(e)return fs(e)?vs(e):Array.isArray(e)?e.map(xs):ys[e]}const bs=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e;function ws(e,t,r,n){if(e===t&&r===n)return Jt;const s=t=>function(e,t,r,n,s){let a,i,o=0;do{i=t+(r-t)/2,a=bs(i,n,s)-e,a>0?r=i:t=i}while(Math.abs(a)>1e-7&&++o<12);return i}(t,0,1,e,r);return e=>0===e||1===e?e:bs(s(e),t,n)}const js=ws(.42,0,1,1),Ns=ws(0,0,.58,1),ks=ws(.42,0,.58,1),Ss=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,_s=e=>t=>1-e(1-t),Es=e=>1-Math.sin(Math.acos(e)),Cs=_s(Es),Ps=Ss(Es),Ts=ws(.33,1.53,.69,.99),As=_s(Ts),Rs=Ss(As),Os={linear:Jt,easeIn:js,easeInOut:ks,easeOut:Ns,circIn:Es,circInOut:Ps,circOut:Cs,backIn:As,backInOut:Rs,backOut:Ts,anticipate:e=>(e*=2)<1?.5*As(e):.5*(2-Math.pow(2,-10*(e-1)))},Ds=e=>{if(Array.isArray(e)){ur(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,r,n,s]=e;return ws(t,r,n,s)}return"string"===typeof e?(ur(void 0!==Os[e],`Invalid easing type '${e}'`),Os[e]):e},Ls=(e,t)=>r=>Boolean(tn(r)&&en.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),Is=(e,t,r)=>n=>{if(!tn(n))return n;const[s,a,i,o]=n.match(Xr);return{[e]:parseFloat(s),[t]:parseFloat(a),[r]:parseFloat(i),alpha:void 0!==o?parseFloat(o):1}},Ms={...Gr,transform:e=>Math.round((e=>Kr(0,255,e))(e))},$s={test:Ls("rgb","red"),parse:Is("red","green","blue"),transform:e=>{let{red:t,green:r,blue:n,alpha:s=1}=e;return"rgba("+Ms.transform(t)+", "+Ms.transform(r)+", "+Ms.transform(n)+", "+Qr(Jr.transform(s))+")"}};const Us={test:Ls("#"),parse:function(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}},transform:$s.transform},Vs={test:Ls("hsl","hue"),parse:Is("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:r,lightness:n,alpha:s=1}=e;return"hsla("+Math.round(t)+", "+sn.transform(Qr(r))+", "+sn.transform(Qr(n))+", "+Qr(Jr.transform(s))+")"}},zs={test:e=>$s.test(e)||Us.test(e)||Vs.test(e),parse:e=>$s.test(e)?$s.parse(e):Vs.test(e)?Vs.parse(e):Us.parse(e),transform:e=>tn(e)?e:e.hasOwnProperty("red")?$s.transform(e):Vs.transform(e)},Fs=(e,t,r)=>-r*e+r*t+e;function Bs(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}const qs=(e,t,r)=>{const n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},Ws=[Us,$s,Vs];function Hs(e){const t=(r=e,Ws.find(e=>e.test(r)));var r;ur(Boolean(t),`'${e}' is not an animatable color. Use the equivalent color code instead.`);let n=t.parse(e);return t===Vs&&(n=function(e){let{hue:t,saturation:r,lightness:n,alpha:s}=e;t/=360,r/=100,n/=100;let a=0,i=0,o=0;if(r){const e=n<.5?n*(1+r):n+r-n*r,s=2*n-e;a=Bs(s,e,t+1/3),i=Bs(s,e,t),o=Bs(s,e,t-1/3)}else a=i=o=n;return{red:Math.round(255*a),green:Math.round(255*i),blue:Math.round(255*o),alpha:s}}(n)),n}const Ks=(e,t)=>{const r=Hs(e),n=Hs(t),s={...r};return e=>(s.red=qs(r.red,n.red,e),s.green=qs(r.green,n.green,e),s.blue=qs(r.blue,n.blue,e),s.alpha=Fs(r.alpha,n.alpha,e),$s.transform(s))};const Gs={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:Jt},Js={regex:Zr,countKey:"Colors",token:"${c}",parse:zs.parse},Ys={regex:Xr,countKey:"Numbers",token:"${n}",parse:Gr.parse};function Qs(e,t){let{regex:r,countKey:n,token:s,parse:a}=t;const i=e.tokenised.match(r);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(r,s),e.values.push(...i.map(a)))}function Xs(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&Qs(r,Gs),Qs(r,Js),Qs(r,Ys),r}function Zs(e){return Xs(e).values}function ea(e){const{values:t,numColors:r,numVars:n,tokenised:s}=Xs(e),a=t.length;return e=>{let t=s;for(let s=0;s<a;s++)t=s<n?t.replace(Gs.token,e[s]):s<n+r?t.replace(Js.token,zs.transform(e[s])):t.replace(Ys.token,Qr(e[s]));return t}}const ta=e=>"number"===typeof e?0:e;const ra={test:function(e){var t,r;return isNaN(e)&&tn(e)&&((null===(t=e.match(Xr))||void 0===t?void 0:t.length)||0)+((null===(r=e.match(Zr))||void 0===r?void 0:r.length)||0)>0},parse:Zs,createTransformer:ea,getAnimatableNone:function(e){const t=Zs(e);return ea(e)(t.map(ta))}},na=(e,t)=>r=>`${r>0?t:e}`;function sa(e,t){return"number"===typeof e?r=>Fs(e,t,r):zs.test(e)?Ks(e,t):e.startsWith("var(")?na(e,t):oa(e,t)}const aa=(e,t)=>{const r=[...e],n=r.length,s=e.map((e,r)=>sa(e,t[r]));return e=>{for(let t=0;t<n;t++)r[t]=s[t](e);return r}},ia=(e,t)=>{const r={...e,...t},n={};for(const s in r)void 0!==e[s]&&void 0!==t[s]&&(n[s]=sa(e[s],t[s]));return e=>{for(const t in n)r[t]=n[t](e);return r}},oa=(e,t)=>{const r=ra.createTransformer(t),n=Xs(e),s=Xs(t);return n.numVars===s.numVars&&n.numColors===s.numColors&&n.numNumbers>=s.numNumbers?Kn(aa(n.values,s.values),r):(cr(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),na(e,t))},la=(e,t,r)=>{const n=t-e;return 0===n?1:(r-e)/n},ca=(e,t)=>r=>Fs(e,t,r);function ua(e,t,r){const n=[],s=r||("number"===typeof(a=e[0])?ca:"string"===typeof a?zs.test(a)?Ks:oa:Array.isArray(a)?aa:"object"===typeof a?ia:ca);var a;const i=e.length-1;for(let o=0;o<i;o++){let r=s(e[o],e[o+1]);if(t){const e=Array.isArray(t)?t[o]||Jt:t;r=Kn(e,r)}n.push(r)}return n}function da(e,t){let{clamp:r=!0,ease:n,mixer:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=e.length;if(ur(a===t.length,"Both input and output ranges must be the same length"),1===a)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=ua(t,n,s),o=i.length,l=t=>{let r=0;if(o>1)for(;r<e.length-2&&!(t<e[r+1]);r++);const n=la(e[r],e[r+1],t);return i[r](n)};return r?t=>l(Kr(e[0],e[a-1],t)):l}function ha(e){const t=[0];return function(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=la(0,t,n);e.push(Fs(r,1,s))}}(t,e.length-1),t}function ma(e){let{duration:t=300,keyframes:r,times:n,ease:s="easeInOut"}=e;const a=(e=>Array.isArray(e)&&"number"!==typeof e[0])(s)?s.map(Ds):Ds(s),i={done:!1,value:r[0]},o=function(e,t){return e.map(e=>e*t)}(n&&n.length===r.length?n:ha(r),t),l=da(o,r,{ease:Array.isArray(a)?a:(c=r,u=a,c.map(()=>u||ks).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(i.value=l(e),i.done=e>=t,i)}}function pa(e,t){return t?e*(1e3/t):0}function fa(e,t,r){const n=Math.max(t-5,0);return pa(r-e(n),t-n)}const ga=.001;function va(e){let t,r,{duration:n=800,bounce:s=.25,velocity:a=0,mass:i=1}=e;cr(n<=hs(10),"Spring duration must be 10 seconds or less");let o=1-s;o=Kr(.05,1,o),n=Kr(.01,10,ms(n)),o<1?(t=e=>{const t=e*o,r=t*n,s=t-a,i=xa(e,o),l=Math.exp(-r);return ga-s/i*l},r=e=>{const r=e*o*n,s=r*a+a,i=Math.pow(o,2)*Math.pow(e,2)*n,l=Math.exp(-r),c=xa(Math.pow(e,2),o);return(-t(e)+ga>0?-1:1)*((s-i)*l)/c}):(t=e=>Math.exp(-e*n)*((e-a)*n+1)-.001,r=e=>Math.exp(-e*n)*(n*n*(a-e)));const l=function(e,t,r){let n=r;for(let s=1;s<ya;s++)n-=e(n)/t(n);return n}(t,r,5/n);if(n=hs(n),isNaN(l))return{stiffness:100,damping:10,duration:n};{const e=Math.pow(l,2)*i;return{stiffness:e,damping:2*o*Math.sqrt(i*e),duration:n}}}const ya=12;function xa(e,t){return e*Math.sqrt(1-t*t)}const ba=["duration","bounce"],wa=["stiffness","damping","mass"];function ja(e,t){return t.some(t=>void 0!==e[t])}function Na(e){let{keyframes:t,restDelta:r,restSpeed:n,...s}=e;const a=t[0],i=t[t.length-1],o={done:!1,value:a},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:m}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!ja(e,wa)&&ja(e,ba)){const r=va(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}({...s,velocity:-ms(s.velocity||0)}),p=h||0,f=c/(2*Math.sqrt(l*u)),g=i-a,v=ms(Math.sqrt(l/u)),y=Math.abs(g)<5;let x;if(n||(n=y?.01:2),r||(r=y?.005:.5),f<1){const e=xa(v,f);x=t=>{const r=Math.exp(-f*v*t);return i-r*((p+f*v*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===f)x=e=>i-Math.exp(-v*e)*(g+(p+v*g)*e);else{const e=v*Math.sqrt(f*f-1);x=t=>{const r=Math.exp(-f*v*t),n=Math.min(e*t,300);return i-r*((p+f*v*g)*Math.sinh(n)+e*g*Math.cosh(n))/e}}return{calculatedDuration:m&&d||null,next:e=>{const t=x(e);if(m)o.done=e>=d;else{let s=p;0!==e&&(s=f<1?fa(x,e,t):0);const a=Math.abs(s)<=n,l=Math.abs(i-t)<=r;o.done=a&&l}return o.value=o.done?i:t,o}}}function ka(e){let{keyframes:t,velocity:r=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}=e;const h=t[0],m={done:!1,value:h},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let f=n*r;const g=h+f,v=void 0===o?g:o(g);v!==g&&(f=v-h);const y=e=>-f*Math.exp(-e/s),x=e=>v+y(e),b=e=>{const t=y(e),r=x(e);m.done=Math.abs(t)<=u,m.value=m.done?v:r};let w,j;const N=e=>{var t;(t=m.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(w=e,j=Na({keyframes:[m.value,p(m.value)],velocity:fa(x,e,m.value),damping:a,stiffness:i,restDelta:u,restSpeed:d}))};return N(0),{calculatedDuration:null,next:e=>{let t=!1;return j||void 0!==w||(t=!0,b(e),N(e)),void 0!==w&&e>w?j.next(e-w):(!t&&b(e),m)}}}const Sa=e=>{const t=t=>{let{timestamp:r}=t;return e(r)};return{start:()=>Xt.update(t,!0),stop:()=>Zt(t),now:()=>er.isProcessing?er.timestamp:performance.now()}};function _a(e){let t=0;let r=e.next(t);for(;!r.done&&t<2e4;)t+=50,r=e.next(t);return t>=2e4?1/0:t}const Ea={decay:ka,inertia:ka,tween:ma,keyframes:ma,spring:Na};function Ca(e){let t,r,{autoplay:n=!0,delay:s=0,driver:a=Sa,keyframes:i,type:o="keyframes",repeat:l=0,repeatDelay:c=0,repeatType:u="loop",onPlay:d,onStop:h,onComplete:m,onUpdate:p,...f}=e,g=1,v=!1;const y=()=>{r=new Promise(e=>{t=e})};let x;y();const b=Ea[o]||ma;let w;b!==ma&&"number"!==typeof i[0]&&(w=da([0,100],i,{clamp:!1}),i=[0,100]);const j=b({...f,keyframes:i});let N;"mirror"===u&&(N=b({...f,keyframes:[...i].reverse(),velocity:-(f.velocity||0)}));let k="idle",S=null,_=null,E=null;null===j.calculatedDuration&&l&&(j.calculatedDuration=_a(j));const{calculatedDuration:C}=j;let P=1/0,T=1/0;null!==C&&(P=C+c,T=P*(l+1)-c);let A=0;const R=e=>{if(null===_)return;g>0&&(_=Math.min(_,e)),g<0&&(_=Math.min(e-T/g,_)),A=null!==S?S:Math.round(e-_)*g;const t=A-s*(g>=0?1:-1),r=g>=0?t<0:t>T;A=Math.max(t,0),"finished"===k&&null===S&&(A=T);let n=A,a=j;if(l){const e=Math.min(A,T)/P;let t=Math.floor(e),r=e%1;!r&&e>=1&&(r=1),1===r&&t--,t=Math.min(t,l+1);Boolean(t%2)&&("reverse"===u?(r=1-r,c&&(r-=c/P)):"mirror"===u&&(a=N)),n=Kr(0,1,r)*P}const o=r?{done:!1,value:i[0]}:a.next(n);w&&(o.value=w(o.value));let{done:d}=o;r||null===C||(d=g>=0?A>=T:A<=0);const h=null===S&&("finished"===k||"running"===k&&d);return p&&p(o.value),h&&L(),o},O=()=>{x&&x.stop(),x=void 0},D=()=>{k="idle",O(),t(),y(),_=E=null},L=()=>{k="finished",m&&m(),O(),t()},I=()=>{if(v)return;x||(x=a(R));const e=x.now();d&&d(),null!==S?_=e-S:_&&"finished"!==k||(_=e),"finished"===k&&y(),E=_,S=null,k="running",x.start()};n&&I();const M={then:(e,t)=>r.then(e,t),get time(){return ms(A)},set time(e){e=hs(e),A=e,null===S&&x&&0!==g?_=x.now()-e/g:S=e},get duration(){const e=null===j.calculatedDuration?_a(j):j.calculatedDuration;return ms(e)},get speed(){return g},set speed(e){e!==g&&x&&(g=e,M.time=ms(A))},get state(){return k},play:I,pause:()=>{k="paused",S=A},stop:()=>{v=!0,"idle"!==k&&(k="idle",h&&h(),D())},cancel:()=>{null!==E&&R(E),D()},complete:()=>{k="finished"},sample:e=>(_=0,R(e))};return M}const Pa=function(e){let t;return()=>(void 0===t&&(t=e()),t)}(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ta=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function Aa(e,t,r){let{onUpdate:n,onComplete:s,...a}=r;if(!(Pa()&&Ta.has(t)&&!a.repeatDelay&&"mirror"!==a.repeatType&&0!==a.damping&&"inertia"!==a.type))return!1;let i,o,l=!1,c=!1;const u=()=>{o=new Promise(e=>{i=e})};u();let{keyframes:d,duration:h=300,ease:m,times:p}=a;if(((e,t)=>"spring"===t.type||"backgroundColor"===e||!gs(t.ease))(t,a)){const e=Ca({...a,repeat:0,delay:0});let t={done:!1,value:d[0]};const r=[];let n=0;for(;!t.done&&n<2e4;)t=e.sample(n),r.push(t.value),n+=10;p=void 0,d=r,h=n-10,m="linear"}const f=function(e,t,r){let{delay:n=0,duration:s,repeat:a=0,repeatType:i="loop",ease:o,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:r};l&&(c.offset=l);const u=xs(o);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:n,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:"reverse"===i?"alternate":"normal"})}(e.owner.current,t,d,{...a,duration:h,ease:m,times:p}),g=()=>{c=!1,f.cancel()},v=()=>{c=!0,Xt.update(g),i(),u()};f.onfinish=()=>{c||(e.set(function(e,t){let{repeat:r,repeatType:n="loop"}=t;return e[r&&"loop"!==n&&r%2===1?0:e.length-1]}(d,a)),s&&s(),v())};return{then:(e,t)=>o.then(e,t),attachTimeline:e=>(f.timeline=e,f.onfinish=null,Jt),get time(){return ms(f.currentTime||0)},set time(e){f.currentTime=hs(e)},get speed(){return f.playbackRate},set speed(e){f.playbackRate=e},get duration(){return ms(h)},play:()=>{l||(f.play(),Zt(g))},pause:()=>f.pause(),stop:()=>{if(l=!0,"idle"===f.playState)return;const{currentTime:t}=f;if(t){const r=Ca({...a,autoplay:!1});e.setWithVelocity(r.sample(t-10).value,r.sample(t).value,10)}v()},complete:()=>{c||f.finish()},cancel:v}}const Ra={type:"spring",stiffness:500,damping:25,restSpeed:10},Oa={type:"keyframes",duration:.8},Da={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},La=(e,t)=>{let{keyframes:r}=t;return r.length>2?Oa:$r.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===r[1]?2*Math.sqrt(550):30,restSpeed:10}:Ra:Da},Ia=(e,t)=>"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!ra.test(t)&&"0"!==t||t.startsWith("url("))),Ma=new Set(["brightness","contrast","saturate","opacity"]);function $a(e){const[t,r]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[n]=r.match(Xr)||[];if(!n)return e;const s=r.replace(n,"");let a=Ma.has(t)?1:0;return n!==r&&(a*=100),t+"("+a+s+")"}const Ua=/([a-z-]*)\(.*?\)/g,Va={...ra,getAnimatableNone:e=>{const t=e.match(Ua);return t?t.map($a).join(" "):e}},za={...dn,color:zs,backgroundColor:zs,outlineColor:zs,fill:zs,stroke:zs,borderColor:zs,borderTopColor:zs,borderRightColor:zs,borderBottomColor:zs,borderLeftColor:zs,filter:Va,WebkitFilter:Va},Fa=e=>za[e];function Ba(e,t){let r=Fa(e);return r!==Va&&(r=ra),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const qa=e=>/^0[^.\s]+$/.test(e);function Wa(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||qa(e):void 0}function Ha(e,t){return e[t]||e.default||e}const Ka=!1,Ga=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return s=>{const a=Ha(n,e)||{},i=a.delay||n.delay||0;let{elapsed:o=0}=n;o-=hs(i);const l=function(e,t,r,n){const s=Ia(t,r);let a;a=Array.isArray(r)?[...r]:[null,r];const i=void 0!==n.from?n.from:e.get();let o;const l=[];for(let c=0;c<a.length;c++)null===a[c]&&(a[c]=0===c?i:a[c-1]),Wa(a[c])&&l.push(c),"string"===typeof a[c]&&"none"!==a[c]&&"0"!==a[c]&&(o=a[c]);if(s&&l.length&&o)for(let c=0;c<l.length;c++)a[l[c]]=Ba(t,o);return a}(t,e,r,a),c=l[0],u=l[l.length-1],d=Ia(e,c),h=Ia(e,u);cr(d===h,`You are trying to animate ${e} from "${c}" to "${u}". ${c} is not an animatable value - to enable this animation set ${c} to a value animatable to ${u} via the \`style\` property.`);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...a,delay:-o,onUpdate:e=>{t.set(e),a.onUpdate&&a.onUpdate(e)},onComplete:()=>{s(),a.onComplete&&a.onComplete()}};if(function(e){let{when:t,delay:r,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}=e;return!!Object.keys(d).length}(a)||(m={...m,...La(e,m)}),m.duration&&(m.duration=hs(m.duration)),m.repeatDelay&&(m.repeatDelay=hs(m.repeatDelay)),!d||!h||ps||!1===a.type||Ka)return function(e){let{keyframes:t,delay:r,onUpdate:n,onComplete:s}=e;const a=()=>(n&&n(t[t.length-1]),s&&s(),{time:0,speed:1,duration:0,play:Jt,pause:Jt,stop:Jt,then:e=>(e(),Promise.resolve()),cancel:Jt,complete:Jt});return r?Ca({keyframes:[0,1],duration:0,delay:r,onComplete:a}):a()}(ps?{...m,delay:0}:m);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const r=Aa(t,e,m);if(r)return r}return Ca(m)}};function Ja(e){return Boolean(Vr(e)&&e.add)}const Ya=e=>/^\-?\d*\.?\d+$/.test(e);function Qa(e,t){-1===e.indexOf(t)&&e.push(t)}function Xa(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class Za{constructor(){this.subscriptions=[]}add(e){return Qa(this.subscriptions,e),()=>Xa(this.subscriptions,e)}notify(e,t,r){const n=this.subscriptions.length;if(n)if(1===n)this.subscriptions[0](e,t,r);else for(let s=0;s<n;s++){const n=this.subscriptions[s];n&&n(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ei={current:void 0};class ti{constructor(e){var t=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.prev=t.current,t.current=e;const{delta:n,timestamp:s}=er;t.lastUpdated!==s&&(t.timeDelta=n,t.lastUpdated=s,Xt.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.events.change&&t.events.change.notify(t.current),t.events.velocityChange&&t.events.velocityChange.notify(t.getVelocity()),r&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.scheduleVelocityCheck=()=>Xt.postRender(this.velocityCheck),this.velocityCheck=e=>{let{timestamp:t}=e;t!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(n=this.current,!isNaN(parseFloat(n))),this.owner=r.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Za);const r=this.events[e].add(t);return"change"===e?()=>{r(),Xt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return ei.current&&ei.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?pa(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ri(e,t){return new ti(e,t)}const ni=e=>t=>t.test(e),si=[Gr,an,sn,nn,ln,on,{test:e=>"auto"===e,parse:e=>e}],ai=e=>si.find(ni(e)),ii=[...si,zs,ra],oi=e=>ii.find(ni(e));function li(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,ri(r))}function ci(e,t){const r=ds(e,t);let{transitionEnd:n={},transition:s={},...a}=r?e.makeTargetAnimatable(r,!1):{};a={...a,...n};for(const i in a){li(e,i,In(a[i]))}}function ui(e,t){if(!t)return;return(t[e]||t.default||t).from}function di(e,t){let{protectedKeys:r,needsAnimating:n}=e;const s=r.hasOwnProperty(t)&&!0!==n[t];return n[t]=!1,s}function hi(e,t){const r=e.get();if(!Array.isArray(t))return r!==t;for(let n=0;n<t.length;n++)if(t[n]!==r)return!0}function mi(e,t){let{delay:r=0,transitionOverride:n,type:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:a=e.getDefaultTransition(),transitionEnd:i,...o}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");n&&(a=n);const c=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const d in o){const t=e.getValue(d),n=o[d];if(!t||void 0===n||u&&di(u,d))continue;const s={delay:r,elapsed:0,...Ha(a||{},d)};if(window.HandoffAppearAnimations){const r=e.getProps()[vr];if(r){const e=window.HandoffAppearAnimations(r,d,t,Xt);null!==e&&(s.elapsed=e,s.isHandoff=!0)}}let i=!s.isHandoff&&!hi(t,n);if("spring"===s.type&&(t.getVelocity()||s.velocity)&&(i=!1),t.animation&&(i=!1),i)continue;t.start(Ga(d,t,n,e.shouldReduceMotion&&$r.has(d)?{type:!1}:s));const h=t.animation;Ja(l)&&(l.add(d),h.then(()=>l.remove(d))),c.push(h)}return i&&Promise.all(c).then(()=>{i&&ci(e,i)}),c}function pi(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=ds(e,t,r.custom);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const a=n?()=>Promise.all(mi(e,n,r)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:a=0,staggerChildren:i,staggerDirection:o}=s;return function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5?arguments[5]:void 0;const i=[],o=(e.variantChildren.size-1)*n,l=1===s?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*n}:function(){return o-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*n};return Array.from(e.variantChildren).sort(fi).forEach((e,n)=>{e.notify("AnimationStart",t),i.push(pi(e,t,{...a,delay:r+l(n)}).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(i)}(e,t,a+n,i,o,r)}:()=>Promise.resolve(),{when:o}=s;if(o){const[e,t]="beforeChildren"===o?[a,i]:[i,a];return e().then(()=>t())}return Promise.all([a(),i(r.delay)])}function fi(e,t){return e.sortNodePosition(t)}const gi=[...wr].reverse(),vi=wr.length;function yi(e){return t=>Promise.all(t.map(t=>{let{animation:r,options:n}=t;return function(e,t){let r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const s=t.map(t=>pi(e,t,n));r=Promise.all(s)}else if("string"===typeof t)r=pi(e,t,n);else{const s="function"===typeof t?ds(e,t,n.custom):t;r=Promise.all(mi(e,s,n))}return r.then(()=>e.notify("AnimationComplete",t))}(e,r,n)}))}function xi(e){let t=yi(e);const r={animate:wi(!0),whileInView:wi(),whileHover:wi(),whileTap:wi(),whileDrag:wi(),whileFocus:wi(),exit:wi()};let n=!0;const s=(t,r)=>{const n=ds(e,r);if(n){const{transition:e,transitionEnd:r,...s}=n;t={...t,...s,...r}}return t};function a(a,i){const o=e.getProps(),l=e.getVariantContext(!0)||{},c=[],u=new Set;let d={},h=1/0;for(let t=0;t<vi;t++){const m=gi[t],p=r[m],f=void 0!==o[m]?o[m]:l[m],g=xr(f),v=m===i?p.isActive:null;!1===v&&(h=t);let y=f===l[m]&&f!==o[m]&&g;if(y&&n&&e.manuallyAnimateOnMount&&(y=!1),p.protectedKeys={...d},!p.isActive&&null===v||!f&&!p.prevProp||br(f)||"boolean"===typeof f)continue;let x=bi(p.prevProp,f)||m===i&&p.isActive&&!y&&g||t>h&&g,b=!1;const w=Array.isArray(f)?f:[f];let j=w.reduce(s,{});!1===v&&(j={});const{prevResolvedValues:N={}}=p,k={...N,...j},S=e=>{x=!0,u.has(e)&&(b=!0,u.delete(e)),p.needsAnimating[e]=!0};for(const e in k){const t=j[e],r=N[e];if(d.hasOwnProperty(e))continue;let n=!1;n=Ln(t)&&Ln(r)?!us(t,r):t!==r,n?void 0!==t?S(e):u.add(e):void 0!==t&&u.has(e)?S(e):p.protectedKeys[e]=!0}p.prevProp=f,p.prevResolvedValues=j,p.isActive&&(d={...d,...j}),n&&e.blockInitialAnimation&&(x=!1),!x||y&&!b||c.push(...w.map(e=>({animation:e,options:{type:m,...a}})))}if(u.size){const t={};u.forEach(r=>{const n=e.getBaseTarget(r);void 0!==n&&(t[r]=n)}),c.push({animation:t})}let m=Boolean(c.length);return!n||!1!==o.initial&&o.initial!==o.animate||e.manuallyAnimateOnMount||(m=!1),n=!1,m?t(c):Promise.resolve()}return{animateChanges:a,setActive:function(t,n,s){var i;if(r[t].isActive===n)return Promise.resolve();null===(i=e.variantChildren)||void 0===i||i.forEach(e=>{var r;return null===(r=e.animationState)||void 0===r?void 0:r.setActive(t,n)}),r[t].isActive=n;const o=a(s,t);for(const e in r)r[e].protectedKeys={};return o},setAnimateFunction:function(r){t=r(e)},getState:()=>r}}function bi(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!us(t,e)}function wi(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let ji=0;const Ni={animation:{Feature:class extends Zn{constructor(e){super(e),e.animationState||(e.animationState=xi(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),br(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends Zn{constructor(){super(...arguments),this.id=ji++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const s=this.node.animationState.setActive("exit",!e,{custom:null!==r&&void 0!==r?r:this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},ki=(e,t)=>Math.abs(e-t);class Si{constructor(e,t){let{transformPagePoint:r,contextWindow:n,dragSnapToOrigin:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Ci(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,r=function(e,t){const r=ki(e.x,t.x),n=ki(e.y,t.y);return Math.sqrt(r**2+n**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!r)return;const{point:n}=e,{timestamp:s}=er;this.history.push({...n,timestamp:s});const{onStart:a,onMove:i}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),i&&i(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=_i(t,this.transformPagePoint),Xt.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:r,onSessionEnd:n,resumeAnimation:s}=this.handlers;if(this.dragSnapToOrigin&&s&&s(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const a=Ci("pointercancel"===e.type?this.lastMoveEventInfo:_i(t,this.transformPagePoint),this.history);this.startEvent&&r&&r(e,a),n&&n(e,a)},!Bn(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=r,this.contextWindow=n||window;const a=_i(qn(e),this.transformPagePoint),{point:i}=a,{timestamp:o}=er;this.history=[{...i,timestamp:o}];const{onSessionStart:l}=t;l&&l(e,Ci(a,this.history)),this.removeListeners=Kn(Wn(this.contextWindow,"pointermove",this.handlePointerMove),Wn(this.contextWindow,"pointerup",this.handlePointerUp),Wn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Zt(this.updatePoint)}}function _i(e,t){return t?{point:t(e.point)}:e}function Ei(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ci(e,t){let{point:r}=e;return{point:r,delta:Ei(r,Ti(t)),offset:Ei(r,Pi(t)),velocity:Ai(t,.1)}}function Pi(e){return e[0]}function Ti(e){return e[e.length-1]}function Ai(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=Ti(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>hs(t)));)r--;if(!n)return{x:0,y:0};const a=ms(s.timestamp-n.timestamp);if(0===a)return{x:0,y:0};const i={x:(s.x-n.x)/a,y:(s.y-n.y)/a};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Ri(e){return e.max-e.min}function Oi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=r}function Di(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=n,e.originPoint=Fs(t.min,t.max,e.origin),e.scale=Ri(r)/Ri(t),(Oi(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Fs(r.min,r.max,e.origin)-e.originPoint,(Oi(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Li(e,t,r,n){Di(e.x,t.x,r.x,n?n.originX:void 0),Di(e.y,t.y,r.y,n?n.originY:void 0)}function Ii(e,t,r){e.min=r.min+t.min,e.max=e.min+Ri(t)}function Mi(e,t,r){e.min=t.min-r.min,e.max=e.min+Ri(t)}function $i(e,t,r){Mi(e.x,t.x,r.x),Mi(e.y,t.y,r.y)}function Ui(e,t,r){return{min:void 0!==t?e.min+t:void 0,max:void 0!==r?e.max+r-(e.max-e.min):void 0}}function Vi(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}const zi=.35;function Fi(e,t,r){return{min:Bi(e,t),max:Bi(e,r)}}function Bi(e,t){return"number"===typeof e?e:e[t]||0}const qi=()=>({x:{min:0,max:0},y:{min:0,max:0}});function Wi(e){return[e("x"),e("y")]}function Hi(e){let{top:t,left:r,right:n,bottom:s}=e;return{x:{min:r,max:n},y:{min:t,max:s}}}function Ki(e){return void 0===e||1===e}function Gi(e){let{scale:t,scaleX:r,scaleY:n}=e;return!Ki(t)||!Ki(r)||!Ki(n)}function Ji(e){return Gi(e)||Yi(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Yi(e){return Qi(e.x)||Qi(e.y)}function Qi(e){return e&&"0%"!==e}function Xi(e,t,r){return r+t*(e-r)}function Zi(e,t,r,n,s){return void 0!==s&&(e=Xi(e,s,n)),Xi(e,r,n)+t}function eo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;e.min=Zi(e.min,t,r,n,s),e.max=Zi(e.max,t,r,n,s)}function to(e,t){let{x:r,y:n}=t;eo(e.x,r.translate,r.scale,r.originPoint),eo(e.y,n.translate,n.scale,n.originPoint)}function ro(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function no(e,t){e.min=e.min+t,e.max=e.max+t}function so(e,t,r){let[n,s,a]=r;const i=void 0!==t[a]?t[a]:.5,o=Fs(e.min,e.max,i);eo(e,t[n],t[s],o,t.scale)}const ao=["x","scaleX","originX"],io=["y","scaleY","originY"];function oo(e,t){so(e.x,t,ao),so(e.y,t,io)}function lo(e,t){return Hi(function(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}(e.getBoundingClientRect(),t))}const co=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},uo=new WeakMap;class ho{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:n}=this.getProps();this.panSession=new Si(e,{onSessionStart:e=>{const{dragSnapToOrigin:r}=this.getProps();r?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(qn(e,"page").point)},onStart:(e,t)=>{const{drag:r,dragPropagation:n,onDragStart:s}=this.getProps();if(r&&!n&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Qn(r),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Wi(e=>{let t=this.getAxisMotionValue(e).get()||0;if(sn.test(t)){const{projection:r}=this.visualElement;if(r&&r.layout){const n=r.layout.layoutBox[e];if(n){t=Ri(n)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),s&&Xt.update(()=>s(e,t),!1,!0);const{animationState:a}=this.visualElement;a&&a.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:r,dragDirectionLock:n,onDirectionLock:s,onDrag:a}=this.getProps();if(!r&&!this.openGlobalLock)return;const{offset:i}=t;if(n&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=null;Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x");return r}(i),void(null!==this.currentDirection&&s&&s(this.currentDirection));this.updateAxis("x",t.point,i),this.updateAxis("y",t.point,i),this.visualElement.render(),a&&a(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>Wi(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:n,contextWindow:co(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:n}=t;this.startAnimation(n);const{onDragEnd:s}=this.getProps();s&&Xt.update(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:n}=this.getProps();if(!r||!mo(e,n,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=function(e,t,r){let{min:n,max:s}=t;return void 0!==n&&e<n?e=r?Fs(n,e,r.min):Math.max(e,n):void 0!==s&&e>s&&(e=r?Fs(s,e,r.max):Math.min(e,s)),e}(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,s=this.constraints;t&&yr(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!n)&&function(e,t){let{top:r,left:n,bottom:s,right:a}=t;return{x:Ui(e.x,n,a),y:Ui(e.y,r,s)}}(n.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zi;return!1===e?e=0:!0===e&&(e=zi),{x:Fi(e,"left","right"),y:Fi(e,"top","bottom")}}(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Wi(e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const r={};return void 0!==t.min&&(r.min=t.min-e.min),void 0!==t.max&&(r.max=t.max-e.min),r}(n.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!yr(e))return!1;const r=e.current;ur(null!==r,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const s=function(e,t,r){const n=lo(e,r),{scroll:s}=t;return s&&(no(n.x,s.offset.x),no(n.y,s.offset.y)),n}(r,n.root,this.visualElement.getTransformPagePoint());let a=function(e,t){return{x:Vi(e.x,t.x),y:Vi(e.y,t.y)}}(n.layout.layoutBox,s);if(t){const e=t(function(e){let{x:t,y:r}=e;return{top:r.min,right:t.max,bottom:r.max,left:t.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=Hi(e))}return a}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:n,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:i}=this.getProps(),o=this.constraints||{},l=Wi(i=>{if(!mo(i,t,this.currentDirection))return;let l=o&&o[i]||{};a&&(l={min:0,max:0});const c=n?200:1e6,u=n?40:1e7,d={type:"inertia",velocity:r?e[i]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...s,...l};return this.startAxisValueAnimation(i,d)});return Promise.all(l).then(i)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return r.start(Ga(e,r,0,t))}stopAnimation(){Wi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Wi(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),n=r[t];return n||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Wi(t=>{const{drag:r}=this.getProps();if(!mo(t,r,this.currentDirection))return;const{projection:n}=this.visualElement,s=this.getAxisMotionValue(t);if(n&&n.layout){const{min:r,max:a}=n.layout.layoutBox[t];s.set(e[t]-Fs(r,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!yr(t)||!r||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};Wi(e=>{const t=this.getAxisMotionValue(e);if(t){const r=t.get();n[e]=function(e,t){let r=.5;const n=Ri(e),s=Ri(t);return s>n?r=la(t.min,t.max-n,e.min):n>s&&(r=la(e.min,e.max-s,t.min)),Kr(0,1,r)}({min:r,max:r},this.constraints[e])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Wi(t=>{if(!mo(t,e,null))return;const r=this.getAxisMotionValue(t),{min:s,max:a}=this.constraints[t];r.set(Fs(s,a,n[t]))})}addListeners(){if(!this.visualElement.current)return;uo.set(this.visualElement,this);const e=Wn(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:r=!0}=this.getProps();t&&r&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();yr(e)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,n=r.addEventListener("measure",t);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),t();const s=Fn(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:r}=e;this.isDragging&&r&&(Wi(e=>{const r=this.getAxisMotionValue(e);r&&(this.originPoint[e]+=t[e].translate,r.set(r.get()+t[e].translate))}),this.visualElement.render())});return()=>{s(),e(),n(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:n=!1,dragConstraints:s=!1,dragElastic:a=zi,dragMomentum:i=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:n,dragConstraints:s,dragElastic:a,dragMomentum:i}}}function mo(e,t,r){return(!0===t||t===e)&&(null===r||r===e)}const po=e=>(t,r)=>{e&&Xt.update(()=>e(t,r))};const fo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function go(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const vo={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!an.test(e))return e;e=parseFloat(e)}return`${go(e,t.target.x)}% ${go(e,t.target.y)}%`}},yo={correct:(e,t)=>{let{treeScale:r,projectionDelta:n}=t;const s=e,a=ra.parse(e);if(a.length>5)return s;const i=ra.createTransformer(e),o="number"!==typeof a[0]?1:0,l=n.x.scale*r.x,c=n.y.scale*r.y;a[0+o]/=l,a[1+o]/=c;const u=Fs(l,c,.5);return"number"===typeof a[2+o]&&(a[2+o]/=u),"number"===typeof a[3+o]&&(a[3+o]/=u),i(a)}};class xo extends t.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:n}=this.props,{projection:s}=e;var a;a=wo,Object.assign(Ir,a),s&&(t.group&&t.group.add(s),r&&r.register&&n&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),fo.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:n,isPresent:s}=this.props,a=r.projection;return a?(a.isPresent=s,n||e.layoutDependency!==t||void 0===t?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||Xt.postRender(()=>{const e=a.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:n}=e;n&&(n.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(n),r&&r.deregister&&r.deregister(n))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function bo(e){const[r,n]=function(){const e=(0,t.useContext)(rr);if(null===e)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=e,a=(0,t.useId)();return(0,t.useEffect)(()=>s(a),[]),!r&&n?[!1,()=>n&&n(a)]:[!0]}(),s=(0,t.useContext)(lr);return t.createElement(xo,{...e,layoutGroup:s,switchLayoutGroup:(0,t.useContext)(Pr),isPresent:r,safeToRemove:n})}const wo={borderRadius:{...vo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vo,borderTopRightRadius:vo,borderBottomLeftRadius:vo,borderBottomRightRadius:vo,boxShadow:yo},jo=["TopLeft","TopRight","BottomLeft","BottomRight"],No=jo.length,ko=e=>"string"===typeof e?parseFloat(e):e,So=e=>"number"===typeof e||an.test(e);function _o(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Eo=Po(0,.5,Cs),Co=Po(.5,.95,Jt);function Po(e,t,r){return n=>n<e?0:n>t?1:r(la(e,t,n))}function To(e,t){e.min=t.min,e.max=t.max}function Ao(e,t){To(e.x,t.x),To(e.y,t.y)}function Ro(e,t,r,n,s){return e=Xi(e-=t,1/r,n),void 0!==s&&(e=Xi(e,1/s,n)),e}function Oo(e,t,r,n,s){let[a,i,o]=r;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,s=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;sn.test(t)&&(t=parseFloat(t),t=Fs(i.min,i.max,t/100)-i.min);if("number"!==typeof t)return;let o=Fs(a.min,a.max,n);e===a&&(o-=t),e.min=Ro(e.min,t,r,o,s),e.max=Ro(e.max,t,r,o,s)}(e,t[a],t[i],t[o],t.scale,n,s)}const Do=["x","scaleX","originX"],Lo=["y","scaleY","originY"];function Io(e,t,r,n){Oo(e.x,t,Do,r?r.x:void 0,n?n.x:void 0),Oo(e.y,t,Lo,r?r.y:void 0,n?n.y:void 0)}function Mo(e){return 0===e.translate&&1===e.scale}function $o(e){return Mo(e.x)&&Mo(e.y)}function Uo(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Vo(e){return Ri(e.x)/Ri(e.y)}class zo{constructor(){this.members=[]}add(e){Qa(this.members,e),e.scheduleRender()}remove(e){if(Xa(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let r;for(let n=t;n>=0;n--){const e=this.members[n];if(!1!==e.isPresent){r=e;break}}return!!r&&(this.promote(r),!0)}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:n}=e.options;!1===n&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Fo(e,t,r){let n="";const s=e.x.translate/t.x,a=e.y.translate/t.y;if((s||a)&&(n=`translate3d(${s}px, ${a}px, 0) `),1===t.x&&1===t.y||(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:e,rotateX:t,rotateY:s}=r;e&&(n+=`rotate(${e}deg) `),t&&(n+=`rotateX(${t}deg) `),s&&(n+=`rotateY(${s}deg) `)}const i=e.x.scale*t.x,o=e.y.scale*t.y;return 1===i&&1===o||(n+=`scale(${i}, ${o})`),n||"none"}const Bo=(e,t)=>e.depth-t.depth;class qo{constructor(){this.children=[],this.isDirty=!1}add(e){Qa(this.children,e),this.isDirty=!0}remove(e){Xa(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Bo),this.isDirty=!1,this.children.forEach(e)}}const Wo=["","X","Y","Z"],Ho={visibility:"hidden"};let Ko=0;const Go={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Jo(e){let{attachResizeListener:t,defaultParent:r,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===r||void 0===r?void 0:r();this.id=Ko++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Go.totalNodes=Go.resolvedTargetDeltas=Go.recalculatedProjection=0,this.nodes.forEach(Xo),this.nodes.forEach(al),this.nodes.forEach(il),this.nodes.forEach(Zo),function(e){window.MotionDebug&&window.MotionDebug.record(e)}(Go)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let r=0;r<this.path.length;r++)this.path[r].shouldResetTransform=!0;this.root===this&&(this.nodes=new qo)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Za),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];t&&t.notify(...n)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var n;this.isSVG=(n=e)instanceof SVGElement&&"svg"!==n.tagName,this.instance=e;const{layoutId:s,layout:a,visualElement:i}=this.options;if(i&&!i.current&&i.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),r&&(a||s)&&(this.isLayoutDirty=!0),t){let r;const n=()=>this.root.updateBlockedByResize=!1;t(e,()=>{this.root.updateBlockedByResize=!0,r&&r(),r=function(e,t){const r=performance.now(),n=s=>{let{timestamp:a}=s;const i=a-r;i>=t&&(Zt(n),e(i-t))};return Xt.read(n,!0),()=>Zt(n)}(n,250),fo.hasAnimatedSinceResize&&(fo.hasAnimatedSinceResize=!1,this.nodes.forEach(sl))})}s&&this.root.registerSharedNode(s,this),!1!==this.options.animate&&i&&(s||a)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:r,hasRelativeTargetChanged:n,layout:s}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const a=this.options.transition||i.getDefaultTransition()||hl,{onLayoutAnimationStart:o,onLayoutAnimationComplete:l}=i.getProps(),c=!this.targetLayout||!Uo(this.targetLayout,s)||n,u=!r&&n;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||r&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e={...Ha(a,"layout"),onPlay:o,onComplete:l};(i.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else r||sl(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=s})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Zt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ol),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let s=0;s<this.path.length;s++){const e=this.path[s];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:r}=this.options;if(void 0===t&&!r)return;const n=this.getTransformTemplate();this.prevTransformTemplateValue=n?n(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(tl);this.isUpdating||this.nodes.forEach(rl),this.isUpdating=!1,this.nodes.forEach(nl),this.nodes.forEach(Yo),this.nodes.forEach(Qo),this.clearAllSnapshots();const e=performance.now();er.delta=Kr(0,1e3/60,e-er.timestamp),er.timestamp=e,er.isProcessing=!0,tr.update.process(er),tr.preRender.process(er),tr.render.process(er),er.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(el),this.sharedNodes.forEach(ll)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let r=0;r<this.path.length;r++){this.path[r].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:s(this.instance),offset:n(this.instance)})}resetTransform(){if(!a)return;const e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!$o(this.projectionDelta),r=this.getTransformTemplate(),n=r?r(this.latestValues,""):void 0,s=n!==this.prevTransformTemplateValue;e&&(t||Ji(this.latestValues)||s)&&(a(this.instance,n),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let r=this.removeElementScroll(t);var n;return e&&(r=this.removeTransform(r)),fl((n=r).x),fl(n.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:r,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox(),{scroll:r}=this.root;return r&&(no(t.x,r.offset.x),no(t.y,r.offset.y)),t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Ao(t,e);for(let r=0;r<this.path.length;r++){const n=this.path[r],{scroll:s,options:a}=n;if(n!==this.root&&s&&a.layoutScroll){if(s.isRoot){Ao(t,e);const{scroll:r}=this.root;r&&(no(t.x,-r.offset.x),no(t.y,-r.offset.y))}no(t.x,s.offset.x),no(t.y,s.offset.y)}}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r={x:{min:0,max:0},y:{min:0,max:0}};Ao(r,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&oo(r,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Ji(e.latestValues)&&oo(r,e.latestValues)}return Ji(this.latestValues)&&oo(r,this.latestValues),r}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Ao(t,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];if(!e.instance)continue;if(!Ji(e.latestValues))continue;Gi(e.latestValues)&&e.updateSnapshot();const n=qi();Ao(n,e.measurePageBox()),Io(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,n)}return Ji(this.latestValues)&&Io(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==er.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const r=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=r.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=r.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=r.isSharedProjectionDirty);const n=Boolean(this.resumingFrom)||this!==r;if(!(e||n&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:s,layoutId:a}=this.options;if(this.layout&&(s||a)){if(this.resolvedRelativeTargetAt=er.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},$i(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),Ao(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var i,o,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),i=this.target,o=this.relativeTarget,l=this.relativeParent.target,Ii(i.x,o.x,l.x),Ii(i.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Ao(this.target,this.layout.layoutBox),to(this.target,this.targetDelta)):Ao(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},$i(this.relativeTargetOrigin,this.target,e.target),Ao(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Go.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Gi(this.parent.latestValues)&&!Yi(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),r=Boolean(this.resumingFrom)||this!==t;let n=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(n=!1),r&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===er.timestamp&&(n=!1),n)return;const{layout:s,layoutId:a}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!s&&!a)return;Ao(this.layoutCorrected,this.layout.layoutBox);const i=this.treeScale.x,o=this.treeScale.y;!function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=r.length;if(!s)return;let a,i;t.x=t.y=1;for(let o=0;o<s;o++){a=r[o],i=a.projectionDelta;const s=a.instance;s&&s.style&&"contents"===s.style.display||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&oo(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,to(e,i)),n&&Ji(a.latestValues)&&oo(e,a.latestValues))}t.x=ro(t.x),t.y=ro(t.y)}(this.layoutCorrected,this.treeScale,this.path,r),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);const{target:l}=t;if(!l)return void(this.projectionTransform&&(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});const c=this.projectionTransform;Li(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=Fo(this.projectionDelta,this.treeScale),this.projectionTransform===c&&this.treeScale.x===i&&this.treeScale.y===o||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),Go.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=this.snapshot,n=r?r.latestValues:{},s={...this.latestValues},a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const i={x:{min:0,max:0},y:{min:0,max:0}},o=(r?r.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(dl));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const r=t/1e3;cl(a.x,e.x,r),cl(a.y,e.y,r),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($i(i,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,r,n){ul(e.x,t.x,r.x,n),ul(e.y,t.y,r.y,n)}(this.relativeTarget,this.relativeTargetOrigin,i,r),d&&function(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}(this.relativeTarget,d)&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),Ao(d,this.relativeTarget)),o&&(this.animationValues=s,function(e,t,r,n,s,a){s?(e.opacity=Fs(0,void 0!==r.opacity?r.opacity:1,Eo(n)),e.opacityExit=Fs(void 0!==t.opacity?t.opacity:1,0,Co(n))):a&&(e.opacity=Fs(void 0!==t.opacity?t.opacity:1,void 0!==r.opacity?r.opacity:1,n));for(let i=0;i<No;i++){const s=`border${jo[i]}Radius`;let a=_o(t,s),o=_o(r,s);void 0===a&&void 0===o||(a||(a=0),o||(o=0),0===a||0===o||So(a)===So(o)?(e[s]=Math.max(Fs(ko(a),ko(o),n),0),(sn.test(o)||sn.test(a))&&(e[s]+="%")):e[s]=o)}(t.rotate||r.rotate)&&(e.rotate=Fs(t.rotate||0,r.rotate||0,n))}(s,n,this.latestValues,r,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=r},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Zt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xt.update(()=>{fo.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,r){const n=Vr(e)?e:ri(e);return n.start(Ga("",n,t,r)),n.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:r,layout:n,latestValues:s}=e;if(t&&r&&n){if(this!==e&&this.layout&&n&&gl(this.options.animationType,this.layout.layoutBox,n.layoutBox)){r=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=Ri(this.layout.layoutBox.x);r.x.min=e.target.x.min,r.x.max=r.x.min+t;const n=Ri(this.layout.layoutBox.y);r.y.min=e.target.y.min,r.y.max=r.y.min+n}Ao(t,r),oo(t,s),Li(this.projectionDeltaWithTransform,this.layoutCorrected,t,s)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new zo);this.sharedNodes.get(e).add(t);const r=t.options.initialPromotionConfig;t.promote({transition:r?r.transition:void 0,preserveFollowOpacity:r&&r.shouldPreserveFollowOpacity?r.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=this.getStack();n&&n.promote(this,r),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:r}=e;if((r.rotate||r.rotateX||r.rotateY||r.rotateZ)&&(t=!0),!t)return;const n={};for(let s=0;s<Wo.length;s++){const t="rotate"+Wo[s];r[t]&&(n[t]=r[t],e.setStaticValue(t,0))}e.render();for(const s in n)e.setStaticValue(s,n[s]);e.scheduleRender()}getProjectionStyles(e){var t,r;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Ho;const n={visibility:""},s=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,n.opacity="",n.pointerEvents=Mn(null===e||void 0===e?void 0:e.pointerEvents)||"",n.transform=s?s(this.latestValues,""):"none",n;const a=this.getLead();if(!this.projectionDelta||!this.layout||!a.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=Mn(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!Ji(this.latestValues)&&(t.transform=s?s({},""):"none",this.hasProjected=!1),t}const i=a.animationValues||a.latestValues;this.applyTransformsToTarget(),n.transform=Fo(this.projectionDeltaWithTransform,this.treeScale,i),s&&(n.transform=s(i,n.transform));const{x:o,y:l}=this.projectionDelta;n.transformOrigin=`${100*o.origin}% ${100*l.origin}% 0`,a.animationValues?n.opacity=a===this?null!==(r=null!==(t=i.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==r?r:1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:n.opacity=a===this?void 0!==i.opacity?i.opacity:"":void 0!==i.opacityExit?i.opacityExit:0;for(const c in Ir){if(void 0===i[c])continue;const{correct:e,applyTo:t}=Ir[c],r="none"===n.transform?i[c]:e(i[c],a);if(t){const e=t.length;for(let s=0;s<e;s++)n[t[s]]=r}else n[c]=r}return this.options.layoutId&&(n.pointerEvents=a===this?Mn(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),n}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(tl),this.root.sharedNodes.clear()}}}function Yo(e){e.updateLayout()}function Qo(e){var t;const r=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:n}=e.layout,{animationType:s}=e.options,a=r.source!==e.layout.source;"size"===s?Wi(e=>{const n=a?r.measuredBox[e]:r.layoutBox[e],s=Ri(n);n.min=t[e].min,n.max=n.min+s}):gl(s,r.layoutBox,t)&&Wi(n=>{const s=a?r.measuredBox[n]:r.layoutBox[n],i=Ri(t[n]);s.max=s.min+i,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[n].max=e.relativeTarget[n].min+i)});const i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Li(i,t,r.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};a?Li(o,e.applyTransform(n,!0),r.measuredBox):Li(o,t,r.layoutBox);const l=!$o(i);let c=!1;if(!e.resumeFrom){const n=e.getClosestProjectingParent();if(n&&!n.resumeFrom){const{snapshot:s,layout:a}=n;if(s&&a){const i={x:{min:0,max:0},y:{min:0,max:0}};$i(i,r.layoutBox,s.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};$i(o,t,a.layoutBox),Uo(i,o)||(c=!0),n.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=i,e.relativeParent=n)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:r,delta:o,layoutDelta:i,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Xo(e){Go.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Zo(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function el(e){e.clearSnapshot()}function tl(e){e.clearMeasurements()}function rl(e){e.isLayoutDirty=!1}function nl(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function sl(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function al(e){e.resolveTargetDelta()}function il(e){e.calcProjection()}function ol(e){e.resetRotation()}function ll(e){e.removeLeadSnapshot()}function cl(e,t,r){e.translate=Fs(t.translate,0,r),e.scale=Fs(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function ul(e,t,r,n){e.min=Fs(t.min,r.min,n),e.max=Fs(t.max,r.max,n)}function dl(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const hl={duration:.45,ease:[.4,0,.1,1]},ml=e=>"undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().includes(e),pl=ml("applewebkit/")&&!ml("chrome/")?Math.round:Jt;function fl(e){e.min=pl(e.min),e.max=pl(e.max)}function gl(e,t,r){return"position"===e||"preserve-aspect"===e&&!Oi(Vo(t),Vo(r),.2)}const vl=Jo({attachResizeListener:(e,t)=>Fn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),yl={current:void 0},xl=Jo({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!yl.current){const e=new vl({});e.mount(window),e.setOptions({layoutScroll:!0}),yl.current=e}return yl.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),bl={pan:{Feature:class extends Zn{constructor(){super(...arguments),this.removePointerDownListener=Jt}onPointerDown(e){this.session=new Si(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:co(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:n}=this.node.getProps();return{onSessionStart:po(e),onStart:po(t),onMove:r,onEnd:(e,t)=>{delete this.session,n&&Xt.update(()=>n(e,t))}}}mount(){this.removePointerDownListener=Wn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Zn{constructor(e){super(e),this.removeGroupControls=Jt,this.removeListeners=Jt,this.controls=new ho(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Jt}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:xl,MeasureLayout:bo}},wl=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function jl(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;ur(r<=4,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`);const[n,s]=function(e){const t=wl.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]}(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const e=a.trim();return Ya(e)?parseFloat(e):e}return Wr(s)?jl(s,t,r+1):s}const Nl=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),kl=e=>Nl.has(e),Sl=e=>e===Gr||e===an,_l=(e,t)=>parseFloat(e.split(", ")[t]),El=(e,t)=>(r,n)=>{let{transform:s}=n;if("none"===s||!s)return 0;const a=s.match(/^matrix3d\((.+)\)$/);if(a)return _l(a[1],t);{const t=s.match(/^matrix\((.+)\)$/);return t?_l(t[1],e):0}},Cl=new Set(["x","y","z"]),Pl=Mr.filter(e=>!Cl.has(e));const Tl={width:(e,t)=>{let{x:r}=e,{paddingLeft:n="0",paddingRight:s="0"}=t;return r.max-r.min-parseFloat(n)-parseFloat(s)},height:(e,t)=>{let{y:r}=e,{paddingTop:n="0",paddingBottom:s="0"}=t;return r.max-r.min-parseFloat(n)-parseFloat(s)},top:(e,t)=>{let{top:r}=t;return parseFloat(r)},left:(e,t)=>{let{left:r}=t;return parseFloat(r)},bottom:(e,t)=>{let{y:r}=e,{top:n}=t;return parseFloat(n)+(r.max-r.min)},right:(e,t)=>{let{x:r}=e,{left:n}=t;return parseFloat(n)+(r.max-r.min)},x:El(4,13),y:El(5,14)};Tl.translateX=Tl.x,Tl.translateY=Tl.y;const Al=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t={...t},n={...n};const s=Object.keys(t).filter(kl);let a=[],i=!1;const o=[];if(s.forEach(s=>{const l=e.getValue(s);if(!e.hasValue(s))return;let c=r[s],u=ai(c);const d=t[s];let h;if(Ln(d)){const e=d.length,t=null===d[0]?1:0;c=d[t],u=ai(c);for(let r=t;r<e&&null!==d[r];r++)h?ur(ai(d[r])===h,"All keyframes must be of the same type"):(h=ai(d[r]),ur(h===u||Sl(u)&&Sl(h),"Keyframes must be of the same dimension as the current value"))}else h=ai(d);if(u!==h)if(Sl(u)&&Sl(h)){const e=l.get();"string"===typeof e&&l.set(parseFloat(e)),"string"===typeof d?t[s]=parseFloat(d):Array.isArray(d)&&h===an&&(t[s]=d.map(parseFloat))}else(null===u||void 0===u?void 0:u.transform)&&(null===h||void 0===h?void 0:h.transform)&&(0===c||0===d)?0===c?l.set(h.transform(c)):t[s]=u.transform(d):(i||(a=function(e){const t=[];return Pl.forEach(r=>{const n=e.getValue(r);void 0!==n&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}(e),i=!0),o.push(s),n[s]=void 0!==n[s]?n[s]:t[s],l.jump(d))}),o.length){const r=o.indexOf("height")>=0?window.pageYOffset:null,s=((e,t,r)=>{const n=t.measureViewportBox(),s=t.current,a=getComputedStyle(s),{display:i}=a,o={};"none"===i&&t.setStaticValue("display",e.display||"block"),r.forEach(e=>{o[e]=Tl[e](n,a)}),t.render();const l=t.measureViewportBox();return r.forEach(r=>{const n=t.getValue(r);n&&n.jump(o[r]),e[r]=Tl[r](l,a)}),e})(t,e,o);return a.length&&a.forEach(t=>{let[r,n]=t;e.getValue(r).set(n)}),e.render(),Ht&&null!==r&&window.scrollTo({top:r}),{target:s,transitionEnd:n}}return{target:t,transitionEnd:n}};function Rl(e,t,r,n){return(e=>Object.keys(e).some(kl))(t)?Al(e,t,r,n):{target:t,transitionEnd:n}}const Ol=(e,t,r,n)=>{const s=function(e,t,r){let{...n}=t;const s=e.current;if(!(s instanceof Element))return{target:n,transitionEnd:r};r&&(r={...r}),e.values.forEach(e=>{const t=e.get();if(!Wr(t))return;const r=jl(t,s);r&&e.set(r)});for(const a in n){const e=n[a];if(!Wr(e))continue;const t=jl(e,s);t&&(n[a]=t,r||(r={}),void 0===r[a]&&(r[a]=e))}return{target:n,transitionEnd:r}}(e,t,n);return Rl(e,t=s.target,r,n=s.transitionEnd)},Dl={current:null},Ll={current:!1};const Il=new WeakMap,Ml=Object.keys(Cr),$l=Ml.length,Ul=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Vl=jr.length;class zl{constructor(e){let{parent:t,props:r,presenceContext:n,reducedMotionConfig:s,visualState:a}=e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Xt.render(this.render,!1,!0);const{latestValues:o,renderState:l}=a;this.latestValues=o,this.baseTarget={...o},this.initialValues=r.initial?{...o}:{},this.renderState=l,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=i,this.isControllingVariants=Nr(r),this.isVariantNode=kr(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(r,{});for(const d in u){const e=u[d];void 0!==o[d]&&Vr(e)&&(e.set(o[d],!1),Ja(c)&&c.add(d))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,Il.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),Ll.current||function(){if(Ll.current=!0,Ht)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Dl.current=e.matches;e.addListener(t),t()}else Dl.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Dl.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Il.delete(this.current),this.projection&&this.projection.unmount(),Zt(this.notifyUpdate),Zt(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const r=$r.has(e),n=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&Xt.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{n(),s()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures(e,t,r,n){let s,a,{children:i,...o}=e;for(let l=0;l<$l;l++){const e=Ml[l],{isEnabled:t,Feature:r,ProjectionNode:n,MeasureLayout:i}=Cr[e];n&&(s=n),t(o)&&(!this.features[e]&&r&&(this.features[e]=new r(this)),i&&(a=i))}if(("html"===this.type||"svg"===this.type)&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:t,drag:r,dragConstraints:a,layoutScroll:i,layoutRoot:l}=o;this.projection.setOptions({layoutId:e,layout:t,alwaysMeasureLayout:Boolean(r)||a&&yr(a),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"===typeof t?t:"both",initialPromotionConfig:n,layoutScroll:i,layoutRoot:l})}return a}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<Ul.length;r++){const t=Ul[r];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const n=e["on"+t];n&&(this.propEventSubscriptions[t]=this.on(t,n))}this.prevMotionValues=function(e,t,r){const{willChange:n}=t;for(const s in t){const a=t[s],i=r[s];if(Vr(a))e.addValue(s,a),Ja(n)&&n.add(s);else if(Vr(i))e.addValue(s,ri(a,{owner:e})),Ja(n)&&n.remove(s);else if(i!==a)if(e.hasValue(s)){const t=e.getValue(s);!t.hasAnimated&&t.set(a)}else{const t=e.getStaticValue(s);e.addValue(s,ri(void 0!==t?t:a,{owner:e}))}}for(const s in r)void 0===t[s]&&e.removeValue(s);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const e={};for(let t=0;t<Vl;t++){const r=jr[t],n=this.props[r];(xr(n)||!1===n)&&(e[r]=n)}return e}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return void 0===r&&void 0!==t&&(r=ri(t,{owner:this}),this.addValue(e,r)),r}readValue(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,n="string"===typeof r||"object"===typeof r?null===(t=Dn(this.props,r))||void 0===t?void 0:t[e]:void 0;if(r&&void 0!==n)return n;const s=this.getBaseTargetFromProps(this.props,e);return void 0===s||Vr(s)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:s}on(e,t){return this.events[e]||(this.events[e]=new Za),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this.events[e].notify(...r)}}}class Fl extends zl{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:r,style:n}=t;delete r[e],delete n[e]}makeTargetAnimatableFromInstance(e,t,r){let{transition:n,transitionEnd:s,...a}=e,{transformValues:i}=t,o=function(e,t,r){const n={};for(const s in e){const e=ui(s,t);if(void 0!==e)n[s]=e;else{const e=r.getValue(s);e&&(n[s]=e.get())}}return n}(a,n||{},this);if(i&&(s&&(s=i(s)),a&&(a=i(a)),o&&(o=i(o))),r){!function(e,t,r){var n,s;const a=Object.keys(t).filter(t=>!e.hasValue(t)),i=a.length;if(i)for(let o=0;o<i;o++){const i=a[o],l=t[i];let c=null;Array.isArray(l)&&(c=l[0]),null===c&&(c=null!==(s=null!==(n=r[i])&&void 0!==n?n:e.readValue(i))&&void 0!==s?s:t[i]),void 0!==c&&null!==c&&("string"===typeof c&&(Ya(c)||qa(c))?c=parseFloat(c):!oi(c)&&ra.test(l)&&(c=Ba(i,l)),e.addValue(i,ri(c,{owner:e})),void 0===r[i]&&(r[i]=c),null!==c&&e.setBaseTarget(i,c))}}(this,a,o);const e=Ol(this,a,o,s);s=e.transitionEnd,a=e.target}return{transition:n,transitionEnd:s,...a}}}class Bl extends Fl{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if($r.has(t)){const e=Fa(t);return e&&e.default||0}{const n=(r=e,window.getComputedStyle(r)),s=(qr(t)?n.getPropertyValue(t):n[t])||0;return"string"===typeof s?s.trim():s}var r}measureInstanceViewportBox(e,t){let{transformPagePoint:r}=t;return lo(e,r)}build(e,t,r,n){hn(e,t,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,t){return Rn(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Vr(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}renderInstance(e,t,r,n){Pn(e,t,r,n)}}class ql extends Fl{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if($r.has(t)){const e=Fa(t);return e&&e.default||0}return t=Tn.has(t)?t:gr(t),e.getAttribute(t)}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}scrapeMotionValuesFromProps(e,t){return On(e,t)}build(e,t,r,n){kn(e,t,r,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,r,n){An(e,t,0,n)}mount(e){this.isSVGTag=_n(e.tagName),super.mount(e)}}const Wl=(e,t)=>Lr(e)?new ql(t,{enableHardwareAcceleration:!1}):new Bl(t,{enableHardwareAcceleration:!0}),Hl={...Ni,...cs,...bl,...{layout:{ProjectionNode:xl,MeasureLayout:bo}}},Kl=Or((e,t)=>function(e,t,r,n){let{forwardMotionProps:s=!1}=t;return{...Lr(e)?Vn:zn,preloadedFeatures:r,useRender:Cn(s),createVisualElement:n,Component:e}}(e,t,Hl,Wl));const Gl=()=>{const[e,r]=(0,t.useState)(!1),[n,s]=(0,t.useState)(!1),[a,i]=(0,t.useState)(!1),{currentUser:o,logout:l,isAdmin:c,isOwner:u}=It(),d=X(),h=ee(),m=(0,t.useRef)(null),p=[{name:"Inicio",href:"/"},{name:"Cat\xe1logo",href:"/catalogo"},{name:"Galer\xeda",href:"/galeria"},{name:"Blog",href:"/blog"},{name:"Nosotros",href:"/nosotros"}],f=async()=>{try{console.log("\ud83d\udeaa Navbar: Iniciando logout..."),r(!1),s(!1);const e=document.querySelector("[data-logout-button]");e&&(e.disabled=!0,e.innerHTML='<div class="animate-spin w-4 h-4 mr-2">\u23f3</div>Cerrando...'),await l(),console.log("\u2705 Navbar: Logout exitoso"),h("/")}catch(e){console.error("\u274c Navbar: Error en logout:",e);const t=document.querySelector("[data-logout-button]");t&&(t.disabled=!1,t.innerHTML='<LogOut className="w-4 h-4 mr-2" />Cerrar Sesi\xf3n')}};return(0,t.useEffect)(()=>{const e=e=>{m.current&&!m.current.contains(e.target)&&s(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,t.useEffect)(()=>{(()=>{if(!o)return void i(!1);const e="oterov101@gmail.com"===o.email;i(e),console.log("\ud83d\udd0d Navbar: Verificaci\xf3n owner:",{email:o.email,isOwner:e})})()},[o]),(0,Dt.jsxs)("nav",{className:"bg-white shadow-lg sticky top-0 z-50",children:[(0,Dt.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Dt.jsxs)("div",{className:"flex justify-between h-16",children:[(0,Dt.jsx)("div",{className:"flex-shrink-0 flex items-center",children:(0,Dt.jsxs)(Ce,{to:"/",className:"flex items-center",children:[(0,Dt.jsx)("div",{className:"w-10 h-10 bg-primary-600 rounded-lg flex items-center justify-center",children:(0,Dt.jsx)("span",{className:"text-white font-bold text-xl",children:"R"})}),(0,Dt.jsx)("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"Ricars"})]})}),(0,Dt.jsx)("div",{className:"hidden md:flex items-center space-x-8",children:p.map(e=>(0,Dt.jsx)(Ce,{to:e.href,className:"px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 "+(d.pathname===e.href?"text-primary-600 bg-primary-50":"text-gray-700 hover:text-primary-600 hover:bg-primary-50"),children:e.name},e.name))}),(0,Dt.jsx)("div",{className:"hidden md:flex items-center space-x-4",children:o?(0,Dt.jsxs)("div",{className:"relative",ref:m,children:[(0,Dt.jsxs)("button",{onClick:()=>s(!n),className:"flex items-center space-x-2 text-gray-700 hover:text-primary-600 transition-colors duration-300 focus:outline-none",children:[(0,Dt.jsx)(Vt,{className:"w-5 h-5"}),(0,Dt.jsx)("span",{className:"text-sm font-medium",children:o.displayName||o.email})]}),(0,Dt.jsx)(hr,{children:n&&(0,Dt.jsxs)(Kl.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2,ease:"easeOut"},className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50",children:[(0,Dt.jsxs)(Ce,{to:"/perfil",onClick:()=>s(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors duration-300",children:[(0,Dt.jsx)(Vt,{className:"w-4 h-4 mr-2"}),"Mi Perfil"]}),a&&(0,Dt.jsxs)(Ce,{to:"/users",onClick:()=>s(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors duration-300",children:[(0,Dt.jsx)(zt,{className:"w-4 h-4 mr-2"}),"Gesti\xf3n de Usuarios"]}),c()&&(0,Dt.jsxs)(Ce,{to:"/admin",onClick:()=>s(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors duration-300",children:[(0,Dt.jsx)(Ft,{className:"w-4 h-4 mr-2"}),"Panel Admin"]}),(0,Dt.jsxs)("button",{onClick:f,"data-logout-button":!0,className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors duration-300",children:[(0,Dt.jsx)(Bt,{className:"w-4 h-4 mr-2"}),"Cerrar Sesi\xf3n"]})]})})]}):(0,Dt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Dt.jsx)(Ce,{to:"/login",className:"text-gray-700 hover:text-primary-600 transition-colors duration-200",children:"Iniciar Sesi\xf3n"}),(0,Dt.jsx)(Ce,{to:"/registro",className:"btn-primary",children:"Registrarse"})]})}),(0,Dt.jsx)("div",{className:"md:hidden flex items-center",children:(0,Dt.jsx)("button",{onClick:()=>r(!e),className:"text-gray-700 hover:text-primary-600 transition-colors duration-200",children:e?(0,Dt.jsx)(qt,{className:"w-6 h-6"}):(0,Dt.jsx)(Wt,{className:"w-6 h-6"})})})]})}),(0,Dt.jsx)(hr,{children:e&&(0,Dt.jsx)(Kl.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-white border-t border-gray-200",children:(0,Dt.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[p.map(e=>(0,Dt.jsx)(Ce,{to:e.href,onClick:()=>r(!1),className:"block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200 "+(d.pathname===e.href?"text-primary-600 bg-primary-50":"text-gray-700 hover:text-primary-600 hover:bg-primary-50"),children:e.name},e.name)),o?(0,Dt.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[(0,Dt.jsx)("div",{className:"px-3 py-2 text-sm text-gray-500",children:o.displayName||o.email}),(0,Dt.jsxs)(Ce,{to:"/perfil",onClick:()=>r(!1),className:"flex items-center px-3 py-2 text-base font-medium text-gray-700 hover:text-primary-600 hover:bg-primary-50 transition-colors duration-200",children:[(0,Dt.jsx)(Vt,{className:"w-4 h-4 mr-2"}),"Mi Perfil"]}),a&&(0,Dt.jsxs)(Ce,{to:"/users",onClick:()=>r(!1),className:"flex items-center px-3 py-2 text-base font-medium text-gray-700 hover:text-primary-600 hover:bg-primary-50 transition-colors duration-200",children:[(0,Dt.jsx)(zt,{className:"w-4 h-4 mr-2"}),"Gesti\xf3n de Usuarios"]}),c()&&(0,Dt.jsxs)(Ce,{to:"/admin",onClick:()=>r(!1),className:"flex items-center px-3 py-2 text-base font-medium text-gray-700 hover:text-primary-600 hover:bg-primary-50 transition-colors duration-200",children:[(0,Dt.jsx)(Ft,{className:"w-4 h-4 mr-2"}),"Panel Admin"]}),(0,Dt.jsxs)("button",{onClick:f,className:"flex items-center w-full px-3 py-2 text-base font-medium text-gray-700 hover:text-primary-600 hover:bg-primary-50 transition-colors duration-200",children:[(0,Dt.jsx)(Bt,{className:"w-4 h-4 mr-2"}),"Cerrar Sesi\xf3n"]})]}):(0,Dt.jsxs)("div",{className:"pt-4 border-t border-gray-200 space-y-2",children:[(0,Dt.jsx)(Ce,{to:"/login",onClick:()=>r(!1),className:"block px-3 py-2 text-base font-medium text-gray-700 hover:text-primary-600 hover:bg-primary-50 transition-colors duration-200",children:"Iniciar Sesi\xf3n"}),(0,Dt.jsx)(Ce,{to:"/registro",onClick:()=>r(!1),className:"block px-3 py-2 text-base font-medium text-primary-600 hover:bg-primary-50 transition-colors duration-200",children:"Registrarse"})]})]})})})]})},Jl=Ut("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),Yl=Ut("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),Ql=Ut("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Xl=Ut("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Zl=Ut("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),ec=Ut("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),tc=()=>{const e=(new Date).getFullYear(),t=[{name:"Instagram",href:"https://instagram.com/ricarsautomotores",icon:Jl,color:"hover:text-pink-600"},{name:"Facebook",href:"https://facebook.com/ricarsautomotores",icon:Yl,color:"hover:text-blue-600"},{name:"WhatsApp",href:"https://wa.me/5491112345678",icon:Ql,color:"hover:text-green-600"},{name:"MercadoLibre",href:"https://www.mercadolibre.com.ar/perfil/ricars-automotores",icon:Ql,color:"hover:text-yellow-600"}];return(0,Dt.jsx)("footer",{className:"bg-gray-900 text-white",children:(0,Dt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,Dt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,Dt.jsxs)("div",{className:"col-span-1 md:col-span-2",children:[(0,Dt.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Dt.jsx)("div",{className:"w-10 h-10 bg-primary-600 rounded-lg flex items-center justify-center",children:(0,Dt.jsx)("span",{className:"text-white font-bold text-xl",children:"R"})}),(0,Dt.jsx)("span",{className:"ml-2 text-xl font-bold",children:"Ricars Autom\xf3viles"})]}),(0,Dt.jsx)("p",{className:"text-gray-300 mb-6 max-w-md",children:"Tu concesionaria de confianza. Encuentra tu auto ideal con la mejor financiaci\xf3n y el mejor servicio post-venta."}),(0,Dt.jsx)("div",{className:"flex space-x-4",children:t.map(e=>(0,Dt.jsx)("a",{href:e.href,target:"_blank",rel:"noopener noreferrer",className:`text-gray-400 transition-colors duration-200 ${e.color}`,"aria-label":e.name,children:(0,Dt.jsx)(e.icon,{className:"w-6 h-6"})},e.name))})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Enlaces R\xe1pidos"}),(0,Dt.jsxs)("ul",{className:"space-y-2",children:[(0,Dt.jsx)("li",{children:(0,Dt.jsx)(Ce,{to:"/",className:"text-gray-300 hover:text-white transition-colors duration-200",children:"Inicio"})}),(0,Dt.jsx)("li",{children:(0,Dt.jsx)(Ce,{to:"/catalogo",className:"text-gray-300 hover:text-white transition-colors duration-200",children:"Cat\xe1logo"})}),(0,Dt.jsx)("li",{children:(0,Dt.jsx)(Ce,{to:"/nosotros",className:"text-gray-300 hover:text-white transition-colors duration-200",children:"Nosotros"})})]})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Contacto"}),(0,Dt.jsxs)("div",{className:"space-y-3",children:[(0,Dt.jsxs)("div",{className:"flex items-center text-gray-300",children:[(0,Dt.jsx)(Xl,{className:"w-5 h-5 mr-2 text-primary-400"}),(0,Dt.jsx)("span",{children:"Av. Principal 123, CABA"})]}),(0,Dt.jsxs)("div",{className:"flex items-center text-gray-300",children:[(0,Dt.jsx)(Zl,{className:"w-5 h-5 mr-2 text-primary-400"}),(0,Dt.jsx)("span",{children:"+54 11 1234-5678"})]}),(0,Dt.jsxs)("div",{className:"flex items-center text-gray-300",children:[(0,Dt.jsx)(ec,{className:"w-5 h-5 mr-2 text-primary-400"}),(0,Dt.jsx)("span",{children:"info@ricarsautomotores.com"})]})]})]})]}),(0,Dt.jsx)("div",{className:"border-t border-gray-800 mt-8 pt-8",children:(0,Dt.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[(0,Dt.jsxs)("p",{className:"text-gray-400 text-sm",children:["\xa9 ",e," Ricars Autom\xf3viles. Todos los derechos reservados."]}),(0,Dt.jsxs)("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[(0,Dt.jsx)(Ce,{to:"/privacidad",className:"text-gray-400 hover:text-white text-sm transition-colors duration-200",children:"Pol\xedtica de Privacidad"}),(0,Dt.jsx)(Ce,{to:"/terminos",className:"text-gray-400 hover:text-white text-sm transition-colors duration-200",children:"T\xe9rminos y Condiciones"})]})]})})]})})},rc=Ut("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),nc=Ut("Car",[["path",{d:"M14 16H9m10 0h3v-3.15a1 1 0 0 0-.84-.99L16 11l-2.7-3.6a1 1 0 0 0-.8-.4H5.24a2 2 0 0 0-1.8 1.1l-.8 1.63A6 6 0 0 0 2 12.42V16h2",key:"l5np60"}],["circle",{cx:"6.5",cy:"16.5",r:"2.5",key:"ae40ju"}],["circle",{cx:"16.5",cy:"16.5",r:"2.5",key:"1smtlt"}]]),sc=Ut("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),ac=Ut("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),ic=()=>{const e=ee(),[r,n]=(0,t.useState)({brand:"",model:"",priceRange:"",type:""}),s=e=>{const{name:t,value:r}=e.target;n(e=>({...e,[t]:r}))};return(0,Dt.jsx)(Kl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"max-w-4xl mx-auto",children:(0,Dt.jsxs)("form",{onSubmit:t=>{t.preventDefault();const n=new URLSearchParams;Object.entries(r).forEach(e=>{let[t,r]=e;r&&n.append(t,r)}),e(`/catalogo?${n.toString()}`)},className:"bg-white rounded-lg shadow-xl p-6",children:[(0,Dt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Dt.jsxs)("div",{className:"relative",children:[(0,Dt.jsx)(nc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Dt.jsxs)("select",{name:"brand",value:r.brand,onChange:s,className:"search-select pl-10",children:[(0,Dt.jsx)("option",{value:"",children:"Todas las marcas"}),(0,Dt.jsx)("option",{value:"toyota",children:"Toyota"}),(0,Dt.jsx)("option",{value:"honda",children:"Honda"}),(0,Dt.jsx)("option",{value:"ford",children:"Ford"}),(0,Dt.jsx)("option",{value:"chevrolet",children:"Chevrolet"}),(0,Dt.jsx)("option",{value:"volkswagen",children:"Volkswagen"}),(0,Dt.jsx)("option",{value:"bmw",children:"BMW"}),(0,Dt.jsx)("option",{value:"mercedes",children:"Mercedes-Benz"}),(0,Dt.jsx)("option",{value:"audi",children:"Audi"})]})]}),(0,Dt.jsxs)("div",{className:"relative",children:[(0,Dt.jsx)(sc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Dt.jsx)("input",{type:"text",name:"model",value:r.model,onChange:s,placeholder:"Modelo",className:"input-field pl-10"})]}),(0,Dt.jsxs)("div",{className:"relative",children:[(0,Dt.jsx)(ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Dt.jsxs)("select",{name:"priceRange",value:r.priceRange,onChange:s,className:"select-field pl-10",children:[(0,Dt.jsx)("option",{value:"",children:"Cualquier precio"}),(0,Dt.jsx)("option",{value:"0-5000",children:"Hasta $5,000 USD"}),(0,Dt.jsx)("option",{value:"5000-10000",children:"$5,000 - $10,000 USD"}),(0,Dt.jsx)("option",{value:"10000-20000",children:"$10,000 - $20,000 USD"}),(0,Dt.jsx)("option",{value:"20000-50000",children:"$20,000 - $50,000 USD"}),(0,Dt.jsx)("option",{value:"50000-100000",children:"$50,000 - $100,000 USD"}),(0,Dt.jsx)("option",{value:"100000-500000",children:"$100,000 - $500,000 USD"}),(0,Dt.jsx)("option",{value:"500000-1000000",children:"$500,000 - $1,000,000 USD"}),(0,Dt.jsx)("option",{value:"1000000-150000000",children:"$1,000,000 - $150,000,000 USD"}),(0,Dt.jsx)("option",{value:"150000000+",children:"M\xe1s de $150,000,000 USD"})]})]}),(0,Dt.jsxs)("div",{className:"relative",children:[(0,Dt.jsx)(nc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Dt.jsxs)("select",{name:"type",value:r.type,onChange:s,className:"select-field pl-10",children:[(0,Dt.jsx)("option",{value:"",children:"Todos los tipos"}),(0,Dt.jsx)("option",{value:"sedan",children:"Sed\xe1n"}),(0,Dt.jsx)("option",{value:"suv",children:"SUV"}),(0,Dt.jsx)("option",{value:"pickup",children:"Pick-Up"}),(0,Dt.jsx)("option",{value:"hatchback",children:"Hatchback"}),(0,Dt.jsx)("option",{value:"coupe",children:"Coup\xe9"}),(0,Dt.jsx)("option",{value:"cabriolet",children:"Cabriolet"}),(0,Dt.jsx)("option",{value:"premium",children:"Premium"})]})]})]}),(0,Dt.jsx)("div",{className:"mt-6 text-center",children:(0,Dt.jsx)("button",{type:"submit",className:"btn-primary px-8 py-3 text-lg font-semibold",children:"Buscar Veh\xedculos"})})]})})},oc=Ut("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),lc=Ut("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),cc=Ut("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),uc=Ut("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]),dc=async e=>{try{const{data:{user:t}}=await Re.supabase.auth.getUser();if(!t)throw new Error("Usuario no autenticado");const{data:r,error:n}=await Re.supabase.from("favorites").insert({user_id:t.id,vehicle_id:e}).select().single();if(n){if("23505"===n.code)return{success:!0,message:"Ya est\xe1 en favoritos"};throw n}return{success:!0,data:r}}catch(t){throw console.error("Error agregando a favoritos:",t),t}},hc=async e=>{try{const{data:{user:t}}=await Re.supabase.auth.getUser();if(!t)throw new Error("Usuario no autenticado");const{error:r}=await Re.supabase.from("favorites").delete().eq("user_id",t.id).eq("vehicle_id",e);if(r)throw r;return{success:!0}}catch(t){throw console.error("Error removiendo de favoritos:",t),t}},mc=async()=>{try{const{data:{user:e}}=await Re.supabase.auth.getUser();if(!e)return[];const{data:t,error:r}=await Re.supabase.from("favorites").select("\n        *,\n        vehicles (\n          id,\n          brand,\n          model,\n          year,\n          price,\n          price_ars,\n          kilometers,\n          images,\n          condition,\n          transmission,\n          fuel_type,\n          color,\n          type,\n          location,\n          engine,\n          power,\n          features,\n          is_featured,\n          is_promotion\n        )\n      ").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw r;return t.map(e=>({...e.vehicles,favorite_id:e.id,favorited_at:e.created_at}))}catch(e){return console.error("Error obteniendo favoritos:",e),[]}},pc=async e=>{try{const{data:{user:t}}=await Re.supabase.auth.getUser();if(!t)return!1;const{data:r,error:n}=await Re.supabase.from("favorites").select("id").eq("user_id",t.id).eq("vehicle_id",e).single();if(n&&"PGRST116"!==n.code)throw n;return!!r}catch(t){return console.error("Error verificando favorito:",t),!1}},fc=async()=>{try{const{data:{user:e}}=await Re.supabase.auth.getUser();if(!e)return JSON.parse(localStorage.getItem("recentlyViewed")||"[]");const{data:t,error:r}=await Re.supabase.from("recently_viewed").select("\n        *,\n        vehicles (\n          id,\n          brand,\n          model,\n          year,\n          price,\n          price_ars,\n          kilometers,\n          images,\n          condition,\n          transmission,\n          fuel_type,\n          color,\n          type,\n          location,\n          engine,\n          power,\n          features,\n          is_featured,\n          is_promotion\n        )\n      ").eq("user_id",e.id).order("viewed_at",{ascending:!1}).limit(10);if(r)throw r;return t.map(e=>({...e.vehicles,viewed_at:e.viewed_at}))}catch(e){return console.error("Error obteniendo vistos recientemente:",e),[]}},gc=async()=>{try{const{data:e,error:t}=await Re.supabase.rpc("get_favorites_stats");if(t)throw t;return e[0]||{total_favorites:0,total_users_with_favorites:0}}catch(e){return console.error("Error obteniendo estad\xedsticas de favoritos:",e),{total_favorites:0,total_users_with_favorites:0}}},vc=e=>{var r,n;let{vehicle:s,compact:a=!1}=e;const{currentUser:i}=It(),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1);(0,t.useEffect)(()=>{(async()=>{if(i)try{const e=await pc(s.id);l(e)}catch(e){console.error("Error verificando favorito:",e)}})()},[s.id,i]);const d=async e=>{if(e.preventDefault(),e.stopPropagation(),i){u(!0);try{o?(await hc(s.id),l(!1),Ot.success("Removido de favoritos")):(await dc(s.id),l(!0),Ot.success("Agregado a favoritos"))}catch(t){console.error("Error manejando favorito:",t),Ot.error("Error al actualizar favoritos")}finally{u(!1)}}else Ot.error("Debes iniciar sesi\xf3n para guardar favoritos")},h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";return new Intl.NumberFormat("es-AR",{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).format(e)},m=e=>h(1e3*e,"ARS");return a?(0,Dt.jsx)(Kl.div,{whileHover:{y:-2},transition:{duration:.15},className:"card overflow-hidden",children:(0,Dt.jsxs)(Ce,{to:`/vehiculo/${s.id}`,children:[(0,Dt.jsxs)("div",{className:"relative",children:[(0,Dt.jsx)("img",{src:s.images[0]||"/placeholder-car.jpg",alt:`${s.brand} ${s.model}`,className:"w-full h-32 object-cover",loading:"lazy"}),s.is_featured&&(0,Dt.jsxs)("div",{className:"absolute top-2 left-2 bg-yellow-400 text-yellow-900 px-2 py-1 rounded-full text-xs font-semibold flex items-center",children:[(0,Dt.jsx)(oc,{className:"w-3 h-3 mr-1"}),"Destacado"]})]}),(0,Dt.jsxs)("div",{className:"p-4",children:[(0,Dt.jsxs)("h3",{className:"font-semibold text-gray-900 mb-1",children:[s.brand," ",s.model]}),(0,Dt.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:[s.year," \u2022 ",s.kilometers.toLocaleString()," km"]}),(0,Dt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("span",{className:"text-lg font-bold text-primary-600",children:h(s.price)}),(0,Dt.jsx)("span",{className:"text-xs text-gray-500 block",children:m(s.price)})]}),i&&(0,Dt.jsx)("button",{onClick:d,disabled:c,className:"p-2 rounded-full transition-colors duration-200 "+(o?"text-red-600 bg-red-50":"text-gray-400 hover:text-red-600 hover:bg-red-50"),children:(0,Dt.jsx)(lc,{className:"w-4 h-4 "+(o?"fill-current":"")})})]})]})]})}):(0,Dt.jsx)(Kl.div,{whileHover:{y:-2},transition:{duration:.15},className:"card overflow-hidden",children:(0,Dt.jsxs)(Ce,{to:`/vehiculo/${s.id}`,children:[(0,Dt.jsxs)("div",{className:"relative",children:[(0,Dt.jsx)("img",{src:s.images[0]||"/placeholder-car.jpg",alt:`${s.brand} ${s.model}`,className:"w-full h-48 object-cover",loading:"lazy"}),s.is_featured&&(0,Dt.jsxs)("div",{className:"absolute top-3 left-3 bg-yellow-400 text-yellow-900 px-3 py-1 rounded-full text-sm font-semibold flex items-center",children:[(0,Dt.jsx)(oc,{className:"w-4 h-4 mr-1"}),"Destacado"]}),s.is_promotion&&(0,Dt.jsx)("div",{className:"absolute top-3 right-3 bg-red-500 text-white px-3 py-1 rounded-full text-sm font-semibold",children:"Oferta"})]}),(0,Dt.jsxs)("div",{className:"p-6",children:[(0,Dt.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,Dt.jsxs)("div",{children:[(0,Dt.jsxs)("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:[s.brand," ",s.model]}),(0,Dt.jsx)("p",{className:"text-gray-600",children:s.engine||""})]}),(0,Dt.jsxs)("div",{className:"text-right",children:[(0,Dt.jsx)("div",{className:"text-2xl font-bold text-primary-600",children:h(s.price)}),(0,Dt.jsx)("div",{className:"text-sm text-gray-500",children:m(s.price)})]})]}),(0,Dt.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,Dt.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Dt.jsx)(cc,{className:"w-4 h-4 mr-2"}),s.year]}),(0,Dt.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Dt.jsx)(uc,{className:"w-4 h-4 mr-2"}),s.kilometers.toLocaleString()," km"]}),(0,Dt.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Dt.jsx)(Xl,{className:"w-4 h-4 mr-2"}),s.location]}),(0,Dt.jsx)("div",{className:"text-sm text-gray-600 capitalize",children:s.transmission})]}),(0,Dt.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[null===(r=s.features)||void 0===r?void 0:r.slice(0,3).map((e,t)=>(0,Dt.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:e},t)),(null===(n=s.features)||void 0===n?void 0:n.length)>3&&(0,Dt.jsxs)("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:["+",s.features.length-3," m\xe1s"]})]}),(0,Dt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Dt.jsx)("span",{className:"text-sm text-gray-500",children:"new"===s.condition?"Nuevo":"Usado"}),(0,Dt.jsxs)("div",{className:"flex items-center space-x-2",children:[i&&(0,Dt.jsx)("button",{onClick:d,disabled:c,className:"p-2 rounded-full transition-colors duration-200 "+(o?"text-red-600 bg-red-50":"text-gray-400 hover:text-red-600 hover:bg-red-50"),children:(0,Dt.jsx)(lc,{className:"w-4 h-4 "+(o?"fill-current":"")})}),(0,Dt.jsx)("span",{className:"text-sm font-medium text-primary-600 hover:text-primary-700 transition-colors duration-200",children:"Ver detalles \u2192"})]})]})]})]})})},yc=e=>{let{categories:t}=e;return(0,Dt.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4",children:t.map((e,t)=>(0,Dt.jsx)(Kl.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.1*t},viewport:{once:!0},whileHover:{scale:1.05},className:"group",children:(0,Dt.jsxs)(Ce,{to:`/catalogo?type=${e.id}`,className:"block p-6 bg-white rounded-lg shadow-md hover:shadow-lg transition-all duration-200 text-center group-hover:bg-primary-50",children:[(0,Dt.jsx)("div",{className:"text-4xl mb-3",children:e.icon}),(0,Dt.jsx)("h3",{className:"font-semibold text-gray-900 group-hover:text-primary-600 transition-colors duration-200",children:e.name})]})},e.id))})};const xc=async function(){try{console.log("\ud83c\udf10 getVehicles: Iniciando consulta...");const{data:e,error:t}=await Re.supabase.from("vehicles").select("*").order("created_at",{ascending:!1});if(t){if(console.error("\u274c Error de Supabase:",t),t.message.includes('relation "vehicles" does not exist'))return console.log('\ud83d\udcdd Tabla "vehicles" no existe, devolviendo array vac\xedo'),[];throw t}return console.log("\u2705 Datos obtenidos de Supabase:",(null===e||void 0===e?void 0:e.length)||0),console.log("\ud83d\udccb Datos:",e),e||[]}catch(e){return console.error("\u274c Error obteniendo veh\xedculos:",e),[]}},bc=async(e,t)=>{try{return await De.updateVehicle(e,t)}catch(r){throw console.error("Error actualizando veh\xedculo:",r),r}},wc=async()=>{try{return await Le.getStatistics()}catch(e){throw console.error("Error obteniendo estad\xedsticas:",e),e}},jc=async(e,t,r)=>{try{return await De.uploadVehicleImage(e,t,r)}catch(n){throw console.error("Error subiendo imagen:",n),n}},Nc=()=>{const[e,r]=(0,t.useState)([]),[n,s]=(0,t.useState)([]),[a,i]=(0,t.useState)(!0);(0,t.useEffect)(()=>{(async()=>{try{const e=await xc(),t=e.filter(e=>e.is_featured).slice(0,6),n=e.slice(0,8);r(t),s(n)}catch(e){console.error("Error cargando veh\xedculos:",e)}finally{i(!1)}})()},[]);return(0,Dt.jsxs)("div",{className:"min-h-screen",children:[(0,Dt.jsxs)("section",{className:"relative bg-gradient-to-r from-primary-600 to-primary-800 text-white",children:[(0,Dt.jsx)("div",{className:"absolute inset-0 bg-black opacity-20"}),(0,Dt.jsx)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:(0,Dt.jsxs)(Kl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center",children:[(0,Dt.jsx)("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Encuentra tu auto ideal"}),(0,Dt.jsx)("p",{className:"text-xl md:text-2xl mb-8 text-primary-100",children:"La mejor selecci\xf3n de veh\xedculos nuevos y usados con financiaci\xf3n a tu medida"}),(0,Dt.jsx)(ic,{})]})})]}),(0,Dt.jsx)("section",{className:"py-16 bg-gray-50",children:(0,Dt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Dt.jsxs)(Kl.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-12",children:[(0,Dt.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Explora por categor\xeda"}),(0,Dt.jsx)("p",{className:"text-lg text-gray-600",children:"Encuentra el tipo de veh\xedculo que mejor se adapte a tus necesidades"})]}),(0,Dt.jsx)(yc,{categories:[{id:"sedan",name:"Sed\xe1n",icon:"\ud83d\ude97"},{id:"suv",name:"SUV",icon:"\ud83d\ude99"},{id:"pickup",name:"Pick-Up",icon:"\ud83d\udefb"},{id:"hatchback",name:"Hatchback",icon:"\ud83d\ude90"},{id:"coupe",name:"Coup\xe9",icon:"\ud83c\udfce\ufe0f"},{id:"cabriolet",name:"Cabriolet",icon:"\ud83d\ude97"},{id:"premium",name:"Premium",icon:"\u2b50"}]})]})}),(0,Dt.jsx)("section",{className:"py-16",children:(0,Dt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Dt.jsxs)(Kl.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"flex justify-between items-center mb-8",children:[(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Veh\xedculos Destacados"}),(0,Dt.jsx)("p",{className:"text-gray-600",children:"Nuestras mejores ofertas seleccionadas para ti"})]}),(0,Dt.jsxs)(Ce,{to:"/catalogo",className:"flex items-center text-primary-600 hover:text-primary-700 font-medium transition-colors duration-200",children:["Ver todos",(0,Dt.jsx)(rc,{className:"w-4 h-4 ml-1"})]})]}),a?(0,Dt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,t)=>(0,Dt.jsxs)("div",{className:"card animate-pulse",children:[(0,Dt.jsx)("div",{className:"h-48 bg-gray-200 rounded-t-lg"}),(0,Dt.jsxs)("div",{className:"p-4",children:[(0,Dt.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,Dt.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]})]},t))}):(0,Dt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,Dt.jsx)(vc,{vehicle:e},e.id))})]})}),(0,Dt.jsx)("section",{className:"py-16 bg-gray-50",children:(0,Dt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Dt.jsxs)(Kl.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-12",children:[(0,Dt.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Recientemente A\xf1adidos"}),(0,Dt.jsx)("p",{className:"text-lg text-gray-600",children:"Los \xfaltimos veh\xedculos que se sumaron a nuestro cat\xe1logo"})]}),a?(0,Dt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(8)].map((e,t)=>(0,Dt.jsxs)("div",{className:"card animate-pulse",children:[(0,Dt.jsx)("div",{className:"h-32 bg-gray-200 rounded-t-lg"}),(0,Dt.jsxs)("div",{className:"p-4",children:[(0,Dt.jsx)("div",{className:"h-3 bg-gray-200 rounded mb-2"}),(0,Dt.jsx)("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})]},t))}):(0,Dt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map(e=>(0,Dt.jsx)(vc,{vehicle:e,compact:!0},e.id))})]})}),(0,Dt.jsx)("section",{className:"py-16 bg-primary-600 text-white",children:(0,Dt.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:(0,Dt.jsxs)(Kl.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[(0,Dt.jsx)("h2",{className:"text-3xl font-bold mb-4",children:"\xbfNo encuentras lo que buscas?"}),(0,Dt.jsx)("p",{className:"text-xl mb-8 text-primary-100",children:"Cont\xe1ctanos y te ayudaremos a encontrar el veh\xedculo perfecto"}),(0,Dt.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,Dt.jsxs)("a",{href:"https://wa.me/5491112345678",target:"_blank",rel:"noopener noreferrer",className:"btn-secondary flex items-center justify-center",children:[(0,Dt.jsx)(Zl,{className:"w-5 h-5 mr-2"}),"Contactar por WhatsApp"]}),(0,Dt.jsx)(Ce,{to:"/catalogo",className:"btn-outline border-white text-white hover:bg-white hover:text-primary-600",children:"Ver Cat\xe1logo Completo"})]})]})})})]})},kc=Ut("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Sc=Ut("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),_c=Ut("Grid",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}],["line",{x1:"15",x2:"15",y1:"3",y2:"21",key:"1hpv9i"}]]),Ec=Ut("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),Cc=e=>{let{filters:r,onFilterChange:n}=e;const[s,a]=(0,t.useState)(r),[i,o]=(0,t.useState)({minPrice:r.minPrice||"",maxPrice:r.maxPrice||""}),l=(0,t.useRef)(null);(0,t.useEffect)(()=>{a(r),o({minPrice:r.minPrice||"",maxPrice:r.maxPrice||""})},[r]);const c=(e,t)=>{const r={...s,[e]:t};a(r),n(r)},u=(e,t)=>{o(r=>({...r,[e]:t})),l.current&&clearTimeout(l.current)},d=(e,t)=>{const r={...s,[e]:t};a(r),n(r)},h=(e,t)=>{"Enter"===e.key&&d(t,i[t])},m=Array.from({length:25},(e,t)=>(new Date).getFullYear()-t);return(0,Dt.jsxs)("div",{className:"space-y-6",children:[(0,Dt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Dt.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Filtros Avanzados"}),(0,Dt.jsx)("button",{onClick:()=>{a({}),o({minPrice:"",maxPrice:""}),n({})},className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"Limpiar todos"})]}),(0,Dt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"B\xfasqueda"}),(0,Dt.jsxs)("div",{className:"relative",children:[(0,Dt.jsx)(sc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,Dt.jsx)("input",{type:"text",placeholder:"Marca o modelo...",value:s.model||"",onChange:e=>c("model",e.target.value),className:"input-field pl-10"})]})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Marca"}),(0,Dt.jsxs)("select",{value:s.brand||"",onChange:e=>c("brand",e.target.value),className:"select-field",children:[(0,Dt.jsx)("option",{value:"",children:"Todas las marcas"}),["Toyota","Honda","Ford","Chevrolet","Volkswagen","BMW","Mercedes-Benz","Audi","Nissan","Hyundai","Kia","Mazda","Subaru","Mitsubishi","Peugeot","Renault","Fiat","Volvo","Jaguar","Land Rover"].map(e=>(0,Dt.jsx)("option",{value:e,children:e},e))]})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo"}),(0,Dt.jsxs)("select",{value:s.type||"",onChange:e=>c("type",e.target.value),className:"select-field",children:[(0,Dt.jsx)("option",{value:"",children:"Todos los tipos"}),[{value:"sedan",label:"Sed\xe1n"},{value:"suv",label:"SUV"},{value:"pickup",label:"Pick-Up"},{value:"hatchback",label:"Hatchback"},{value:"coupe",label:"Coup\xe9"},{value:"cabriolet",label:"Cabriolet"},{value:"premium",label:"Premium"}].map(e=>(0,Dt.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Condici\xf3n"}),(0,Dt.jsxs)("select",{value:s.condition||"",onChange:e=>c("condition",e.target.value),className:"select-field",children:[(0,Dt.jsx)("option",{value:"",children:"Todas las condiciones"}),[{value:"new",label:"Nuevo"},{value:"used",label:"Usado"}].map(e=>(0,Dt.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Precio m\xednimo (USD)"}),(0,Dt.jsxs)("div",{className:"relative",children:[(0,Dt.jsx)(ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,Dt.jsx)("input",{type:"number",placeholder:"0",value:i.minPrice,onChange:e=>u("minPrice",e.target.value),onKeyPress:e=>h(e,"minPrice"),onBlur:()=>d("minPrice",i.minPrice),className:"input-field pl-10",title:"Escribe el precio y presiona Enter o haz clic fuera para aplicar"})]}),(0,Dt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"\ud83d\udca1 Presiona Enter para buscar"})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Precio m\xe1ximo (USD)"}),(0,Dt.jsxs)("div",{className:"relative",children:[(0,Dt.jsx)(ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,Dt.jsx)("input",{type:"number",placeholder:"Sin l\xedmite",value:i.maxPrice,onChange:e=>u("maxPrice",e.target.value),onKeyPress:e=>h(e,"maxPrice"),onBlur:()=>d("maxPrice",i.maxPrice),className:"input-field pl-10",title:"Escribe el precio y presiona Enter o haz clic fuera para aplicar"})]}),(0,Dt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"\ud83d\udca1 Presiona Enter para buscar"})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"A\xf1o m\xednimo"}),(0,Dt.jsxs)("div",{className:"relative",children:[(0,Dt.jsx)(cc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,Dt.jsxs)("select",{value:s.minYear||"",onChange:e=>c("minYear",e.target.value),className:"select-field pl-10",children:[(0,Dt.jsx)("option",{value:"",children:"Cualquier a\xf1o"}),m.map(e=>(0,Dt.jsx)("option",{value:e,children:e},e))]})]})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"A\xf1o m\xe1ximo"}),(0,Dt.jsxs)("div",{className:"relative",children:[(0,Dt.jsx)(cc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,Dt.jsxs)("select",{value:s.maxYear||"",onChange:e=>c("maxYear",e.target.value),className:"select-field pl-10",children:[(0,Dt.jsx)("option",{value:"",children:"Cualquier a\xf1o"}),m.map(e=>(0,Dt.jsx)("option",{value:e,children:e},e))]})]})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transmisi\xf3n"}),(0,Dt.jsxs)("select",{value:s.transmission||"",onChange:e=>c("transmission",e.target.value),className:"select-field",children:[(0,Dt.jsx)("option",{value:"",children:"Cualquier transmisi\xf3n"}),[{value:"manual",label:"Manual"},{value:"automatic",label:"Autom\xe1tico"},{value:"cvt",label:"CVT"}].map(e=>(0,Dt.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Combustible"}),(0,Dt.jsxs)("select",{value:s.fuelType||"",onChange:e=>c("fuelType",e.target.value),className:"select-field",children:[(0,Dt.jsx)("option",{value:"",children:"Cualquier combustible"}),[{value:"gasoline",label:"Gasolina"},{value:"diesel",label:"Di\xe9sel"},{value:"hybrid",label:"H\xedbrido"},{value:"electric",label:"El\xe9ctrico"},{value:"lpg",label:"GLP"}].map(e=>(0,Dt.jsx)("option",{value:e.value,children:e.label},e.value))]})]})]}),Object.keys(s).length>0&&(0,Dt.jsxs)("div",{className:"border-t pt-4",children:[(0,Dt.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Filtros aplicados:"}),(0,Dt.jsx)("div",{className:"flex flex-wrap gap-2",children:Object.entries(s).map(e=>{let[t,r]=e;return(0,Dt.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-primary-100 text-primary-800",children:[t,": ",r,(0,Dt.jsx)("button",{onClick:()=>(e=>{const t={...s};delete t[e],a(t),n(t)})(t),className:"ml-2 hover:text-primary-600",children:"\xd7"})]},t)})})]})]})},Pc=()=>(0,Dt.jsx)("div",{className:"flex items-center justify-center",children:(0,Dt.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),Tc=()=>{const[e,r]=Ae(),[n,s]=(0,t.useState)([]),[a,i]=(0,t.useState)(!0),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)("grid"),[d,h]=(0,t.useState)("newest"),m=()=>{const t={},r=Object.fromEntries(e.entries());return Object.keys(r).forEach(e=>{r[e]&&(t[e]=r[e])}),t};(0,t.useEffect)(()=>{(async()=>{try{console.log("\ud83d\udccb Iniciando carga de veh\xedculos..."),i(!0);const e=await xc();console.log("\ud83d\udcca Total veh\xedculos obtenidos:",(null===e||void 0===e?void 0:e.length)||0);const t=m();console.log("\ud83d\udd0d Filtros URL:",t);const r=((e,t,r)=>{let n=[...e];switch(t.brand&&(n=n.filter(e=>e.brand.toLowerCase().includes(t.brand.toLowerCase()))),t.model&&(n=n.filter(e=>e.model.toLowerCase().includes(t.model.toLowerCase()))),t.type&&(n=n.filter(e=>e.type===t.type)),t.condition&&(n=n.filter(e=>e.condition===t.condition)),t.transmission&&(n=n.filter(e=>e.transmission===t.transmission)),t.fuelType&&(n=n.filter(e=>e.fuel_type===t.fuelType)),t.minPrice&&(n=n.filter(e=>e.price>=parseInt(t.minPrice))),t.maxPrice&&(n=n.filter(e=>e.price<=parseInt(t.maxPrice))),t.minYear&&(n=n.filter(e=>e.year>=parseInt(t.minYear))),t.maxYear&&(n=n.filter(e=>e.year<=parseInt(t.maxYear))),r){case"price-low":n.sort((e,t)=>e.price-t.price);break;case"price-high":n.sort((e,t)=>t.price-e.price);break;case"year-new":n.sort((e,t)=>t.year-e.year);break;case"year-old":n.sort((e,t)=>e.year-t.year);break;case"km-low":n.sort((e,t)=>e.kilometers-t.kilometers);break;case"km-high":n.sort((e,t)=>t.kilometers-e.kilometers);break;default:n.sort((e,t)=>new Date(t.created_at)-new Date(e.created_at))}return n})(e,t,d);console.log("\u2705 Veh\xedculos despu\xe9s de filtros:",(null===r||void 0===r?void 0:r.length)||0),s(r)}catch(e){console.error("\u274c Error cargando veh\xedculos:",e),s([])}finally{i(!1)}})()},[e,d]);const p=e=>{const t=new URLSearchParams;Object.entries(e).forEach(e=>{let[r,n]=e;n&&t.set(r,n)}),r(t)},f=()=>{r({})};return a?(0,Dt.jsx)(Pc,{}):(0,Dt.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Dt.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,Dt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,Dt.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Cat\xe1logo de Veh\xedculos"}),(0,Dt.jsxs)("p",{className:"mt-2 text-gray-600",children:[n.length," veh\xedculo",1!==n.length?"s":""," encontrado",1!==n.length?"s":""]})]}),(0,Dt.jsxs)("div",{className:"mt-4 sm:mt-0 flex items-center space-x-4",children:[(0,Dt.jsxs)("button",{onClick:()=>l(!o),className:"flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors duration-200",children:[(0,Dt.jsx)(kc,{className:"w-4 h-4 mr-2"}),"Filtros",(0,Dt.jsx)(Sc,{className:"w-4 h-4 ml-2 transition-transform duration-200 "+(o?"rotate-180":"")})]}),(0,Dt.jsxs)("div",{className:"flex border border-gray-300 rounded-lg",children:[(0,Dt.jsx)("button",{onClick:()=>u("grid"),className:"px-3 py-2 text-sm font-medium transition-colors duration-200 "+("grid"===c?"bg-primary-600 text-white":"text-gray-700 hover:bg-gray-50"),children:(0,Dt.jsx)(_c,{className:"w-4 h-4"})}),(0,Dt.jsx)("button",{onClick:()=>u("list"),className:"px-3 py-2 text-sm font-medium transition-colors duration-200 "+("list"===c?"bg-primary-600 text-white":"text-gray-700 hover:bg-gray-50"),children:(0,Dt.jsx)(Ec,{className:"w-4 h-4"})})]}),(0,Dt.jsxs)("select",{value:d,onChange:e=>h(e.target.value),className:"select-field",children:[(0,Dt.jsx)("option",{value:"newest",children:"M\xe1s recientes"}),(0,Dt.jsx)("option",{value:"price-low",children:"Precio: menor a mayor"}),(0,Dt.jsx)("option",{value:"price-high",children:"Precio: mayor a menor"}),(0,Dt.jsx)("option",{value:"year-new",children:"A\xf1o: m\xe1s reciente"}),(0,Dt.jsx)("option",{value:"year-old",children:"A\xf1o: m\xe1s antiguo"}),(0,Dt.jsx)("option",{value:"km-low",children:"Km: menor a mayor"}),(0,Dt.jsx)("option",{value:"km-high",children:"Km: mayor a menor"})]})]})]}),Object.keys(m()).length>0&&(0,Dt.jsxs)("div",{className:"mt-4 flex items-center space-x-2",children:[(0,Dt.jsx)("span",{className:"text-sm text-gray-600",children:"Filtros activos:"}),Object.entries(m()).map(e=>{let[t,r]=e;return(0,Dt.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-primary-100 text-primary-800",children:[t,": ",r,(0,Dt.jsx)("button",{onClick:()=>{const e=m();delete e[t],p(e)},className:"ml-1 hover:text-primary-600",children:(0,Dt.jsx)(qt,{className:"w-3 h-3"})})]},t)}),(0,Dt.jsx)("button",{onClick:f,className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"Limpiar todos"})]})]})}),(0,Dt.jsx)(hr,{children:o&&(0,Dt.jsx)(Kl.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-white border-b border-gray-200",children:(0,Dt.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,Dt.jsx)(Cc,{filters:m(),onFilterChange:p})})})}),(0,Dt.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:0===n.length?(0,Dt.jsxs)("div",{className:"text-center py-12",children:[(0,Dt.jsx)("div",{className:"mx-auto w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:(0,Dt.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 0112 15c-2.34 0-4.47-.881-6.08-2.33"})})}),(0,Dt.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron veh\xedculos"}),(0,Dt.jsx)("p",{className:"text-gray-600 mb-6",children:"Intenta ajustar los filtros de b\xfasqueda para encontrar m\xe1s resultados."}),(0,Dt.jsx)("button",{onClick:f,className:"btn-primary",children:"Limpiar filtros"})]}):(0,Dt.jsx)("div",{className:"grid"===c?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:n.map(e=>(0,Dt.jsx)(vc,{vehicle:e,compact:"list"===c},e.id))})})]})},Ac=Ut("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Rc=Ut("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),Oc=()=>{var e;const{id:n}=function(){let{matches:e}=t.useContext(J),r=e[e.length-1];return r?r.params:{}}(),{currentUser:s,isClient:a}=It(),[i,o]=(0,t.useState)(null),[l,c]=(0,t.useState)([]),[u,d]=(0,t.useState)(!0),[h,m]=(0,t.useState)(0),[p,f]=(0,t.useState)(!1);(0,t.useEffect)(()=>{(async()=>{try{d(!0);const t=await(async e=>{try{return await De.getVehicleById(e)}catch(t){throw console.error("Error obteniendo veh\xedculo:",t),t}})(n);o(t),await(async e=>{try{const{data:{user:t}}=await Re.supabase.auth.getUser();if(!t){const t=JSON.parse(localStorage.getItem("recentlyViewed")||"[]");if(!t.find(t=>t.id===e)){const{data:r}=await Re.supabase.from("vehicles").select("*").eq("id",e).single();if(r){const n=[r,...t.filter(t=>t.id!==e)].slice(0,10);localStorage.setItem("recentlyViewed",JSON.stringify(n))}}return{success:!0}}const{error:r}=await Re.supabase.from("recently_viewed").insert({user_id:t.id,vehicle_id:e});if(r)throw r;return{success:!0}}catch(t){throw console.error("Error agregando a vistos recientemente:",t),t}})(n);try{const{supabase:e}=await Promise.resolve().then(r.bind(r,785));await e.rpc("increment_vehicle_views",{vehicle_uuid:n})}catch(e){console.error("Error incrementando vistas:",e)}const a=await async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;try{return await De.getSimilarVehicles(t,r)}catch(e){throw console.error("Error obteniendo veh\xedculos similares:",e),e}}(t);if(c(a),s){const e=await pc(n);f(e)}}catch(e){console.error("Error cargando veh\xedculo:",e),Ot.error("Error al cargar el veh\xedculo")}finally{d(!1)}})()},[n,s]);const g=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";return new Intl.NumberFormat("es-AR",{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).format(e)};return u?(0,Dt.jsx)(Pc,{}):i?(0,Dt.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Dt.jsx)("div",{className:"bg-white border-b",children:(0,Dt.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,Dt.jsx)("nav",{className:"flex","aria-label":"Breadcrumb",children:(0,Dt.jsxs)("ol",{className:"flex items-center space-x-4",children:[(0,Dt.jsx)("li",{children:(0,Dt.jsx)(Ce,{to:"/",className:"text-gray-500 hover:text-gray-700",children:"Inicio"})}),(0,Dt.jsx)("li",{children:(0,Dt.jsxs)("div",{className:"flex items-center",children:[(0,Dt.jsx)(rc,{className:"w-4 h-4 text-gray-400"}),(0,Dt.jsx)(Ce,{to:"/catalogo",className:"ml-4 text-gray-500 hover:text-gray-700",children:"Cat\xe1logo"})]})}),(0,Dt.jsx)("li",{children:(0,Dt.jsxs)("div",{className:"flex items-center",children:[(0,Dt.jsx)(rc,{className:"w-4 h-4 text-gray-400"}),(0,Dt.jsxs)("span",{className:"ml-4 text-gray-900 font-medium",children:[i.brand," ",i.model]})]})})]})})})}),(0,Dt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Dt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Dt.jsxs)("div",{className:"space-y-4",children:[(0,Dt.jsxs)("div",{className:"relative",children:[(0,Dt.jsx)("img",{src:i.images[h]||"/placeholder-car.jpg",alt:`${i.brand} ${i.model}`,className:"w-full h-96 object-cover rounded-lg"}),(0,Dt.jsx)("button",{onClick:()=>{m(e=>0===e?i.images.length-1:e-1)},className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-all duration-200",children:(0,Dt.jsx)(Ac,{className:"w-6 h-6"})}),(0,Dt.jsx)("button",{onClick:()=>{m(e=>e===i.images.length-1?0:e+1)},className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-all duration-200",children:(0,Dt.jsx)(rc,{className:"w-6 h-6"})}),(0,Dt.jsx)("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2",children:i.images.map((e,t)=>(0,Dt.jsx)("button",{onClick:()=>m(t),className:"w-3 h-3 rounded-full transition-all duration-200 "+(t===h?"bg-white":"bg-white bg-opacity-50")},t))}),(0,Dt.jsxs)("div",{className:"absolute top-4 left-4 flex space-x-2",children:[i.featured&&(0,Dt.jsxs)("span",{className:"bg-yellow-400 text-yellow-900 px-3 py-1 rounded-full text-sm font-semibold flex items-center",children:[(0,Dt.jsx)(oc,{className:"w-4 h-4 mr-1"}),"Destacado"]}),i.promotion&&(0,Dt.jsx)("span",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-sm font-semibold",children:"Oferta"})]})]}),(0,Dt.jsx)("div",{className:"grid grid-cols-5 gap-2",children:i.images.map((e,t)=>(0,Dt.jsx)("button",{onClick:()=>m(t),className:"w-full h-20 object-cover rounded-lg border-2 transition-all duration-200 "+(t===h?"border-primary-600":"border-gray-200 hover:border-gray-300"),children:(0,Dt.jsx)("img",{src:e,alt:`${i.brand} ${i.model} - Imagen ${t+1}`,className:"w-full h-full object-cover rounded-lg"})},t))})]}),(0,Dt.jsxs)("div",{className:"space-y-6",children:[(0,Dt.jsxs)("div",{children:[(0,Dt.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:[i.brand," ",i.model]}),(0,Dt.jsx)("p",{className:"text-xl text-gray-600 mb-4",children:i.version}),(0,Dt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Dt.jsx)("div",{className:"text-3xl font-bold text-primary-600",children:g(i.price)}),(0,Dt.jsx)("div",{className:"text-sm text-gray-500",children:(v=i.price,g(1e3*v,"ARS"))})]})]}),(0,Dt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Dt.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,Dt.jsx)(cc,{className:"w-5 h-5 mr-2"}),(0,Dt.jsx)("span",{children:i.year})]}),(0,Dt.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,Dt.jsx)(uc,{className:"w-5 h-5 mr-2"}),(0,Dt.jsxs)("span",{children:[i.kilometers.toLocaleString()," km"]})]}),(0,Dt.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,Dt.jsx)(Xl,{className:"w-5 h-5 mr-2"}),(0,Dt.jsx)("span",{children:i.location})]}),(0,Dt.jsx)("div",{className:"flex items-center text-gray-600 capitalize",children:(0,Dt.jsx)("span",{children:i.transmission})})]}),(0,Dt.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,Dt.jsxs)("button",{onClick:()=>{if(!s)return void Ot.error("Debes iniciar sesi\xf3n para contactar");const e=`Hola! Me interesa el ${i.brand} ${i.model} ${i.year} que vi en Ricars Autom\xf3viles. \xbfPodr\xedan darme m\xe1s informaci\xf3n?`,t=`https://wa.me/5491112345678?text=${encodeURIComponent(e)}`;window.open(t,"_blank")},className:"flex-1 btn-primary flex items-center justify-center",children:[(0,Dt.jsx)(Zl,{className:"w-5 h-5 mr-2"}),"Contactar por WhatsApp"]}),(0,Dt.jsx)("button",{onClick:async()=>{if(s)try{p?(await hc(n),f(!1),Ot.success("Removido de favoritos")):(await dc(n),f(!0),Ot.success("Agregado a favoritos"))}catch(e){console.error("Error manejando favorito:",e),Ot.error("Error al actualizar favoritos")}else Ot.error("Debes iniciar sesi\xf3n para guardar favoritos")},className:"p-3 rounded-lg border transition-colors duration-200 "+(p?"border-red-500 text-red-600 bg-red-50":"border-gray-300 text-gray-600 hover:border-red-500 hover:text-red-600"),children:(0,Dt.jsx)(lc,{className:"w-5 h-5 "+(p?"fill-current":"")})}),(0,Dt.jsx)("button",{className:"p-3 rounded-lg border border-gray-300 text-gray-600 hover:border-gray-400 transition-colors duration-200",children:(0,Dt.jsx)(Rc,{className:"w-5 h-5"})})]}),(0,Dt.jsxs)("div",{className:"flex space-x-3",children:[(0,Dt.jsxs)("button",{onClick:()=>{window.open("https://facebook.com/ricarsautomotores","_blank")},className:"flex-1 btn-secondary flex items-center justify-center",children:[(0,Dt.jsx)(Ql,{className:"w-5 h-5 mr-2"}),"Facebook"]}),(0,Dt.jsxs)("button",{onClick:()=>{window.open("https://www.mercadolibre.com.ar/perfil/ricars-automotores","_blank")},className:"flex-1 btn-secondary flex items-center justify-center",children:[(0,Dt.jsx)(Ql,{className:"w-5 h-5 mr-2"}),"MercadoLibre"]})]})]})]}),(0,Dt.jsxs)("div",{className:"mt-12",children:[(0,Dt.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Ficha T\xe9cnica"}),(0,Dt.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,Dt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"Informaci\xf3n General"}),(0,Dt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Dt.jsxs)("div",{className:"flex justify-between",children:[(0,Dt.jsx)("span",{className:"text-gray-600",children:"Marca:"}),(0,Dt.jsx)("span",{className:"font-medium",children:i.brand})]}),(0,Dt.jsxs)("div",{className:"flex justify-between",children:[(0,Dt.jsx)("span",{className:"text-gray-600",children:"Modelo:"}),(0,Dt.jsx)("span",{className:"font-medium",children:i.model})]}),(0,Dt.jsxs)("div",{className:"flex justify-between",children:[(0,Dt.jsx)("span",{className:"text-gray-600",children:"Versi\xf3n:"}),(0,Dt.jsx)("span",{className:"font-medium",children:i.version})]}),(0,Dt.jsxs)("div",{className:"flex justify-between",children:[(0,Dt.jsx)("span",{className:"text-gray-600",children:"A\xf1o:"}),(0,Dt.jsx)("span",{className:"font-medium",children:i.year})]}),(0,Dt.jsxs)("div",{className:"flex justify-between",children:[(0,Dt.jsx)("span",{className:"text-gray-600",children:"Kilometraje:"}),(0,Dt.jsxs)("span",{className:"font-medium",children:[i.kilometers.toLocaleString()," km"]})]}),(0,Dt.jsxs)("div",{className:"flex justify-between",children:[(0,Dt.jsx)("span",{className:"text-gray-600",children:"Condici\xf3n:"}),(0,Dt.jsx)("span",{className:"font-medium capitalize",children:"new"===i.condition?"Nuevo":"Usado"})]})]})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"Especificaciones"}),(0,Dt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Dt.jsxs)("div",{className:"flex justify-between",children:[(0,Dt.jsx)("span",{className:"text-gray-600",children:"Transmisi\xf3n:"}),(0,Dt.jsx)("span",{className:"font-medium capitalize",children:i.transmission})]}),(0,Dt.jsxs)("div",{className:"flex justify-between",children:[(0,Dt.jsx)("span",{className:"text-gray-600",children:"Combustible:"}),(0,Dt.jsx)("span",{className:"font-medium capitalize",children:i.fuelType})]}),(0,Dt.jsxs)("div",{className:"flex justify-between",children:[(0,Dt.jsx)("span",{className:"text-gray-600",children:"Color:"}),(0,Dt.jsx)("span",{className:"font-medium capitalize",children:i.color})]}),(0,Dt.jsxs)("div",{className:"flex justify-between",children:[(0,Dt.jsx)("span",{className:"text-gray-600",children:"Tipo:"}),(0,Dt.jsx)("span",{className:"font-medium capitalize",children:i.type})]}),i.engine&&(0,Dt.jsxs)("div",{className:"flex justify-between",children:[(0,Dt.jsx)("span",{className:"text-gray-600",children:"Motor:"}),(0,Dt.jsx)("span",{className:"font-medium",children:i.engine})]}),i.power&&(0,Dt.jsxs)("div",{className:"flex justify-between",children:[(0,Dt.jsx)("span",{className:"text-gray-600",children:"Potencia:"}),(0,Dt.jsx)("span",{className:"font-medium",children:i.power})]})]})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"Caracter\xedsticas"}),(0,Dt.jsx)("div",{className:"space-y-2",children:null===(e=i.features)||void 0===e?void 0:e.map((e,t)=>(0,Dt.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Dt.jsx)("div",{className:"w-2 h-2 bg-primary-600 rounded-full mr-3"}),(0,Dt.jsx)("span",{className:"text-gray-700",children:e})]},t))})]})]})})]}),l.length>0&&(0,Dt.jsxs)("div",{className:"mt-12",children:[(0,Dt.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Veh\xedculos Similares"}),(0,Dt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:l.map(e=>(0,Dt.jsx)(vc,{vehicle:e,compact:!0},e.id))})]})]})]}):(0,Dt.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Dt.jsxs)("div",{className:"text-center",children:[(0,Dt.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Veh\xedculo no encontrado"}),(0,Dt.jsx)(Ce,{to:"/catalogo",className:"btn-primary",children:"Volver al cat\xe1logo"})]})});var v},Dc=Ut("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),Lc=Ut("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Ic=Ut("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Mc=()=>(0,Dt.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Dt.jsxs)("section",{className:"relative bg-gradient-to-r from-primary-600 to-primary-800 text-white py-20",children:[(0,Dt.jsx)("div",{className:"absolute inset-0 bg-black opacity-20"}),(0,Dt.jsx)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Dt.jsxs)(Kl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center",children:[(0,Dt.jsx)("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Sobre Ricars Autom\xf3viles"}),(0,Dt.jsx)("p",{className:"text-xl md:text-2xl mb-8 text-primary-100 max-w-3xl mx-auto",children:"Tu concesionaria de confianza con m\xe1s de 15 a\xf1os de experiencia en la venta de veh\xedculos nuevos y usados."})]})})]}),(0,Dt.jsx)("section",{className:"py-16",children:(0,Dt.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Dt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[(0,Dt.jsxs)(Kl.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},children:[(0,Dt.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Nuestra Historia"}),(0,Dt.jsxs)("div",{className:"space-y-4 text-gray-600",children:[(0,Dt.jsx)("p",{children:"Ricars Autom\xf3viles naci\xf3 en 2008 con la visi\xf3n de ofrecer una experiencia diferente en la compra de veh\xedculos. Fundada por Carlos Rodr\xedguez, un apasionado del mundo automotriz, la empresa comenz\xf3 como un peque\xf1o concesionario en el coraz\xf3n de Buenos Aires."}),(0,Dt.jsx)("p",{children:"A lo largo de estos a\xf1os, hemos crecido de manera sostenible, siempre manteniendo nuestros valores fundamentales: transparencia, honestidad y compromiso con el cliente. Hoy somos una de las concesionarias m\xe1s respetadas de la regi\xf3n."}),(0,Dt.jsx)("p",{children:"Nuestro equipo de profesionales altamente capacitados est\xe1 dedicado a brindar el mejor asesoramiento y acompa\xf1amiento durante todo el proceso de compra, desde la selecci\xf3n del veh\xedculo hasta la entrega y el servicio post-venta."})]})]}),(0,Dt.jsx)(Kl.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},className:"relative",children:(0,Dt.jsx)("div",{className:"bg-gray-200 rounded-lg h-96 flex items-center justify-center",children:(0,Dt.jsxs)("div",{className:"text-center",children:[(0,Dt.jsx)("div",{className:"w-16 h-16 bg-primary-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Dt.jsx)("span",{className:"text-white font-bold text-2xl",children:"R"})}),(0,Dt.jsx)("p",{className:"text-gray-500",children:"Video del local"}),(0,Dt.jsx)("p",{className:"text-sm text-gray-400",children:"(Aqu\xed ir\xeda el video)"})]})})})]})})}),(0,Dt.jsx)("section",{className:"py-16 bg-white",children:(0,Dt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Dt.jsxs)(Kl.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-12",children:[(0,Dt.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"N\xfameros que Hablan"}),(0,Dt.jsx)("p",{className:"text-lg text-gray-600",children:"Nuestro compromiso con la excelencia se refleja en nuestras estad\xedsticas"})]}),(0,Dt.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[{number:"500+",label:"Veh\xedculos Vendidos"},{number:"15+",label:"A\xf1os de Experiencia"},{number:"1000+",label:"Clientes Satisfechos"},{number:"50+",label:"Marcas Representadas"}].map((e,t)=>(0,Dt.jsxs)(Kl.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1*t},viewport:{once:!0},className:"text-center",children:[(0,Dt.jsx)("div",{className:"text-4xl font-bold text-primary-600 mb-2",children:e.number}),(0,Dt.jsx)("div",{className:"text-gray-600",children:e.label})]},e.label))})]})}),(0,Dt.jsx)("section",{className:"py-16",children:(0,Dt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Dt.jsxs)(Kl.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-12",children:[(0,Dt.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Nuestros Valores"}),(0,Dt.jsx)("p",{className:"text-lg text-gray-600",children:"Los principios que gu\xedan nuestro trabajo diario"})]}),(0,Dt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,Dt.jsxs)(Kl.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1},viewport:{once:!0},className:"text-center",children:[(0,Dt.jsx)("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Dt.jsx)(Dc,{className:"w-8 h-8 text-primary-600"})}),(0,Dt.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Excelencia"}),(0,Dt.jsx)("p",{className:"text-gray-600",children:"Nos esforzamos por ofrecer el mejor servicio y la mejor calidad en cada interacci\xf3n con nuestros clientes."})]}),(0,Dt.jsxs)(Kl.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},className:"text-center",children:[(0,Dt.jsx)("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Dt.jsx)(Lc,{className:"w-8 h-8 text-primary-600"})}),(0,Dt.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Confianza"}),(0,Dt.jsx)("p",{className:"text-gray-600",children:"Construimos relaciones duraderas basadas en la transparencia, honestidad y compromiso con nuestros clientes."})]}),(0,Dt.jsxs)(Kl.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.3},viewport:{once:!0},className:"text-center",children:[(0,Dt.jsx)("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Dt.jsx)(Dc,{className:"w-8 h-8 text-primary-600"})}),(0,Dt.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Innovaci\xf3n"}),(0,Dt.jsx)("p",{className:"text-gray-600",children:"Nos mantenemos actualizados con las \xfaltimas tecnolog\xedas y tendencias del mercado automotriz."})]})]})]})}),(0,Dt.jsx)("section",{className:"py-16 bg-white",children:(0,Dt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Dt.jsxs)(Kl.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-12",children:[(0,Dt.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Nuestro Equipo"}),(0,Dt.jsx)("p",{className:"text-lg text-gray-600",children:"Profesionales dedicados a brindarte la mejor experiencia"})]}),(0,Dt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{name:"Carlos Rodr\xedguez",position:"Director General",photo:"/team/carlos.jpg",description:"M\xe1s de 15 a\xf1os de experiencia en el sector automotriz."},{name:"Mar\xeda Gonz\xe1lez",position:"Gerente de Ventas",photo:"/team/maria.jpg",description:"Especialista en atenci\xf3n al cliente y financiaci\xf3n."},{name:"Roberto Silva",position:"Asesor Comercial",photo:"/team/roberto.jpg",description:"Experto en veh\xedculos premium y usados certificados."},{name:"Ana Mart\xednez",position:"Asesora Comercial",photo:"/team/ana.jpg",description:"Especializada en veh\xedculos nuevos y financiaci\xf3n."}].map((e,t)=>(0,Dt.jsxs)(Kl.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1*t},viewport:{once:!0},className:"text-center",children:[(0,Dt.jsx)("div",{className:"bg-gray-200 rounded-lg h-48 mb-4 flex items-center justify-center",children:(0,Dt.jsxs)("div",{className:"text-center",children:[(0,Dt.jsx)("div",{className:"w-16 h-16 bg-primary-600 rounded-full flex items-center justify-center mx-auto mb-2",children:(0,Dt.jsx)("span",{className:"text-white font-bold text-xl",children:e.name.charAt(0)})}),(0,Dt.jsxs)("p",{className:"text-gray-500 text-sm",children:["Foto de ",e.name]})]})}),(0,Dt.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:e.name}),(0,Dt.jsx)("p",{className:"text-primary-600 font-medium mb-2",children:e.position}),(0,Dt.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]},e.name))})]})}),(0,Dt.jsx)("section",{className:"py-16",children:(0,Dt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Dt.jsxs)(Kl.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-12",children:[(0,Dt.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Vis\xedtanos"}),(0,Dt.jsx)("p",{className:"text-lg text-gray-600",children:"Te esperamos en nuestro local para mostrarte nuestra amplia selecci\xf3n"})]}),(0,Dt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,Dt.jsxs)(Kl.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1},viewport:{once:!0},className:"text-center",children:[(0,Dt.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Dt.jsx)(Xl,{className:"w-6 h-6 text-primary-600"})}),(0,Dt.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Direcci\xf3n"}),(0,Dt.jsxs)("p",{className:"text-gray-600",children:["Av. Principal 123",(0,Dt.jsx)("br",{}),"CABA, Buenos Aires",(0,Dt.jsx)("br",{}),"Argentina"]})]}),(0,Dt.jsxs)(Kl.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},className:"text-center",children:[(0,Dt.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Dt.jsx)(Zl,{className:"w-6 h-6 text-primary-600"})}),(0,Dt.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Tel\xe9fono"}),(0,Dt.jsxs)("p",{className:"text-gray-600",children:["+54 11 1234-5678",(0,Dt.jsx)("br",{}),"+54 11 1234-5679"]})]}),(0,Dt.jsxs)(Kl.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.3},viewport:{once:!0},className:"text-center",children:[(0,Dt.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Dt.jsx)(Ic,{className:"w-6 h-6 text-primary-600"})}),(0,Dt.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Horarios"}),(0,Dt.jsxs)("p",{className:"text-gray-600",children:["Lunes a Viernes: 9:00 - 18:00",(0,Dt.jsx)("br",{}),"S\xe1bados: 9:00 - 13:00",(0,Dt.jsx)("br",{}),"Domingos: Cerrado"]})]})]})]})})]}),$c=Ut("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Uc=Ut("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),Vc=Ut("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),zc=Ut("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Fc=()=>{let e=localStorage.getItem("gallery_visitor_id");return e||(e="visitor_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),localStorage.setItem("gallery_visitor_id",e)),e},Bc=()=>{var e,r;const[n,s]=(0,t.useState)([]),[a,i]=(0,t.useState)(!0),[o,l]=(0,t.useState)("todos"),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(!1),m=[{id:"todos",name:"Todos",icon:"\ud83d\udcf7"},{id:"eventos",name:"Eventos",icon:"\ud83c\udf89"},{id:"instalaciones",name:"Instalaciones",icon:"\ud83c\udfe2"},{id:"equipo",name:"Equipo",icon:"\ud83d\udc65"},{id:"vehiculos",name:"Veh\xedculos",icon:"\ud83d\ude97"},{id:"promociones",name:"Promociones",icon:"\ud83c\udfaf"}];(0,t.useEffect)(()=>{p()},[]);const p=async()=>{try{i(!0);const{data:e,error:t}=await Re.supabase.from("gallery").select("*").order("created_at",{ascending:!1});if(t)throw t;s(e||[])}catch(e){console.error("Error fetching media:",e),Ot.error("Error al cargar la galer\xeda")}finally{i(!1)}},f="todos"===o?n:n.filter(e=>e.category===o),g=async e=>{u(e),h(!0);try{const t=await(async e=>{try{const t=Fc(),{data:r,error:n}=await Re.supabase.rpc("increment_gallery_views",{gallery_uuid:e,visitor_identifier:t});return n?(console.error("Error incrementando vista de galer\xeda:",n),!1):r}catch(t){return console.error("Error incrementando vista de galer\xeda:",t),!1}})(e.id);t&&s(t=>t.map(t=>t.id===e.id?{...t,views:(t.views||0)+1}:t))}catch(t){console.error("Error incrementando vista:",t)}};return a?(0,Dt.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Dt.jsxs)("div",{className:"text-center",children:[(0,Dt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,Dt.jsx)("p",{className:"mt-4 text-gray-600",children:"Cargando galer\xeda..."})]})}):(0,Dt.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Dt.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white py-16",children:(0,Dt.jsx)("div",{className:"container mx-auto px-4",children:(0,Dt.jsxs)(Kl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[(0,Dt.jsx)("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Galer\xeda Multimedia"}),(0,Dt.jsx)("p",{className:"text-xl text-blue-100 max-w-2xl mx-auto",children:"Descubre nuestros eventos, instalaciones, equipo y momentos especiales"})]})})}),(0,Dt.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Dt.jsx)("div",{className:"flex flex-wrap gap-2 justify-center mb-8",children:m.map(e=>(0,Dt.jsxs)(Kl.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(e.id),className:"px-4 py-2 rounded-full flex items-center gap-2 transition-all "+(o===e.id?"bg-blue-600 text-white shadow-lg":"bg-white text-gray-700 hover:bg-gray-100 shadow-md"),children:[(0,Dt.jsx)("span",{children:e.icon}),(0,Dt.jsx)("span",{children:e.name})]},e.id))}),0===f.length?(0,Dt.jsxs)("div",{className:"text-center py-16",children:[(0,Dt.jsx)($c,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Dt.jsx)("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No hay contenido disponible"}),(0,Dt.jsx)("p",{className:"text-gray-500",children:"todos"===o?"La galer\xeda est\xe1 vac\xeda":`No hay contenido en la categor\xeda "${null===(e=m.find(e=>e.id===o))||void 0===e?void 0:e.name}"`})]}):(0,Dt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:f.map((e,t)=>{var r;return(0,Dt.jsxs)(Kl.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.1*t},whileHover:{scale:1.05},className:"bg-white rounded-lg shadow-lg overflow-hidden cursor-pointer group",onClick:()=>g(e),children:[(0,Dt.jsxs)("div",{className:"relative aspect-square",children:["video"===e.type?(0,Dt.jsx)("video",{src:e.url,className:"w-full h-full object-cover",muted:!0,loop:!0}):(0,Dt.jsx)("img",{src:e.url,alt:e.title,className:"w-full h-full object-cover"}),(0,Dt.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center",children:(0,Dt.jsx)("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:"video"===e.type?(0,Dt.jsx)(Uc,{className:"w-8 h-8 text-white"}):(0,Dt.jsx)($c,{className:"w-8 h-8 text-white"})})}),(0,Dt.jsx)("div",{className:"absolute top-2 left-2",children:(0,Dt.jsx)("span",{className:"bg-blue-600 text-white px-2 py-1 rounded-full text-xs font-medium",children:null===(r=m.find(t=>t.id===e.category))||void 0===r?void 0:r.name})})]}),(0,Dt.jsxs)("div",{className:"p-4",children:[(0,Dt.jsx)("h3",{className:"font-semibold text-gray-800 mb-2 line-clamp-2",children:e.title}),(0,Dt.jsx)("p",{className:"text-gray-600 text-sm line-clamp-2 mb-3",children:e.description}),(0,Dt.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,Dt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Dt.jsx)(cc,{className:"w-3 h-3"}),(0,Dt.jsx)("span",{children:new Date(e.created_at).toLocaleDateString("es-ES")})]}),(0,Dt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Dt.jsx)(Vc,{className:"w-3 h-3"}),(0,Dt.jsx)("span",{children:e.views||0})]}),e.location&&(0,Dt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Dt.jsx)(Xl,{className:"w-3 h-3"}),(0,Dt.jsx)("span",{children:e.location})]})]})]})]},e.id)})})]}),d&&c&&(0,Dt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:(0,Dt.jsxs)(Kl.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[(0,Dt.jsxs)("div",{className:"relative",children:[(0,Dt.jsx)("div",{className:"aspect-video bg-black",children:"video"===c.type?(0,Dt.jsx)("video",{src:c.url,className:"w-full h-full object-contain",controls:!0,autoPlay:!0}):(0,Dt.jsx)("img",{src:c.url,alt:c.title,className:"w-full h-full object-contain"})}),(0,Dt.jsxs)("div",{className:"absolute top-4 right-4 flex gap-2",children:[(0,Dt.jsx)("button",{onClick:()=>(async(e,t)=>{try{const r=await fetch(e),n=await r.blob(),s=window.URL.createObjectURL(n),a=document.createElement("a");a.href=s,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a),Ot.success("Descarga iniciada")}catch(r){Ot.error("Error al descargar")}})(c.url,c.title),className:"bg-white bg-opacity-90 hover:bg-opacity-100 p-2 rounded-full shadow-lg transition-all",children:(0,Dt.jsx)(zc,{className:"w-5 h-5 text-gray-700"})}),(0,Dt.jsx)("button",{onClick:async()=>{if(navigator.share)try{await navigator.share({title:c.title,text:c.description,url:window.location.href})}catch(e){console.log("Error sharing:",e)}else navigator.clipboard.writeText(window.location.href),Ot.success("Enlace copiado al portapapeles")},className:"bg-white bg-opacity-90 hover:bg-opacity-100 p-2 rounded-full shadow-lg transition-all",children:(0,Dt.jsx)(Rc,{className:"w-5 h-5 text-gray-700"})}),(0,Dt.jsx)("button",{onClick:()=>{h(!1),u(null)},className:"bg-white bg-opacity-90 hover:bg-opacity-100 p-2 rounded-full shadow-lg transition-all",children:(0,Dt.jsx)("span",{className:"text-gray-700 text-xl font-bold",children:"\xd7"})})]})]}),(0,Dt.jsxs)("div",{className:"p-6",children:[(0,Dt.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Dt.jsx)("span",{className:"bg-blue-600 text-white px-3 py-1 rounded-full text-sm font-medium",children:null===(r=m.find(e=>e.id===c.category))||void 0===r?void 0:r.name}),(0,Dt.jsx)("span",{className:"text-gray-500 text-sm",children:new Date(c.created_at).toLocaleDateString("es-ES")})]}),(0,Dt.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-3",children:c.title}),(0,Dt.jsx)("p",{className:"text-gray-600 mb-4",children:c.description}),c.location&&(0,Dt.jsxs)("div",{className:"flex items-center gap-2 text-gray-500 mb-2",children:[(0,Dt.jsx)(Xl,{className:"w-4 h-4"}),(0,Dt.jsx)("span",{children:c.location})]}),c.author&&(0,Dt.jsxs)("div",{className:"flex items-center gap-2 text-gray-500",children:[(0,Dt.jsx)(Vt,{className:"w-4 h-4"}),(0,Dt.jsxs)("span",{children:["Por ",c.author]})]})]})]})})]})},qc=Ut("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),Wc=Ut("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Hc=Ut("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),Kc=async e=>{try{const t=(()=>{let e=localStorage.getItem("blog_visitor_id");return e||(e="visitor_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),localStorage.setItem("blog_visitor_id",e)),e})(),{data:r,error:n}=await Re.supabase.rpc("increment_blog_views",{blog_uuid:e,visitor_identifier:t});if(n)throw n;return r}catch(t){return console.error("Error incrementando vista de blog:",t),!1}},Gc=()=>{var e,r;const[n,s]=(0,t.useState)([]),[a,i]=(0,t.useState)(!0),[o,l]=(0,t.useState)("todos"),[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)(null),[m,p]=(0,t.useState)(!1),f=[{id:"todos",name:"Todos",icon:"\ud83d\udcf0"},{id:"noticias",name:"Noticias",icon:"\ud83d\udce2"},{id:"consejos",name:"Consejos",icon:"\ud83d\udca1"},{id:"eventos",name:"Eventos",icon:"\ud83c\udf89"},{id:"tecnologia",name:"Tecnolog\xeda",icon:"\ud83d\udd27"},{id:"promociones",name:"Promociones",icon:"\ud83c\udfaf"}];(0,t.useEffect)(()=>{g()},[]);const g=async()=>{try{i(!0);const{data:e,error:t}=await Re.supabase.from("blog").select("*").order("created_at",{ascending:!1});if(t)throw t;s(e||[])}catch(e){console.error("Error fetching articles:",e),Ot.error("Error al cargar el blog")}finally{i(!1)}},v=n.filter(e=>"todos"===o||e.category===o).filter(e=>e.title.toLowerCase().includes(c.toLowerCase())||e.content.toLowerCase().includes(c.toLowerCase())||e.excerpt.toLowerCase().includes(c.toLowerCase())),y=async e=>{try{await Kc(e)&&(s(t=>t.map(t=>t.id===e?{...t,views:(t.views||0)+1}:t)),h(e=>e?{...e,views:(e.views||0)+1}:e))}catch(t){console.error("Error incrementando vistas del art\xedculo:",t)}},x=e=>new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"});return a?(0,Dt.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Dt.jsxs)("div",{className:"text-center",children:[(0,Dt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,Dt.jsx)("p",{className:"mt-4 text-gray-600",children:"Cargando blog..."})]})}):(0,Dt.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Dt.jsx)("div",{className:"bg-gradient-to-r from-green-600 to-green-800 text-white py-16",children:(0,Dt.jsx)("div",{className:"container mx-auto px-4",children:(0,Dt.jsxs)(Kl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[(0,Dt.jsx)("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Blog Corporativo"}),(0,Dt.jsx)("p",{className:"text-xl text-green-100 max-w-2xl mx-auto",children:"Noticias, consejos y novedades de Ricars Autom\xf3viles"})]})})}),(0,Dt.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Dt.jsxs)("div",{className:"mb-8",children:[(0,Dt.jsxs)("div",{className:"relative max-w-md mx-auto mb-6",children:[(0,Dt.jsx)(sc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Dt.jsx)("input",{type:"text",placeholder:"Buscar art\xedculos...",value:c,onChange:e=>u(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,Dt.jsx)("div",{className:"flex flex-wrap gap-2 justify-center",children:f.map(e=>(0,Dt.jsxs)(Kl.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(e.id),className:"px-4 py-2 rounded-full flex items-center gap-2 transition-all "+(o===e.id?"bg-green-600 text-white shadow-lg":"bg-white text-gray-700 hover:bg-gray-100 shadow-md"),children:[(0,Dt.jsx)("span",{children:e.icon}),(0,Dt.jsx)("span",{children:e.name})]},e.id))})]}),0===v.length?(0,Dt.jsxs)("div",{className:"text-center py-16",children:[(0,Dt.jsx)(qc,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Dt.jsx)("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No hay art\xedculos disponibles"}),(0,Dt.jsx)("p",{className:"text-gray-500",children:c?`No se encontraron art\xedculos para "${c}"`:"todos"===o?"El blog est\xe1 vac\xedo":`No hay art\xedculos en la categor\xeda "${null===(e=f.find(e=>e.id===o))||void 0===e?void 0:e.name}"`})]}):(0,Dt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:v.map((e,t)=>{var r;return(0,Dt.jsxs)(Kl.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*t},whileHover:{y:-5},className:"bg-white rounded-lg shadow-lg overflow-hidden cursor-pointer group",onClick:()=>(e=>{h(e),p(!0),y(e.id)})(e),children:[e.image&&(0,Dt.jsx)("div",{className:"aspect-video overflow-hidden",children:(0,Dt.jsx)("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),(0,Dt.jsxs)("div",{className:"p-6",children:[(0,Dt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Dt.jsx)("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-xs font-medium",children:null===(r=f.find(t=>t.id===e.category))||void 0===r?void 0:r.name}),(0,Dt.jsxs)("div",{className:"flex items-center gap-1 text-gray-500 text-sm",children:[(0,Dt.jsx)(cc,{className:"w-4 h-4"}),(0,Dt.jsx)("span",{children:x(e.created_at)})]})]}),(0,Dt.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-3 line-clamp-2 group-hover:text-green-600 transition-colors",children:e.title}),(0,Dt.jsx)("p",{className:"text-gray-600 mb-4 line-clamp-3",children:e.excerpt}),(0,Dt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Dt.jsxs)("div",{className:"flex items-center gap-2 text-gray-500 text-sm",children:[(0,Dt.jsx)(Vt,{className:"w-4 h-4"}),(0,Dt.jsx)("span",{children:e.author||"Ricars Autom\xf3viles"})]}),(0,Dt.jsxs)("div",{className:"flex items-center gap-4 text-gray-500 text-sm",children:[(0,Dt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Dt.jsx)(Vc,{className:"w-4 h-4"}),(0,Dt.jsx)("span",{children:e.views||0})]}),(0,Dt.jsx)(Wc,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})]})]},e.id)})})]}),m&&d&&(0,Dt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:(0,Dt.jsxs)(Kl.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[d.image&&(0,Dt.jsx)("div",{className:"aspect-video overflow-hidden",children:(0,Dt.jsx)("img",{src:d.image,alt:d.title,className:"w-full h-full object-cover"})}),(0,Dt.jsxs)("div",{className:"p-6",children:[(0,Dt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Dt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Dt.jsx)("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:null===(r=f.find(e=>e.id===d.category))||void 0===r?void 0:r.name}),(0,Dt.jsx)("span",{className:"text-gray-500 text-sm",children:x(d.created_at)})]}),(0,Dt.jsx)("button",{onClick:async()=>{if(navigator.share)try{await navigator.share({title:d.title,text:d.excerpt,url:window.location.href})}catch(e){console.log("Error sharing:",e)}else navigator.clipboard.writeText(window.location.href),Ot.success("Enlace copiado al portapapeles")},className:"p-2 text-gray-500 hover:text-green-600 transition-colors",children:(0,Dt.jsx)(Rc,{className:"w-5 h-5"})})]}),(0,Dt.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:d.title}),(0,Dt.jsxs)("div",{className:"flex items-center gap-2 text-gray-600 mb-6",children:[(0,Dt.jsx)(Vt,{className:"w-4 h-4"}),(0,Dt.jsxs)("span",{children:["Por ",d.author||"Ricars Autom\xf3viles"]})]}),(0,Dt.jsx)("div",{className:"prose prose-lg max-w-none",children:(0,Dt.jsx)("div",{className:"text-gray-700 leading-relaxed",dangerouslySetInnerHTML:{__html:d.content}})}),d.tags&&d.tags.length>0&&(0,Dt.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,Dt.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,Dt.jsx)(Hc,{className:"w-4 h-4 text-gray-500"}),(0,Dt.jsx)("span",{className:"text-gray-600 font-medium",children:"Etiquetas:"})]}),(0,Dt.jsx)("div",{className:"flex flex-wrap gap-2",children:d.tags.map((e,t)=>(0,Dt.jsxs)("span",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm",children:["#",e]},t))})]})]}),(0,Dt.jsx)("div",{className:"p-6 pt-0",children:(0,Dt.jsx)("button",{onClick:()=>{p(!1),h(null)},className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 rounded-lg transition-colors",children:"Cerrar"})})]})})]})},Jc=Ut("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Yc=Ut("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Qc=()=>{var e,r;const[n,s]=(0,t.useState)({email:"",password:""}),[a,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),{login:c}=It(),u=ee(),d=(null===(e=X().state)||void 0===e||null===(r=e.from)||void 0===r?void 0:r.pathname)||"/",h=e=>{const{name:t,value:r}=e.target;s(e=>({...e,[t]:r}))};return(0,Dt.jsx)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:(0,Dt.jsxs)(Kl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,Dt.jsxs)("div",{className:"text-center",children:[(0,Dt.jsx)("div",{className:"mx-auto w-12 h-12 bg-primary-600 rounded-lg flex items-center justify-center",children:(0,Dt.jsx)("span",{className:"text-white font-bold text-xl",children:"R"})}),(0,Dt.jsx)("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Iniciar Sesi\xf3n"}),(0,Dt.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:["\xbfNo tienes una cuenta?"," ",(0,Dt.jsx)(Ce,{to:"/registro",className:"font-medium text-primary-600 hover:text-primary-500",children:"Reg\xedstrate aqu\xed"})]})]}),(0,Dt.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,Dt.jsxs)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[(0,Dt.jsxs)("form",{className:"space-y-6",onSubmit:async e=>{e.preventDefault(),l(!0);try{await c(n.email,n.password),u(d,{replace:!0})}catch(t){console.error("Error en login:",t)}finally{l(!1)}},children:[(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,Dt.jsxs)("div",{className:"mt-1 relative",children:[(0,Dt.jsx)(ec,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Dt.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n.email,onChange:h,className:"input-field pl-10",placeholder:"tu@email.com"})]})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Contrase\xf1a"}),(0,Dt.jsxs)("div",{className:"mt-1 relative",children:[(0,Dt.jsx)(Jc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Dt.jsx)("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:"current-password",required:!0,value:n.password,onChange:h,className:"input-field pl-10 pr-10",placeholder:"Tu contrase\xf1a"}),(0,Dt.jsx)("button",{type:"button",onClick:()=>i(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a?(0,Dt.jsx)(Yc,{className:"w-5 h-5"}):(0,Dt.jsx)(Vc,{className:"w-5 h-5"})})]})]}),(0,Dt.jsx)("div",{className:"flex items-center justify-between",children:(0,Dt.jsx)("div",{className:"text-sm",children:(0,Dt.jsx)(Ce,{to:"/reset-password",className:"font-medium text-primary-600 hover:text-primary-500",children:"\xbfOlvidaste tu contrase\xf1a?"})})}),(0,Dt.jsx)("div",{children:(0,Dt.jsx)("button",{type:"submit",disabled:o,className:"w-full btn-primary py-3 text-base font-medium",children:o?(0,Dt.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Dt.jsx)("div",{className:"loading-spinner w-5 h-5 mr-2"}),"Iniciando sesi\xf3n..."]}):"Iniciar Sesi\xf3n"})})]}),(0,Dt.jsxs)("div",{className:"mt-6",children:[(0,Dt.jsxs)("div",{className:"relative",children:[(0,Dt.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Dt.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,Dt.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,Dt.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"O contin\xfaa con"})})]}),(0,Dt.jsx)("div",{className:"mt-6",children:(0,Dt.jsx)("div",{className:"text-center",children:(0,Dt.jsxs)("p",{className:"text-sm text-gray-600",children:["Al iniciar sesi\xf3n, aceptas nuestros"," ",(0,Dt.jsx)(Ce,{to:"/terminos",className:"text-primary-600 hover:text-primary-500",children:"T\xe9rminos y Condiciones"})," ","y"," ",(0,Dt.jsx)(Ce,{to:"/privacidad",className:"text-primary-600 hover:text-primary-500",children:"Pol\xedtica de Privacidad"})]})})})]})]})})]})})},Xc=()=>{const[e,r]=(0,t.useState)({displayName:"",email:"",password:"",confirmPassword:""}),[n,s]=(0,t.useState)(!1),[a,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)({}),{signup:d}=It(),h=ee(),m=e=>{const{name:t,value:n}=e.target;r(e=>({...e,[t]:n})),c[t]&&u(e=>({...e,[t]:""}))};return(0,Dt.jsx)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:(0,Dt.jsxs)(Kl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,Dt.jsxs)("div",{className:"text-center",children:[(0,Dt.jsx)("div",{className:"mx-auto w-12 h-12 bg-primary-600 rounded-lg flex items-center justify-center",children:(0,Dt.jsx)("span",{className:"text-white font-bold text-xl",children:"R"})}),(0,Dt.jsx)("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Crear cuenta"}),(0,Dt.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:["\xbfYa tienes una cuenta?"," ",(0,Dt.jsx)(Ce,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Inicia sesi\xf3n aqu\xed"})]})]}),(0,Dt.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,Dt.jsxs)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[(0,Dt.jsxs)("form",{className:"space-y-6",onSubmit:async t=>{if(t.preventDefault(),(()=>{const t={};return e.displayName.trim()||(t.displayName="El nombre es requerido"),e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(t.email="El email no es v\xe1lido"):t.email="El email es requerido",e.password?e.password.length<6&&(t.password="La contrase\xf1a debe tener al menos 6 caracteres"):t.password="La contrase\xf1a es requerida",e.confirmPassword?e.password!==e.confirmPassword&&(t.confirmPassword="Las contrase\xf1as no coinciden"):t.confirmPassword="Confirma tu contrase\xf1a",u(t),0===Object.keys(t).length})()){l(!0);try{await d(e.email,e.password,e.displayName),h("/")}catch(r){console.error("Error en registro:",r)}finally{l(!1)}}},children:[(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700",children:"Nombre completo"}),(0,Dt.jsxs)("div",{className:"mt-1 relative",children:[(0,Dt.jsx)(Vt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Dt.jsx)("input",{id:"displayName",name:"displayName",type:"text",autoComplete:"name",required:!0,value:e.displayName,onChange:m,className:"input-field pl-10 "+(c.displayName?"border-red-500":""),placeholder:"Tu nombre completo"})]}),c.displayName&&(0,Dt.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c.displayName})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,Dt.jsxs)("div",{className:"mt-1 relative",children:[(0,Dt.jsx)(ec,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Dt.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e.email,onChange:m,className:"input-field pl-10 "+(c.email?"border-red-500":""),placeholder:"tu@email.com"})]}),c.email&&(0,Dt.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c.email})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Contrase\xf1a"}),(0,Dt.jsxs)("div",{className:"mt-1 relative",children:[(0,Dt.jsx)(Jc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Dt.jsx)("input",{id:"password",name:"password",type:n?"text":"password",autoComplete:"new-password",required:!0,value:e.password,onChange:m,className:"input-field pl-10 pr-10 "+(c.password?"border-red-500":""),placeholder:"M\xednimo 6 caracteres"}),(0,Dt.jsx)("button",{type:"button",onClick:()=>s(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?(0,Dt.jsx)(Yc,{className:"w-5 h-5"}):(0,Dt.jsx)(Vc,{className:"w-5 h-5"})})]}),c.password&&(0,Dt.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c.password})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirmar contrase\xf1a"}),(0,Dt.jsxs)("div",{className:"mt-1 relative",children:[(0,Dt.jsx)(Jc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Dt.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:a?"text":"password",autoComplete:"new-password",required:!0,value:e.confirmPassword,onChange:m,className:"input-field pl-10 pr-10 "+(c.confirmPassword?"border-red-500":""),placeholder:"Repite tu contrase\xf1a"}),(0,Dt.jsx)("button",{type:"button",onClick:()=>i(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a?(0,Dt.jsx)(Yc,{className:"w-5 h-5"}):(0,Dt.jsx)(Vc,{className:"w-5 h-5"})})]}),c.confirmPassword&&(0,Dt.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c.confirmPassword})]}),(0,Dt.jsx)("div",{children:(0,Dt.jsx)("button",{type:"submit",disabled:o,className:"w-full btn-primary py-3 text-base font-medium",children:o?(0,Dt.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Dt.jsx)("div",{className:"loading-spinner w-5 h-5 mr-2"}),"Creando cuenta..."]}):"Crear cuenta"})})]}),(0,Dt.jsxs)("div",{className:"mt-6",children:[(0,Dt.jsxs)("div",{className:"relative",children:[(0,Dt.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Dt.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,Dt.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,Dt.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Al registrarte aceptas"})})]}),(0,Dt.jsx)("div",{className:"mt-6",children:(0,Dt.jsx)("div",{className:"text-center",children:(0,Dt.jsxs)("p",{className:"text-sm text-gray-600",children:["Al crear una cuenta, aceptas nuestros"," ",(0,Dt.jsx)(Ce,{to:"/terminos",className:"text-primary-600 hover:text-primary-500",children:"T\xe9rminos y Condiciones"})," ","y"," ",(0,Dt.jsx)(Ce,{to:"/privacidad",className:"text-primary-600 hover:text-primary-500",children:"Pol\xedtica de Privacidad"})]})})})]})]})})]})})},Zc=Ut("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),eu=()=>{const[e,r]=(0,t.useState)(""),[n,s]=(0,t.useState)(!1),[a,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(""),{resetPassword:c}=It();return a?(0,Dt.jsx)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:(0,Dt.jsx)(Kl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"sm:mx-auto sm:w-full sm:max-w-md",children:(0,Dt.jsxs)("div",{className:"text-center",children:[(0,Dt.jsx)("div",{className:"mx-auto w-12 h-12 bg-green-600 rounded-lg flex items-center justify-center",children:(0,Dt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,Dt.jsx)("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Email enviado"}),(0,Dt.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Hemos enviado un enlace de recuperaci\xf3n a tu email."}),(0,Dt.jsx)("p",{className:"mt-4 text-sm text-gray-600",children:"Revisa tu bandeja de entrada y sigue las instrucciones para restablecer tu contrase\xf1a."}),(0,Dt.jsx)("div",{className:"mt-6",children:(0,Dt.jsx)(Ce,{to:"/login",className:"btn-primary",children:"Volver al login"})})]})})}):(0,Dt.jsx)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:(0,Dt.jsxs)(Kl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,Dt.jsxs)("div",{className:"text-center",children:[(0,Dt.jsx)("div",{className:"mx-auto w-12 h-12 bg-primary-600 rounded-lg flex items-center justify-center",children:(0,Dt.jsx)("span",{className:"text-white font-bold text-xl",children:"R"})}),(0,Dt.jsx)("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Recuperar contrase\xf1a"}),(0,Dt.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Ingresa tu email y te enviaremos un enlace para restablecer tu contrase\xf1a."})]}),(0,Dt.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,Dt.jsxs)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[(0,Dt.jsxs)("form",{className:"space-y-6",onSubmit:async t=>{t.preventDefault(),s(!0),l("");try{await c(e),i(!0)}catch(o){l("Error al enviar el email de recuperaci\xf3n. Verifica tu direcci\xf3n de email.")}finally{s(!1)}},children:[(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,Dt.jsxs)("div",{className:"mt-1 relative",children:[(0,Dt.jsx)(ec,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Dt.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:e=>r(e.target.value),className:"input-field pl-10",placeholder:"tu@email.com"})]})]}),o&&(0,Dt.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,Dt.jsx)("p",{className:"text-sm text-red-600",children:o})}),(0,Dt.jsx)("div",{children:(0,Dt.jsx)("button",{type:"submit",disabled:n,className:"w-full btn-primary py-3 text-base font-medium",children:n?(0,Dt.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Dt.jsx)("div",{className:"loading-spinner w-5 h-5 mr-2"}),"Enviando email..."]}):"Enviar email de recuperaci\xf3n"})})]}),(0,Dt.jsx)("div",{className:"mt-6",children:(0,Dt.jsx)("div",{className:"text-center",children:(0,Dt.jsxs)(Ce,{to:"/login",className:"flex items-center justify-center text-sm font-medium text-primary-600 hover:text-primary-500",children:[(0,Dt.jsx)(Zc,{className:"w-4 h-4 mr-1"}),"Volver al login"]})})})]})})]})})},tu=Ut("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),ru=Ut("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),nu=()=>{const{currentUser:e,userRole:n,logout:s}=It(),a=ee(),[i,o]=(0,t.useState)([]),[l,c]=(0,t.useState)([]),[u,d]=(0,t.useState)(!1),[h,m]=(0,t.useState)(""),[p,f]=(0,t.useState)(!1),[g,v]=(0,t.useState)(0);(0,t.useEffect)(()=>{e&&(async()=>{try{const[e,t]=await Promise.all([mc(),fc()]);c(e),o(t)}catch(e){console.error("Error cargando datos del usuario:",e),Ot.error("Error al cargar tus datos")}})()},[e]);return e?(0,Dt.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,Dt.jsxs)(Kl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[(0,Dt.jsx)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:(0,Dt.jsxs)("div",{className:"flex items-center",children:[(0,Dt.jsx)("div",{className:"bg-primary-100 rounded-full p-4 mr-4",children:(0,Dt.jsx)(Vt,{className:"w-8 h-8 text-primary-600"})}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Mi Perfil"}),(0,Dt.jsxs)("p",{className:"text-gray-600",children:["Bienvenido de vuelta, ",e.email]})]})]})}),(0,Dt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[(0,Dt.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Dt.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informaci\xf3n Personal"}),(0,Dt.jsxs)("div",{className:"space-y-3",children:[(0,Dt.jsxs)("div",{className:"flex items-center",children:[(0,Dt.jsx)(ec,{className:"w-5 h-5 text-gray-400 mr-3"}),(0,Dt.jsx)("span",{className:"text-gray-700",children:e.email})]}),(0,Dt.jsxs)("div",{className:"flex items-center",children:[(0,Dt.jsx)(Vt,{className:"w-5 h-5 text-gray-400 mr-3"}),(0,Dt.jsx)("span",{className:"text-gray-700 capitalize",children:n})]}),(0,Dt.jsxs)("div",{className:"flex items-center",children:[(0,Dt.jsx)(cc,{className:"w-5 h-5 text-gray-400 mr-3"}),(0,Dt.jsxs)("span",{className:"text-gray-700",children:["Miembro desde ",new Date(e.created_at||Date.now()).toLocaleDateString()]})]})]})]}),(0,Dt.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Dt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Dt.jsxs)("div",{className:"flex items-center",children:[(0,Dt.jsx)(Vc,{className:"w-5 h-5 text-blue-600 mr-2"}),(0,Dt.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Vistos Recientemente"})]}),(0,Dt.jsx)("span",{className:"text-2xl font-bold text-blue-600",children:i.length})]}),i.length>0?(0,Dt.jsxs)("div",{className:"relative",children:[(0,Dt.jsx)("div",{className:"overflow-hidden",children:(0,Dt.jsx)("div",{className:"flex transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${100*g}%)`},children:i.map((e,t)=>(0,Dt.jsx)("div",{className:"w-full flex-shrink-0 px-2",children:(0,Dt.jsx)(vc,{vehicle:e,compact:!0})},`recent-${e.id}`))})}),i.length>1&&(0,Dt.jsxs)(Dt.Fragment,{children:[(0,Dt.jsx)("button",{onClick:()=>v(e=>Math.max(0,e-1)),disabled:0===g,className:"absolute left-0 top-1/2 transform -translate-y-1/2 bg-white rounded-full p-2 shadow-lg hover:bg-gray-50 disabled:opacity-50",children:(0,Dt.jsx)(Ac,{className:"w-4 h-4"})}),(0,Dt.jsx)("button",{onClick:()=>v(e=>Math.min(i.length-1,e+1)),disabled:g===i.length-1,className:"absolute right-0 top-1/2 transform -translate-y-1/2 bg-white rounded-full p-2 shadow-lg hover:bg-gray-50 disabled:opacity-50",children:(0,Dt.jsx)(rc,{className:"w-4 h-4"})})]}),i.length>1&&(0,Dt.jsx)("div",{className:"flex justify-center mt-4 space-x-2",children:i.map((e,t)=>(0,Dt.jsx)("button",{onClick:()=>v(t),className:"w-2 h-2 rounded-full transition-colors "+(t===g?"bg-blue-600":"bg-gray-300")},t))})]}):(0,Dt.jsx)("p",{className:"text-gray-500 text-sm",children:"No has visto ning\xfan veh\xedculo recientemente"})]}),(0,Dt.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Dt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Dt.jsxs)("div",{className:"flex items-center",children:[(0,Dt.jsx)(lc,{className:"w-5 h-5 text-red-600 mr-2"}),(0,Dt.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Veh\xedculos Favoritos"})]}),(0,Dt.jsx)("span",{className:"text-2xl font-bold text-red-600",children:l.length})]}),l.length>0?(0,Dt.jsxs)("div",{className:"space-y-3",children:[l.slice(0,3).map(e=>{var t,r,n;return(0,Dt.jsx)("div",{className:"border border-gray-200 rounded-lg p-3 hover:bg-gray-50 transition-colors",children:(0,Dt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Dt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Dt.jsx)("img",{src:(null===(t=e.images)||void 0===t?void 0:t[0])||"/placeholder-car.jpg",alt:`${e.brand} ${e.model}`,className:"w-12 h-12 object-cover rounded"}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsxs)("h4",{className:"font-medium text-gray-900",children:[e.brand," ",e.model]}),(0,Dt.jsxs)("p",{className:"text-sm text-gray-600",children:[e.year," \u2022 ",null===(r=e.kilometers)||void 0===r?void 0:r.toLocaleString()," km"]})]})]}),(0,Dt.jsxs)("div",{className:"text-right",children:[(0,Dt.jsxs)("p",{className:"font-semibold text-primary-600",children:["$",null===(n=e.price)||void 0===n?void 0:n.toLocaleString()]}),(0,Dt.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.favorited_at).toLocaleDateString()})]})]})},`favorite-${e.id}`)}),l.length>3&&(0,Dt.jsxs)("p",{className:"text-sm text-gray-500 text-center",children:["+",l.length-3," m\xe1s favoritos"]})]}):(0,Dt.jsx)("p",{className:"text-gray-500 text-sm",children:"No tienes veh\xedculos favoritos a\xfan"})]})]}),(0,Dt.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Dt.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Tu Actividad"}),(0,Dt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Dt.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,Dt.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:i.length}),(0,Dt.jsx)("div",{className:"text-sm text-gray-600",children:"Veh\xedculos Vistos"})]}),(0,Dt.jsxs)("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[(0,Dt.jsx)("div",{className:"text-2xl font-bold text-red-600",children:l.length}),(0,Dt.jsx)("div",{className:"text-sm text-gray-600",children:"Favoritos"})]}),(0,Dt.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,Dt.jsx)("div",{className:"text-2xl font-bold text-green-600",children:"owner"===n?"Due\xf1o":"admin"===n?"Admin":"Cliente"}),(0,Dt.jsx)("div",{className:"text-sm text-gray-600",children:"Tipo de Usuario"})]})]})]}),(0,Dt.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 border-l-4 border-red-500",children:[(0,Dt.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,Dt.jsx)(tu,{className:"w-5 h-5 text-red-600 mr-2"}),"Configuraci\xf3n de Cuenta"]}),(0,Dt.jsx)("div",{className:"bg-red-50 rounded-lg p-4 mb-4",children:(0,Dt.jsxs)("div",{className:"flex items-start",children:[(0,Dt.jsx)(tu,{className:"w-5 h-5 text-red-600 mr-2 mt-0.5 flex-shrink-0"}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("h3",{className:"text-sm font-medium text-red-800 mb-1",children:"Zona Peligrosa"}),(0,Dt.jsxs)("p",{className:"text-sm text-red-700 mb-3",children:["La eliminaci\xf3n de cuenta es ",(0,Dt.jsx)("strong",{children:"permanente e irreversible"}),". Se eliminar\xe1n todos tus datos y no podr\xe1s recuperar tu cuenta."]}),(0,Dt.jsxs)("ul",{className:"text-xs text-red-600 list-disc list-inside space-y-1",children:[(0,Dt.jsx)("li",{children:"Se eliminar\xe1 tu perfil y datos personales"}),(0,Dt.jsx)("li",{children:"Se perder\xe1n tus favoritos y historial"}),(0,Dt.jsx)("li",{children:"No podr\xe1s usar el mismo email para registrarte nuevamente"}),"admin"===n&&(0,Dt.jsx)("li",{className:"font-semibold",children:"\u26a0\ufe0f Perder\xe1s el acceso de administrador"})]})]})]})}),(0,Dt.jsxs)("button",{onClick:()=>{d(!0),m("")},className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200 font-medium",children:[(0,Dt.jsx)(ru,{className:"w-4 h-4 mr-2"}),"Eliminar Mi Cuenta Permanentemente"]})]}),(0,Dt.jsx)(hr,{children:u&&(0,Dt.jsx)(Kl.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Dt.jsxs)(Kl.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[(0,Dt.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Dt.jsx)("div",{className:"bg-red-100 rounded-full p-2 mr-3",children:(0,Dt.jsx)(tu,{className:"w-6 h-6 text-red-600"})}),(0,Dt.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirmar Eliminaci\xf3n de Cuenta"})]}),(0,Dt.jsxs)("div",{className:"mb-6",children:[(0,Dt.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:["Esta acci\xf3n ",(0,Dt.jsx)("strong",{children:"no se puede deshacer"}),". Para confirmar la eliminaci\xf3n de tu cuenta, escribe ",(0,Dt.jsx)("strong",{children:'"ELIMINAR"'})," en el campo de abajo:"]}),(0,Dt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:[(0,Dt.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:(0,Dt.jsx)("strong",{children:"Se eliminar\xe1:"})}),(0,Dt.jsxs)("ul",{className:"text-xs text-gray-600 list-disc list-inside space-y-1",children:[(0,Dt.jsxs)("li",{children:["Cuenta: ",e.email]}),(0,Dt.jsxs)("li",{children:["Rol: ",n]}),(0,Dt.jsx)("li",{children:"Datos personales y preferencias"}),(0,Dt.jsx)("li",{children:"Historial de actividad"})]})]}),(0,Dt.jsx)("input",{type:"text",value:h,onChange:e=>m(e.target.value),placeholder:"Escribe ELIMINAR para confirmar",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",disabled:p})]}),(0,Dt.jsxs)("div",{className:"flex space-x-3",children:[(0,Dt.jsx)("button",{onClick:()=>{d(!1),m(""),f(!1)},disabled:p,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors duration-200 disabled:opacity-50",children:"Cancelar"}),(0,Dt.jsx)("button",{onClick:async()=>{if("ELIMINAR"===h){f(!0);try{const{supabase:i}=await Promise.resolve().then(r.bind(r,785));if(console.log("\ud83d\uddd1\ufe0f Iniciando eliminaci\xf3n de cuenta:",e.email),"admin"===n){if(!window.confirm("\u26a0\ufe0f ADVERTENCIA: Est\xe1s eliminando una cuenta de ADMINISTRADOR.\n\nEsta acci\xf3n:\n\u2022 Eliminar\xe1 permanentemente tu cuenta de admin\n\u2022 Puede afectar la administraci\xf3n del sistema\n\u2022 Es IRREVERSIBLE\n\n\xbfEst\xe1s ABSOLUTAMENTE seguro de continuar?"))return void f(!1)}try{const{error:t}=await i.from("profiles").delete().eq("id",e.id);t?console.log("\u2139\ufe0f No se encontr\xf3 perfil o error eliminando perfil:",t):console.log("\u2705 Perfil eliminado exitosamente")}catch(t){console.log("\u2139\ufe0f Error eliminando perfil (puede no existir):",t)}const{error:o}=await i.auth.signOut();o&&console.error("\u274c Error cerrando sesi\xf3n:",o),console.log("\u2139\ufe0f Nota: Para eliminar completamente el usuario de Supabase Auth se requiere acceso de servidor"),localStorage.removeItem("recentlyViewed"),localStorage.removeItem("likedVehicles"),console.log("\u2705 Cuenta eliminada exitosamente"),Ot.success("Cuenta eliminada exitosamente"),await s(),a("/")}catch(i){console.error("\u274c Error eliminando cuenta:",i),Ot.error("Error al eliminar la cuenta: "+i.message),f(!1)}}else Ot.error('Debes escribir "ELIMINAR" para confirmar')},disabled:p||"ELIMINAR"!==h,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:p?(0,Dt.jsxs)("div",{className:"flex items-center",children:[(0,Dt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Eliminando..."]}):(0,Dt.jsxs)(Dt.Fragment,{children:[(0,Dt.jsx)(ru,{className:"w-4 h-4 mr-2"}),"Eliminar Cuenta"]})})]})]})})})]})}):(0,Dt.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,Dt.jsxs)("div",{className:"text-center",children:[(0,Dt.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Acceso Denegado"}),(0,Dt.jsx)("p",{className:"text-gray-600",children:"Debes iniciar sesi\xf3n para ver tu perfil."})]})})},su=Ut("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),au=Ut("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),iu=Ut("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),ou=Ut("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),lu=Ut("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),cu=Ut("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),uu=Ut("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),du=Ut("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),hu=e=>{let{vehicle:n,onClose:s,onSuccess:a}=e;const[i,o]=(0,t.useState)({brand:"",model:"",version:"",year:(new Date).getFullYear(),kilometers:0,price:0,currency:"USD",condition:"used",transmission:"manual",fuelType:"gasoline",color:"",type:"sedan",location:"",engine:"",power:"",features:[],featured:!1,promotion:!1}),[l,c]=(0,t.useState)([]),[u,d]=(0,t.useState)([]),[h,m]=(0,t.useState)([]),[p,f]=(0,t.useState)(!1),[g,v]=(0,t.useState)(""),[y,x]=(0,t.useState)(!1);(0,t.useEffect)(()=>{n&&(o({brand:n.brand||"",model:n.model||"",version:n.version||"",year:n.year||(new Date).getFullYear(),kilometers:n.kilometers||0,price:n.price||n.price_ars||0,currency:n.price&&n.price>0?"USD":"ARS",condition:n.condition||"used",transmission:n.transmission||"manual",fuelType:n.fuel_type||"gasoline",color:n.color||"",type:n.type||"sedan",location:n.location||"",engine:n.engine||"",power:n.power||"",features:n.features||[],featured:n.is_featured||!1,promotion:n.is_promotion||!1}),d(n.images||[]),c([]),m([]))},[n]);const b=e=>{const{name:t,value:r,type:n,checked:s}=e.target;o(e=>({...e,[t]:"checkbox"===n?s:r}))},w=(e,t)=>{c(r=>{const n=[...r],[s]=n.splice(e,1);return n.splice(t,0,s),n})},j=(e,t)=>{d(r=>{const n=[...r],[s]=n.splice(e,1);return n.splice(t,0,s),n})},N=()=>{g.trim()&&(o(e=>({...e,features:[...e.features,g.trim()]})),v(""))},k=(e,t)=>{o(r=>{const n=[...r.features],[s]=n.splice(e,1);return n.splice(t,0,s),{...r,features:n}})},S=Array.from({length:25},(e,t)=>(new Date).getFullYear()-t);return(0,Dt.jsx)(hr,{children:(0,Dt.jsx)(Kl.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Dt.jsxs)(Kl.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Dt.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,Dt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Dt.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:n?"Editar Veh\xedculo":"Agregar Veh\xedculo"}),(0,Dt.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:(0,Dt.jsx)(qt,{className:"w-6 h-6"})})]})}),(0,Dt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),p)console.log("\u23f3 Ya se est\xe1 procesando, ignorando...");else{f(!0);try{const e=parseFloat(i.price)||0;if(e<=0)return Ot.error("Debes ingresar un precio v\xe1lido"),void f(!1);const s={brand:i.brand||"",model:i.model||"",year:parseInt(i.year)||(new Date).getFullYear(),kilometers:parseInt(i.kilometers)||0,price:"USD"===i.currency?e:null,price_ars:"ARS"===i.currency?e:null,condition:i.condition||"used",transmission:i.transmission||"manual",fuel_type:i.fuelType||"gasoline",color:i.color||"",type:i.type||"sedan",location:i.location||"",engine:i.engine||"",power:i.power||"",features:i.features||[],is_featured:i.featured||!1,is_promotion:i.promotion||!1,images:[]};if(console.log("\ud83d\udcdd Datos del formulario:",i),console.log("\ud83d\udcb0 Precio original:",i.price,"Moneda:",i.currency),console.log("\ud83d\udcb0 Precio procesado:",e),console.log("\ud83d\udcdd Datos del veh\xedculo a guardar:",s),console.log("\ud83d\udd0d fuel_type espec\xedficamente:",s.fuel_type),console.log("\ud83d\udcb5 price (USD):",s.price),console.log("\ud83d\udcb1 price_ars (ARS):",s.price_ars),n){if(console.log("\ud83d\udd04 Actualizando veh\xedculo existente..."),0===u.length&&0===l.length)return Ot.error("Debes tener al menos una imagen para el veh\xedculo"),void f(!1);if(h.length>0){console.log("\ud83d\uddd1\ufe0f Eliminando im\xe1genes del storage:",h.length);for(const e of h)try{const t=e.split("/"),n=`vehicles/${t[t.length-1]}`;console.log("\ud83d\uddd1\ufe0f Eliminando imagen del storage:",n);const{supabase:s}=await Promise.resolve().then(r.bind(r,785)),{error:a}=await s.storage.from("vehicle-images").remove([n]);a?console.error("\u274c Error eliminando imagen del storage:",a):console.log("\u2705 Imagen eliminada del storage exitosamente:",n)}catch(t){console.error("\u274c Error procesando eliminaci\xf3n de imagen:",t)}}const e=[];if(l.length>0){console.log("\ud83d\udce4 Subiendo nuevas im\xe1genes...");for(let r=0;r<l.length;r++)try{console.log(`\ud83d\udcf7 Subiendo nueva imagen ${r+1}/${l.length}...`);const t=await jc(l[r],n.id,u.length+r);e.push(t),console.log(`\u2705 Nueva imagen ${r+1} subida exitosamente:`,t)}catch(t){console.error(`\u274c Error subiendo nueva imagen ${r+1}:`,t),Ot.error(`Error subiendo imagen ${r+1}: ${t.message}`)}}const a=[...u,...e];console.log("\ud83d\uddbc\ufe0f Im\xe1genes finales:",a),await bc(n.id,{...s,images:a}),Ot.success("Veh\xedculo actualizado exitosamente")}else{if(0===l.length)return Ot.error("Debes subir al menos una imagen"),void f(!1);console.log("\ud83d\udce4 Subiendo im\xe1genes..."),console.log("\ud83d\uddbc\ufe0f Im\xe1genes a subir:",l.length),console.log("\ud83d\uddbc\ufe0f Detalles de im\xe1genes:",l.map(e=>({name:e.name,size:e.size,type:e.type})));const e=await(async e=>{try{return await De.createVehicle(e)}catch(t){throw console.error("Error creando veh\xedculo:",t),t}})(s);console.log("\u2705 Veh\xedculo creado:",e),console.log("\ud83c\udd94 ID del veh\xedculo:",e.id);const r=[];console.log("\ud83d\udd04 Iniciando bucle de subida de im\xe1genes...");for(let n=0;n<l.length;n++)try{console.log(`\ud83d\udcf7 Subiendo imagen ${n+1}/${l.length}...`),console.log("\ud83d\udcc4 Archivo:",l[n].name,"| Tama\xf1o:",l[n].size,"| Tipo:",l[n].type);const t=await jc(l[n],e.id,n);r.push(t),console.log(`\u2705 Imagen ${n+1} subida exitosamente:`,t)}catch(t){console.error(`\u274c Error subiendo imagen ${n+1}:`,t),console.error("\u274c Detalles completos del error:",{name:t.name,message:t.message,stack:t.stack}),Ot.error(`Error subiendo imagen ${n+1}: ${t.message}`)}console.log("\ud83d\udcca Resumen de subida:"),console.log("- Total im\xe1genes:",l.length),console.log("- Subidas exitosas:",r.length),console.log("- URLs generadas:",r),r.length>0&&(console.log("\ud83d\udd04 Actualizando veh\xedculo con im\xe1genes..."),await bc(e.id,{...s,images:r}),console.log("\u2705 Veh\xedculo actualizado con im\xe1genes")),Ot.success("Veh\xedculo creado exitosamente")}a()}catch(s){console.error("\u274c Error guardando veh\xedculo:",s),Ot.error(`Error al guardar el veh\xedculo: ${s.message}`)}finally{f(!1)}}},className:"p-6",children:[(0,Dt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Dt.jsxs)("div",{className:"space-y-4",children:[(0,Dt.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Informaci\xf3n B\xe1sica"}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Marca *"}),(0,Dt.jsxs)("select",{name:"brand",value:i.brand,onChange:b,required:!0,className:"select-field",children:[(0,Dt.jsx)("option",{value:"",children:"Seleccionar marca"}),["Toyota","Honda","Ford","Chevrolet","Volkswagen","BMW","Mercedes-Benz","Audi","Nissan","Hyundai","Kia","Mazda","Subaru","Mitsubishi","Peugeot","Renault","Fiat","Volvo","Jaguar","Land Rover"].map(e=>(0,Dt.jsx)("option",{value:e,children:e},e))]})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Modelo *"}),(0,Dt.jsx)("input",{type:"text",name:"model",value:i.model,onChange:b,required:!0,className:"input-field",placeholder:"Ej: Corolla"})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Versi\xf3n"}),(0,Dt.jsx)("input",{type:"text",name:"version",value:i.version,onChange:b,className:"input-field",placeholder:"Ej: XEI 2.0"})]}),(0,Dt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"A\xf1o *"}),(0,Dt.jsx)("select",{name:"year",value:i.year,onChange:b,required:!0,className:"select-field",children:S.map(e=>(0,Dt.jsx)("option",{value:e,children:e},e))})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kilometraje *"}),(0,Dt.jsx)("input",{type:"number",name:"kilometers",value:i.kilometers,onChange:b,required:!0,min:"0",max:"999999",className:"input-field",placeholder:"0"})]})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Precio *"}),(0,Dt.jsxs)("div",{className:"flex space-x-2",children:[(0,Dt.jsxs)("select",{name:"currency",value:i.currency,onChange:b,className:"select-field w-24",children:[(0,Dt.jsx)("option",{value:"USD",children:"USD"}),(0,Dt.jsx)("option",{value:"ARS",children:"ARS"})]}),(0,Dt.jsxs)("div",{className:"flex-1 relative",children:[(0,Dt.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 text-sm",children:(i.currency,"$")}),(0,Dt.jsx)("input",{type:"number",name:"price",value:i.price,onChange:b,required:!0,className:"input-field pl-8",placeholder:"USD"===i.currency?"150000000":"150000000000"})]})]}),(0,Dt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"USD"===i.currency?"\ud83d\udca1 Precio en d\xf3lares estadounidenses":"\ud83d\udca1 Precio en pesos argentinos"})]})]}),(0,Dt.jsxs)("div",{className:"space-y-4",children:[(0,Dt.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Especificaciones"}),(0,Dt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Condici\xf3n *"}),(0,Dt.jsx)("select",{name:"condition",value:i.condition,onChange:b,required:!0,className:"select-field",children:[{value:"new",label:"Nuevo"},{value:"used",label:"Usado"}].map(e=>(0,Dt.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo *"}),(0,Dt.jsx)("select",{name:"type",value:i.type,onChange:b,required:!0,className:"select-field",children:[{value:"sedan",label:"Sed\xe1n"},{value:"suv",label:"SUV"},{value:"pickup",label:"Pick-Up"},{value:"hatchback",label:"Hatchback"},{value:"coupe",label:"Coup\xe9"},{value:"cabriolet",label:"Cabriolet"},{value:"premium",label:"Premium"}].map(e=>(0,Dt.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,Dt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Transmisi\xf3n *"}),(0,Dt.jsx)("select",{name:"transmission",value:i.transmission,onChange:b,required:!0,className:"select-field",children:[{value:"manual",label:"Manual"},{value:"automatic",label:"Autom\xe1tico"},{value:"cvt",label:"CVT"}].map(e=>(0,Dt.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Combustible *"}),(0,Dt.jsx)("select",{name:"fuelType",value:i.fuelType,onChange:b,required:!0,className:"select-field",children:[{value:"gasoline",label:"Gasolina"},{value:"diesel",label:"Di\xe9sel"},{value:"hybrid",label:"H\xedbrido"},{value:"electric",label:"El\xe9ctrico"},{value:"lpg",label:"GLP"}].map(e=>(0,Dt.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),(0,Dt.jsx)("input",{type:"text",name:"color",value:i.color,onChange:b,className:"input-field",placeholder:"Ej: Blanco"})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ubicaci\xf3n"}),(0,Dt.jsx)("input",{type:"text",name:"location",value:i.location,onChange:b,className:"input-field",placeholder:"Ej: CABA"})]}),(0,Dt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Motor"}),(0,Dt.jsx)("input",{type:"text",name:"engine",value:i.engine,onChange:b,className:"input-field",placeholder:"Ej: 2.0L"})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Potencia"}),(0,Dt.jsx)("input",{type:"text",name:"power",value:i.power,onChange:b,className:"input-field",placeholder:"Ej: 150 HP"})]})]})]})]}),(0,Dt.jsxs)("div",{className:"mt-6",children:[(0,Dt.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Caracter\xedsticas"}),(0,Dt.jsxs)("div",{className:"space-y-4",children:[(0,Dt.jsxs)("div",{className:"relative",children:[(0,Dt.jsxs)("button",{type:"button",onClick:()=>x(!y),className:"w-full input-field flex items-center justify-between bg-white",children:[(0,Dt.jsx)("span",{className:"text-gray-700",children:0===i.features.length?"Seleccionar caracter\xedsticas...":`${i.features.length} caracter\xedsticas seleccionadas`}),(0,Dt.jsx)(Sc,{className:"w-5 h-5 transition-transform "+(y?"rotate-180":"")})]}),(0,Dt.jsx)(hr,{children:y&&(0,Dt.jsx)(Kl.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:(0,Dt.jsx)("div",{className:"grid grid-cols-2 gap-1 p-2",children:["Aire acondicionado","Calefacci\xf3n","Direcci\xf3n asistida","Vidrios el\xe9ctricos","Cierre centralizado","Alarma","Bluetooth","Radio AM/FM","USB/AUX","Pantalla t\xe1ctil","GPS/Navegaci\xf3n","C\xe1mara de reversa","Sensores de estacionamiento","ABS","Airbag conductor","Airbag acompa\xf1ante","Airbags laterales","Control de estabilidad","Control de tracci\xf3n","Frenos de disco","Llantas de aleaci\xf3n","Techo corredizo","Quemacocos","Barras portaequipaje","Enganche para remolque","Asientos de cuero","Asientos calefaccionados","Asientos el\xe9ctricos","Volante multifunci\xf3n","Computadora de viaje","Luces LED","Luces de xen\xf3n","Faros antiniebla","Espejos el\xe9ctricos","Cristales polarizados","Arranque sin llave","Cargador inal\xe1mbrico"].map(e=>(0,Dt.jsxs)("button",{type:"button",onClick:()=>(e=>{o(t=>{const r=t.features.includes(e);return{...t,features:r?t.features.filter(t=>t!==e):[...t.features,e]}})})(e),className:"flex items-center p-2 text-sm rounded hover:bg-gray-50 transition-colors "+(i.features.includes(e)?"bg-primary-50 text-primary-700":"text-gray-700"),children:[(0,Dt.jsx)("div",{className:"w-4 h-4 mr-2 border rounded flex items-center justify-center "+(i.features.includes(e)?"bg-primary-600 border-primary-600":"border-gray-300"),children:i.features.includes(e)&&(0,Dt.jsx)(cu,{className:"w-3 h-3 text-white"})}),e]},e))})})})]}),(0,Dt.jsxs)("div",{className:"flex space-x-2",children:[(0,Dt.jsx)("input",{type:"text",value:g,onChange:e=>v(e.target.value),className:"input-field flex-1",placeholder:"Agregar caracter\xedstica personalizada...",onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),N())}),(0,Dt.jsxs)("button",{type:"button",onClick:N,className:"btn-secondary flex items-center",children:[(0,Dt.jsx)(lu,{className:"w-4 h-4 mr-1"}),"Agregar"]})]}),i.features.length>0&&(0,Dt.jsxs)("div",{className:"space-y-2",children:[(0,Dt.jsxs)("h4",{className:"text-sm font-medium text-gray-700",children:["Caracter\xedsticas seleccionadas (",i.features.length,"):"]}),(0,Dt.jsx)("div",{className:"space-y-1",children:i.features.map((e,t)=>(0,Dt.jsxs)(Kl.div,{layout:!0,className:"flex items-center justify-between bg-gray-50 rounded-lg px-3 py-2",children:[(0,Dt.jsx)("span",{className:"text-sm text-gray-700 flex-1",children:e}),(0,Dt.jsxs)("div",{className:"flex items-center space-x-1",children:[t>0&&(0,Dt.jsx)("button",{type:"button",onClick:()=>k(t,t-1),className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",title:"Mover arriba",children:(0,Dt.jsx)(uu,{className:"w-4 h-4"})}),t<i.features.length-1&&(0,Dt.jsx)("button",{type:"button",onClick:()=>k(t,t+1),className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",title:"Mover abajo",children:(0,Dt.jsx)(Sc,{className:"w-4 h-4"})}),(0,Dt.jsx)("button",{type:"button",onClick:()=>(e=>{o(t=>({...t,features:t.features.filter((t,r)=>r!==e)}))})(t),className:"p-1 text-red-400 hover:text-red-600 transition-colors",title:"Eliminar",children:(0,Dt.jsx)(qt,{className:"w-4 h-4"})})]})]},`${e}-${t}`))})]})]})]}),(0,Dt.jsxs)("div",{className:"mt-6",children:[(0,Dt.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Opciones"}),(0,Dt.jsxs)("div",{className:"space-y-4",children:[(0,Dt.jsxs)("div",{className:"flex items-center",children:[(0,Dt.jsx)("input",{type:"checkbox",name:"featured",checked:i.featured,onChange:b,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,Dt.jsx)("label",{className:"ml-2 block text-sm text-gray-900",children:"Marcar como destacado"})]}),(0,Dt.jsxs)("div",{className:"flex items-center",children:[(0,Dt.jsx)("input",{type:"checkbox",name:"promotion",checked:i.promotion,onChange:b,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,Dt.jsx)("label",{className:"ml-2 block text-sm text-gray-900",children:"Marcar como promoci\xf3n"})]})]})]}),(0,Dt.jsxs)("div",{className:"mt-6",children:[(0,Dt.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Im\xe1genes ",u.length+l.length>0&&`(${u.length+l.length} total)`]}),(0,Dt.jsxs)("div",{className:"space-y-4",children:[(0,Dt.jsx)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 hover:border-primary-400 transition-colors",children:(0,Dt.jsxs)("div",{className:"text-center",children:[(0,Dt.jsx)(du,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Dt.jsxs)("div",{className:"mt-2",children:[(0,Dt.jsxs)("label",{htmlFor:"images",className:"cursor-pointer",children:[(0,Dt.jsx)("span",{className:"text-primary-600 hover:text-primary-500 font-medium",children:0===l.length?"Seleccionar m\xfaltiples im\xe1genes":"Agregar m\xe1s im\xe1genes"}),(0,Dt.jsx)("input",{id:"images",type:"file",multiple:!0,accept:"image/*",onChange:e=>{const t=Array.from(e.target.files);c(e=>[...e,...t])},className:"hidden"})]}),(0,Dt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Selecciona m\xfaltiples archivos \u2022 PNG, JPG, GIF hasta 10MB cada una"}),(0,Dt.jsx)("p",{className:"text-xs text-primary-600 mt-1",children:"\ud83d\udca1 Mant\xe9n presionado Ctrl/Cmd para seleccionar varias im\xe1genes"})]})]})}),u.length>0&&(0,Dt.jsxs)("div",{className:"space-y-3",children:[(0,Dt.jsxs)("h4",{className:"text-sm font-medium text-gray-700",children:["Im\xe1genes actuales (",u.length,"):"]}),(0,Dt.jsx)("div",{className:"space-y-2",children:u.map((e,t)=>(0,Dt.jsxs)(Kl.div,{layout:!0,className:"flex items-center bg-blue-50 rounded-lg p-3 border border-blue-200",children:[(0,Dt.jsx)("img",{src:e,alt:`Imagen existente ${t+1}`,className:"w-16 h-16 object-cover rounded-md flex-shrink-0",onError:e=>{e.target.src="https://via.placeholder.com/64x64?text=Error"}}),(0,Dt.jsxs)("div",{className:"ml-3 flex-1 min-w-0",children:[(0,Dt.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:["Imagen ",t+1]}),(0,Dt.jsx)("p",{className:"text-xs text-blue-600",children:"Imagen actual del veh\xedculo"}),0===t&&(0,Dt.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 mt-1",children:"Imagen principal"})]}),(0,Dt.jsxs)("div",{className:"flex items-center space-x-1 ml-3",children:[t>0&&(0,Dt.jsx)("button",{type:"button",onClick:()=>j(t,t-1),className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",title:"Mover arriba",children:(0,Dt.jsx)(uu,{className:"w-4 h-4"})}),t<u.length-1&&(0,Dt.jsx)("button",{type:"button",onClick:()=>j(t,t+1),className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",title:"Mover abajo",children:(0,Dt.jsx)(Sc,{className:"w-4 h-4"})}),(0,Dt.jsx)("button",{type:"button",onClick:()=>(e=>{const t=u[e];m(e=>[...e,t]),d(t=>t.filter((t,r)=>r!==e))})(t),className:"p-1 text-red-400 hover:text-red-600 transition-colors ml-2",title:"Eliminar imagen",children:(0,Dt.jsx)(qt,{className:"w-4 h-4"})})]})]},`existing-${t}`))})]}),l.length>0&&(0,Dt.jsxs)("div",{className:"space-y-3",children:[(0,Dt.jsxs)("h4",{className:"text-sm font-medium text-gray-700",children:["Nuevas im\xe1genes a agregar (",l.length,"):"]}),(0,Dt.jsx)("div",{className:"space-y-2",children:l.map((e,t)=>(0,Dt.jsxs)(Kl.div,{layout:!0,className:"flex items-center bg-green-50 rounded-lg p-3 border border-green-200",children:[(0,Dt.jsx)("img",{src:URL.createObjectURL(e),alt:`Imagen ${t+1}`,className:"w-16 h-16 object-cover rounded-md flex-shrink-0"}),(0,Dt.jsxs)("div",{className:"ml-3 flex-1 min-w-0",children:[(0,Dt.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,Dt.jsxs)("p",{className:"text-xs text-gray-500",children:[(e.size/1024/1024).toFixed(2)," MB"]}),0===t&&(0,Dt.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-primary-100 text-primary-800 mt-1",children:"Imagen principal"})]}),(0,Dt.jsxs)("div",{className:"flex items-center space-x-1 ml-3",children:[t>0&&(0,Dt.jsx)("button",{type:"button",onClick:()=>w(t,t-1),className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",title:"Mover arriba",children:(0,Dt.jsx)(uu,{className:"w-4 h-4"})}),t<l.length-1&&(0,Dt.jsx)("button",{type:"button",onClick:()=>w(t,t+1),className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",title:"Mover abajo",children:(0,Dt.jsx)(Sc,{className:"w-4 h-4"})}),(0,Dt.jsx)("button",{type:"button",onClick:()=>(e=>{c(t=>t.filter((t,r)=>r!==e))})(t),className:"p-1 text-red-400 hover:text-red-600 transition-colors ml-2",title:"Eliminar imagen",children:(0,Dt.jsx)(qt,{className:"w-4 h-4"})})]})]},`${e.name}-${t}`))}),(0,Dt.jsx)("p",{className:"text-xs text-gray-500",children:"\ud83d\udca1 Las nuevas im\xe1genes se agregar\xe1n despu\xe9s de las existentes. Puedes reordenar todas las im\xe1genes."})]})]})]}),(0,Dt.jsxs)("div",{className:"mt-8 flex justify-end space-x-4",children:[(0,Dt.jsx)("button",{type:"button",onClick:s,className:"btn-secondary",children:"Cancelar"}),(0,Dt.jsx)("button",{type:"submit",disabled:p,className:"btn-primary",children:p?(0,Dt.jsxs)("div",{className:"flex items-center",children:[(0,Dt.jsx)("div",{className:"loading-spinner w-4 h-4 mr-2"}),"Guardando..."]}):n?"Actualizar Veh\xedculo":"Crear Veh\xedculo"})]})]})]})})})},mu=e=>{let{onClose:r,onSuccess:n}=e;const[s,a]=(0,t.useState)({title:"",description:"",category:"eventos",location:"",author:"",type:"image"}),[i,o]=(0,t.useState)([]),[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)([]),h=e=>{const{name:t,value:r}=e.target;a(e=>({...e,[t]:r}))};return(0,Dt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Dt.jsx)(Kl.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,Dt.jsxs)("div",{className:"p-6",children:[(0,Dt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Dt.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Subir a Galer\xeda"}),(0,Dt.jsx)("button",{onClick:r,className:"p-2 text-gray-500 hover:text-gray-700 transition-colors",children:(0,Dt.jsx)(qt,{className:"w-6 h-6"})})]}),(0,Dt.jsxs)("form",{onSubmit:e=>e.preventDefault(),children:[(0,Dt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"T\xedtulo *"}),(0,Dt.jsx)("input",{type:"text",name:"title",value:s.title,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"T\xedtulo del contenido",required:!0})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categor\xeda"}),(0,Dt.jsx)("select",{name:"category",value:s.category,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[{id:"eventos",name:"Eventos",icon:"\ud83c\udf89"},{id:"instalaciones",name:"Instalaciones",icon:"\ud83c\udfe2"},{id:"equipo",name:"Equipo",icon:"\ud83d\udc65"},{id:"vehiculos",name:"Veh\xedculos",icon:"\ud83d\ude97"},{id:"promociones",name:"Promociones",icon:"\ud83c\udfaf"}].map(e=>(0,Dt.jsxs)("option",{value:e.id,children:[e.icon," ",e.name]},e.id))})]})]}),(0,Dt.jsxs)("div",{className:"mb-6",children:[(0,Dt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripci\xf3n"}),(0,Dt.jsx)("textarea",{name:"description",value:s.description,onChange:h,rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Descripci\xf3n del contenido..."})]}),(0,Dt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ubicaci\xf3n"}),(0,Dt.jsxs)("div",{className:"relative",children:[(0,Dt.jsx)(Xl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,Dt.jsx)("input",{type:"text",name:"location",value:s.location,onChange:h,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ubicaci\xf3n (opcional)"})]})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Autor"}),(0,Dt.jsxs)("div",{className:"relative",children:[(0,Dt.jsx)(Vt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,Dt.jsx)("input",{type:"text",name:"author",value:s.author,onChange:h,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Autor (opcional)"})]})]})]}),(0,Dt.jsxs)("div",{className:"mb-6",children:[(0,Dt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Archivos (Fotos/Videos) *"}),(0,Dt.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors",children:[(0,Dt.jsx)("input",{type:"file",multiple:!0,accept:"image/*,video/*",onChange:e=>{const t=Array.from(e.target.files);o(t);const r=t.map(e=>URL.createObjectURL(e));d(r)},className:"hidden",id:"file-upload"}),(0,Dt.jsxs)("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[(0,Dt.jsx)(du,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Dt.jsx)("p",{className:"text-gray-600 mb-2",children:"Haz clic para seleccionar archivos"}),(0,Dt.jsx)("p",{className:"text-sm text-gray-500",children:"Soporta im\xe1genes (JPG, PNG, GIF) y videos (MP4, MOV)"})]})]})]}),u.length>0&&(0,Dt.jsxs)("div",{className:"mb-6",children:[(0,Dt.jsxs)("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:["Vista previa (",i.length," archivos)"]}),(0,Dt.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:u.map((e,t)=>(0,Dt.jsxs)("div",{className:"relative group",children:[(0,Dt.jsx)("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100",children:i[t].type.startsWith("video/")?(0,Dt.jsx)("video",{src:e,className:"w-full h-full object-cover",muted:!0}):(0,Dt.jsx)("img",{src:e,alt:`Preview ${t+1}`,className:"w-full h-full object-cover"})}),(0,Dt.jsx)("button",{onClick:()=>(e=>{const t=i.filter((t,r)=>r!==e),r=u.filter((t,r)=>r!==e);o(t),d(r)})(t),className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:(0,Dt.jsx)(ru,{className:"w-4 h-4"})}),(0,Dt.jsx)("div",{className:"absolute bottom-2 left-2",children:i[t].type.startsWith("video/")?(0,Dt.jsx)(Uc,{className:"w-4 h-4 text-white bg-black bg-opacity-50 rounded p-1"}):(0,Dt.jsx)($c,{className:"w-4 h-4 text-white bg-black bg-opacity-50 rounded p-1"})})]},t))})]}),(0,Dt.jsxs)("div",{className:"flex gap-3",children:[(0,Dt.jsx)("button",{onClick:r,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),(0,Dt.jsx)("button",{onClick:async()=>{if(s.title&&0!==i.length){c(!0);try{const e=[];for(let r=0;r<i.length;r++){const t=i[r],n=t.name.split(".").pop(),s=`gallery/${`${Date.now()}_${r}.${n}`}`,{data:a,error:o}=await Re.supabase.storage.from("gallery-images").upload(s,t);if(o)throw o;const{data:{publicUrl:l}}=Re.supabase.storage.from("gallery-images").getPublicUrl(s);e.push(l)}const t=e.map((e,t)=>({title:s.title+(i.length>1?` (${t+1})`:""),description:s.description,url:e,category:s.category,location:s.location,author:s.author,type:i[t].type.startsWith("video/")?"video":"image",created_at:(new Date).toISOString()})),{error:a}=await Re.supabase.from("gallery").insert(t);if(a)throw a;Ot.success("Archivos subidos exitosamente"),n(),r()}catch(e){console.error("Error uploading files:",e),Ot.error("Error al subir los archivos")}finally{c(!1)}}else Ot.error("Por favor completa todos los campos requeridos")},disabled:l||!s.title||0===i.length,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:l?(0,Dt.jsxs)(Dt.Fragment,{children:[(0,Dt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Subiendo..."]}):(0,Dt.jsxs)(Dt.Fragment,{children:[(0,Dt.jsx)(du,{className:"w-4 h-4"}),"Subir Archivos"]})})]})]})]})})})},pu=Ut("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),fu=e=>{var r,n;let{onClose:s,onSuccess:a,editArticle:i=null}=e;const[o,l]=(0,t.useState)({title:(null===i||void 0===i?void 0:i.title)||"",excerpt:(null===i||void 0===i?void 0:i.excerpt)||"",content:(null===i||void 0===i?void 0:i.content)||"",category:(null===i||void 0===i?void 0:i.category)||"noticias",author:(null===i||void 0===i?void 0:i.author)||"",tags:(null===i||void 0===i||null===(r=i.tags)||void 0===r?void 0:r.join(", "))||"",image:(null===i||void 0===i?void 0:i.image)||"",published:!1!==(null===i||void 0===i?void 0:i.published)}),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)((null===i||void 0===i?void 0:i.image)||""),[m,p]=(0,t.useState)(!1),[f,g]=(0,t.useState)(!1),v=[{id:"noticias",name:"Noticias",icon:"\ud83d\udce2"},{id:"consejos",name:"Consejos",icon:"\ud83d\udca1"},{id:"eventos",name:"Eventos",icon:"\ud83c\udf89"},{id:"tecnologia",name:"Tecnolog\xeda",icon:"\ud83d\udd27"},{id:"promociones",name:"Promociones",icon:"\ud83c\udfaf"}],y=e=>{const{name:t,value:r,type:n,checked:s}=e.target;l(e=>({...e,[t]:"checkbox"===n?s:r}))};return(0,Dt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Dt.jsx)(Kl.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:(0,Dt.jsxs)("div",{className:"p-6",children:[(0,Dt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Dt.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:i?"Editar Art\xedculo":"Crear Art\xedculo"}),(0,Dt.jsx)("button",{onClick:s,className:"p-2 text-gray-500 hover:text-gray-700 transition-colors",children:(0,Dt.jsx)(qt,{className:"w-6 h-6"})})]}),(0,Dt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Dt.jsx)("div",{className:"lg:col-span-2",children:(0,Dt.jsxs)("form",{onSubmit:e=>e.preventDefault(),children:[(0,Dt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"T\xedtulo *"}),(0,Dt.jsx)("input",{type:"text",name:"title",value:o.title,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"T\xedtulo del art\xedculo",required:!0})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categor\xeda"}),(0,Dt.jsx)("select",{name:"category",value:o.category,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:v.map(e=>(0,Dt.jsxs)("option",{value:e.id,children:[e.icon," ",e.name]},e.id))})]})]}),(0,Dt.jsxs)("div",{className:"mb-6",children:[(0,Dt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Extracto"}),(0,Dt.jsx)("textarea",{name:"excerpt",value:o.excerpt,onChange:y,rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Breve descripci\xf3n del art\xedculo..."})]}),(0,Dt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Autor"}),(0,Dt.jsx)("input",{type:"text",name:"author",value:o.author,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Autor del art\xedculo"})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Etiquetas"}),(0,Dt.jsx)("input",{type:"text",name:"tags",value:o.tags,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"etiqueta1, etiqueta2, etiqueta3"})]})]}),(0,Dt.jsxs)("div",{className:"mb-6",children:[(0,Dt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contenido *"}),(0,Dt.jsx)("textarea",{name:"content",value:o.content,onChange:y,rows:"12",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent font-mono text-sm",placeholder:"Escribe el contenido del art\xedculo aqu\xed...",required:!0}),(0,Dt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Puedes usar HTML b\xe1sico para formatear el texto"})]}),(0,Dt.jsx)("div",{className:"flex items-center gap-4 mb-6",children:(0,Dt.jsxs)("label",{className:"flex items-center gap-2",children:[(0,Dt.jsx)("input",{type:"checkbox",name:"published",checked:o.published,onChange:y,className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),(0,Dt.jsx)("span",{className:"text-sm text-gray-700",children:"Publicar inmediatamente"})]})})]})}),(0,Dt.jsxs)("div",{className:"lg:col-span-1",children:[(0,Dt.jsxs)("div",{className:"mb-6",children:[(0,Dt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Imagen de portada"}),(0,Dt.jsx)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-green-400 transition-colors",children:d?(0,Dt.jsxs)("div",{className:"relative",children:[(0,Dt.jsx)("img",{src:d,alt:"Preview",className:"w-full h-32 object-cover rounded-lg mb-2"}),(0,Dt.jsx)("button",{onClick:()=>{u(null),h(""),l(e=>({...e,image:""}))},className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full",children:(0,Dt.jsx)(qt,{className:"w-4 h-4"})})]}):(0,Dt.jsxs)(Dt.Fragment,{children:[(0,Dt.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){u(t);const e=new FileReader;e.onload=e=>h(e.target.result),e.readAsDataURL(t)}},className:"hidden",id:"image-upload"}),(0,Dt.jsxs)("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[(0,Dt.jsx)(du,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),(0,Dt.jsx)("p",{className:"text-sm text-gray-600",children:"Seleccionar imagen"})]})]})})]}),(0,Dt.jsx)("div",{className:"mb-6",children:(0,Dt.jsxs)("button",{onClick:()=>g(!f),className:"w-full flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[f?(0,Dt.jsx)(Yc,{className:"w-4 h-4"}):(0,Dt.jsx)(Vc,{className:"w-4 h-4"}),f?"Ocultar Vista Previa":"Vista Previa"]})}),f&&(0,Dt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[(0,Dt.jsx)("h3",{className:"font-semibold text-gray-800 mb-2",children:"Vista previa"}),(0,Dt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Dt.jsxs)("p",{children:[(0,Dt.jsx)("strong",{children:"T\xedtulo:"})," ",o.title||"Sin t\xedtulo"]}),(0,Dt.jsxs)("p",{children:[(0,Dt.jsx)("strong",{children:"Categor\xeda:"})," ",null===(n=v.find(e=>e.id===o.category))||void 0===n?void 0:n.name]}),(0,Dt.jsxs)("p",{children:[(0,Dt.jsx)("strong",{children:"Autor:"})," ",o.author||"Sin autor"]}),(0,Dt.jsxs)("p",{children:[(0,Dt.jsx)("strong",{children:"Estado:"})," ",o.published?"Publicado":"Borrador"]})]})]}),(0,Dt.jsxs)("div",{className:"space-y-3",children:[(0,Dt.jsx)("button",{onClick:async()=>{if(o.title&&o.content){p(!0);try{let e=o.image;if(c){const t=c.name.split(".").pop(),r=`blog/${`${Date.now()}.${t}`}`,{data:n,error:s}=await Re.supabase.storage.from("gallery-images").upload(r,c);if(s)throw s;const{data:{publicUrl:a}}=Re.supabase.storage.from("gallery-images").getPublicUrl(r);e=a}const t={title:o.title,excerpt:o.excerpt,content:o.content,category:o.category,author:o.author,tags:o.tags.split(",").map(e=>e.trim()).filter(e=>e),image:e,published:o.published,updated_at:(new Date).toISOString()};if(i){const{error:e}=await Re.supabase.from("blog").update(t).eq("id",i.id);if(e)throw e;Ot.success("Art\xedculo actualizado exitosamente")}else{t.created_at=(new Date).toISOString(),t.views=0;const{error:e}=await Re.supabase.from("blog").insert([t]);if(e)throw e;Ot.success("Art\xedculo creado exitosamente")}a(),s()}catch(e){console.error("Error saving article:",e),Ot.error("Error al guardar el art\xedculo")}finally{p(!1)}}else Ot.error("Por favor completa el t\xedtulo y contenido")},disabled:m||!o.title||!o.content,className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:m?(0,Dt.jsxs)(Dt.Fragment,{children:[(0,Dt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Guardando..."]}):(0,Dt.jsxs)(Dt.Fragment,{children:[(0,Dt.jsx)(pu,{className:"w-4 h-4"}),i?"Actualizar":"Crear"," Art\xedculo"]})}),(0,Dt.jsx)("button",{onClick:s,className:"w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"})]})]})]})]})})})},gu=()=>{const[e,r]=(0,t.useState)([]),[n,s]=(0,t.useState)(null),[a,i]=(0,t.useState)(!0),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)("dashboard"),[m,p]=(0,t.useState)(!1),[f,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)(null),[x,b]=(0,t.useState)([]),[w,j]=(0,t.useState)([]),[N,k]=(0,t.useState)(!1),[S,_]=(0,t.useState)(!1),[E,C]=(0,t.useState)({total_favorites:0,total_users_with_favorites:0}),[P,T]=(0,t.useState)({new_vehicles:0,used_vehicles:0,total_vehicles:0}),[A,R]=(0,t.useState)({total_views:0,total_articles:0,avg_views_per_article:0}),[O,D]=(0,t.useState)({total_views:0,total_items:0,avg_views_per_item:0,total_unique_visitors:0}),[L,I]=(0,t.useState)({total_vehicles:0,total_views:0,featured_vehicles:0,promotion_vehicles:0,new_vehicles:0,used_vehicles:0});(0,t.useEffect)(()=>{M()},[]),(0,t.useEffect)(()=>{"gallery"===d&&$()},[d]),(0,t.useEffect)(()=>{"blog"===d&&U()},[d]);const M=async()=>{try{i(!0),console.log("\ud83d\udd04 Cargando datos del dashboard...");const[e,t,n,a,o,l,c]=await Promise.all([xc(),wc(),gc(),Le.getVehicleConditionStats(),Le.getBlogViewsStats(),Le.getGalleryViewsStats(),Le.getEnhancedVehicleStats()]);console.log("\ud83d\udcca Datos cargados:",{vehicles:(null===e||void 0===e?void 0:e.length)||0,stats:t,favorites:n,condition:a,blogViews:o,galleryViews:l,enhanced:c}),r(e),s(t),C(n),T(a),R(o),D(l),I(c)}catch(e){console.error("\u274c Error cargando datos:",e),Ot.error("Error al cargar los datos"),r([]),s({total:0,totalViews:0,featured:0,promotion:0}),C({total_favorites:0,total_users_with_favorites:0}),T({new_vehicles:0,used_vehicles:0,total_vehicles:0}),R({total_views:0,total_articles:0,avg_views_per_article:0}),I({total_vehicles:0,total_views:0,featured_vehicles:0,promotion_vehicles:0,new_vehicles:0,used_vehicles:0})}finally{i(!1)}},$=async()=>{try{k(!0);const{data:e,error:t}=await Re.supabase.from("gallery").select("*").order("created_at",{ascending:!1});if(t)throw t;b(e||[])}catch(e){console.error("Error cargando galer\xeda:",e),Ot.error("Error al cargar la galer\xeda")}finally{k(!1)}},U=async()=>{try{_(!0);const{data:e,error:t}=await Re.supabase.from("blog").select("*").order("created_at",{ascending:!1});if(t)throw t;j(e||[])}catch(e){console.error("Error cargando blog:",e),Ot.error("Error al cargar el blog")}finally{_(!1)}},V=async t=>{if(window.confirm("\xbfEst\xe1s seguro de que quieres eliminar este veh\xedculo?"))try{await(async e=>{try{return await De.deleteVehicle(e)}catch(t){throw console.error("Error eliminando veh\xedculo:",t),t}})(t),r(e.filter(e=>e.id!==t)),Ot.success("Veh\xedculo eliminado exitosamente")}catch(n){console.error("Error eliminando veh\xedculo:",n),Ot.error("Error al eliminar el veh\xedculo")}},z=e=>{u(e),l(!0)},F=()=>{l(!1),u(null)};return a?(0,Dt.jsx)(Pc,{}):(0,Dt.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Dt.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,Dt.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Panel de Administraci\xf3n"}),(0,Dt.jsx)("p",{className:"text-gray-600",children:"Gestiona tu concesionaria desde aqu\xed"})]})})}),(0,Dt.jsx)("div",{className:"bg-white border-b",children:(0,Dt.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Dt.jsx)("nav",{className:"flex space-x-8",children:[{id:"dashboard",label:"Dashboard",icon:su},{id:"vehicles",label:"Veh\xedculos",icon:nc},{id:"gallery",label:"Galer\xeda",icon:$c},{id:"blog",label:"Blog",icon:au},{id:"stats",label:"Estad\xedsticas",icon:iu}].map(e=>(0,Dt.jsxs)("button",{onClick:()=>h(e.id),className:"flex items-center py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200 "+(d===e.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,Dt.jsx)(e.icon,{className:"w-5 h-5 mr-2"}),e.label]},e.id))})})}),(0,Dt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:["dashboard"===d&&(0,Dt.jsxs)(Kl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[(0,Dt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6 mb-8",children:[(0,Dt.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,Dt.jsxs)("div",{className:"flex items-center",children:[(0,Dt.jsx)("div",{className:"p-3 rounded-full bg-blue-100 text-blue-600",children:(0,Dt.jsx)(nc,{className:"w-6 h-6"})}),(0,Dt.jsxs)("div",{className:"ml-4",children:[(0,Dt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Veh\xedculos"}),(0,Dt.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:L.total_vehicles||0})]})]})}),(0,Dt.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,Dt.jsxs)("div",{className:"flex items-center",children:[(0,Dt.jsx)("div",{className:"p-3 rounded-full bg-green-100 text-green-600",children:(0,Dt.jsx)(Vc,{className:"w-6 h-6"})}),(0,Dt.jsxs)("div",{className:"ml-4",children:[(0,Dt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Visitas"}),(0,Dt.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:L.total_views||0})]})]})}),(0,Dt.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,Dt.jsxs)("div",{className:"flex items-center",children:[(0,Dt.jsx)("div",{className:"p-3 rounded-full bg-yellow-100 text-yellow-600",children:(0,Dt.jsx)(oc,{className:"w-6 h-6"})}),(0,Dt.jsxs)("div",{className:"ml-4",children:[(0,Dt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Destacados"}),(0,Dt.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:L.featured_vehicles||0})]})]})}),(0,Dt.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,Dt.jsxs)("div",{className:"flex items-center",children:[(0,Dt.jsx)("div",{className:"p-3 rounded-full bg-red-100 text-red-600",children:(0,Dt.jsx)(iu,{className:"w-6 h-6"})}),(0,Dt.jsxs)("div",{className:"ml-4",children:[(0,Dt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Promociones"}),(0,Dt.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:L.promotion_vehicles||0})]})]})}),(0,Dt.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,Dt.jsxs)("div",{className:"flex items-center",children:[(0,Dt.jsx)("div",{className:"p-3 rounded-full bg-pink-100 text-pink-600",children:(0,Dt.jsx)(lc,{className:"w-6 h-6"})}),(0,Dt.jsxs)("div",{className:"ml-4",children:[(0,Dt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Autos Agregados a Favoritos"}),(0,Dt.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:E.total_favorites||0}),(0,Dt.jsxs)("p",{className:"text-xs text-gray-500",children:[E.total_users_with_favorites||0," usuarios"]})]})]})}),(0,Dt.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,Dt.jsxs)("div",{className:"flex items-center",children:[(0,Dt.jsx)("div",{className:"p-3 rounded-full bg-purple-100 text-purple-600",children:(0,Dt.jsx)($c,{className:"w-6 h-6"})}),(0,Dt.jsxs)("div",{className:"ml-4",children:[(0,Dt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Galer\xeda Multimedia"}),(0,Dt.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:O.total_items||0}),(0,Dt.jsxs)("p",{className:"text-xs text-gray-500",children:[O.total_views||0," vistas"]})]})]})})]}),(0,Dt.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,Dt.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,Dt.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Veh\xedculos Recientes"})}),(0,Dt.jsx)("div",{className:"overflow-x-auto",children:(0,Dt.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Dt.jsx)("thead",{className:"bg-gray-50",children:(0,Dt.jsxs)("tr",{children:[(0,Dt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Veh\xedculo"}),(0,Dt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Precio"}),(0,Dt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),(0,Dt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vistas"}),(0,Dt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),(0,Dt.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.slice(0,5).map(e=>(0,Dt.jsxs)("tr",{children:[(0,Dt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Dt.jsxs)("div",{className:"flex items-center",children:[(0,Dt.jsx)("div",{className:"h-10 w-10 flex-shrink-0",children:(0,Dt.jsx)("img",{className:"h-10 w-10 rounded-lg object-cover",src:e.images[0]||"/placeholder-car.jpg",alt:e.brand})}),(0,Dt.jsxs)("div",{className:"ml-4",children:[(0,Dt.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.brand," ",e.model]}),(0,Dt.jsxs)("div",{className:"text-sm text-gray-500",children:[e.year," \u2022 ",(e.kilometers||0).toLocaleString()," km"]})]})]})}),(0,Dt.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",(e.price||e.price_ars||0).toLocaleString()," ",e.price?"USD":"ARS"]}),(0,Dt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Dt.jsxs)("div",{className:"flex space-x-2",children:[(0,Dt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+("new"===e.condition?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"),children:"new"===e.condition?"Nuevo":"Usado"}),e.is_featured&&(0,Dt.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[(0,Dt.jsx)(oc,{className:"w-3 h-3 mr-1"}),"Destacado"]}),e.is_promotion&&(0,Dt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Oferta"})]})}),(0,Dt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,Dt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Dt.jsx)(Vc,{className:"w-4 h-4 text-gray-400"}),(0,Dt.jsx)("span",{children:e.views||0})]})}),(0,Dt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Dt.jsxs)("div",{className:"flex space-x-2",children:[(0,Dt.jsx)("button",{onClick:()=>z(e),className:"text-primary-600 hover:text-primary-900",children:(0,Dt.jsx)(ou,{className:"w-4 h-4"})}),(0,Dt.jsx)("button",{onClick:()=>V(e.id),className:"text-red-600 hover:text-red-900",children:(0,Dt.jsx)(ru,{className:"w-4 h-4"})})]})})]},e.id))})]})})]})]}),"vehicles"===d&&(0,Dt.jsx)(Kl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:(0,Dt.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,Dt.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[(0,Dt.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Todos los Veh\xedculos"}),(0,Dt.jsxs)("button",{onClick:()=>l(!0),className:"btn-primary flex items-center",children:[(0,Dt.jsx)(lu,{className:"w-4 h-4 mr-2"}),"Agregar Auto"]})]}),(0,Dt.jsx)("div",{className:"overflow-x-auto",children:(0,Dt.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Dt.jsx)("thead",{className:"bg-gray-50",children:(0,Dt.jsxs)("tr",{children:[(0,Dt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Veh\xedculo"}),(0,Dt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Precio"}),(0,Dt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),(0,Dt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vistas"}),(0,Dt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),(0,Dt.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,Dt.jsxs)("tr",{children:[(0,Dt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Dt.jsxs)("div",{className:"flex items-center",children:[(0,Dt.jsx)("div",{className:"h-10 w-10 flex-shrink-0",children:(0,Dt.jsx)("img",{className:"h-10 w-10 rounded-lg object-cover",src:e.images[0]||"/placeholder-car.jpg",alt:e.brand})}),(0,Dt.jsxs)("div",{className:"ml-4",children:[(0,Dt.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.brand," ",e.model]}),(0,Dt.jsxs)("div",{className:"text-sm text-gray-500",children:[e.year," \u2022 ",(e.kilometers||0).toLocaleString()," km"]})]})]})}),(0,Dt.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",(e.price||e.price_ars||0).toLocaleString()," ",e.price?"USD":"ARS"]}),(0,Dt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Dt.jsxs)("div",{className:"flex space-x-2",children:[(0,Dt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+("new"===e.condition?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"),children:"new"===e.condition?"Nuevo":"Usado"}),e.is_featured&&(0,Dt.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[(0,Dt.jsx)(oc,{className:"w-3 h-3 mr-1"}),"Destacado"]}),e.is_promotion&&(0,Dt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Oferta"})]})}),(0,Dt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,Dt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Dt.jsx)(Vc,{className:"w-4 h-4 text-gray-400"}),(0,Dt.jsx)("span",{children:e.views||0})]})}),(0,Dt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Dt.jsxs)("div",{className:"flex space-x-2",children:[(0,Dt.jsx)("button",{onClick:()=>z(e),className:"text-primary-600 hover:text-primary-900",children:(0,Dt.jsx)(ou,{className:"w-4 h-4"})}),(0,Dt.jsx)("button",{onClick:()=>V(e.id),className:"text-red-600 hover:text-red-900",children:(0,Dt.jsx)(ru,{className:"w-4 h-4"})})]})})]},e.id))})]})})]})}),"gallery"===d&&(0,Dt.jsx)(Kl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:(0,Dt.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,Dt.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[(0,Dt.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Galer\xeda Multimedia"}),(0,Dt.jsxs)("button",{onClick:()=>p(!0),className:"btn-primary flex items-center",children:[(0,Dt.jsx)(lu,{className:"w-4 h-4 mr-2"}),"Agregar Contenido"]})]}),N?(0,Dt.jsxs)("div",{className:"p-6 text-center",children:[(0,Dt.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,Dt.jsx)("p",{className:"mt-2 text-gray-600",children:"Cargando galer\xeda..."})]}):0===x.length?(0,Dt.jsxs)("div",{className:"p-6 text-center text-gray-500",children:[(0,Dt.jsx)($c,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,Dt.jsx)("p",{className:"text-lg font-medium",children:"Galer\xeda de Im\xe1genes y Videos"}),(0,Dt.jsx)("p",{className:"text-sm",children:"Aqu\xed podr\xe1s gestionar todo el contenido multimedia de tu sitio web."}),(0,Dt.jsxs)("button",{onClick:()=>p(!0),className:"mt-4 btn-primary",children:[(0,Dt.jsx)(lu,{className:"w-4 h-4 mr-2"}),"Subir Primer Contenido"]})]}):(0,Dt.jsx)("div",{className:"overflow-x-auto",children:(0,Dt.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Dt.jsx)("thead",{className:"bg-gray-50",children:(0,Dt.jsxs)("tr",{children:[(0,Dt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contenido"}),(0,Dt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"T\xedtulo"}),(0,Dt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categor\xeda"}),(0,Dt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),(0,Dt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),(0,Dt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vistas"}),(0,Dt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),(0,Dt.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(e=>(0,Dt.jsxs)("tr",{children:[(0,Dt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Dt.jsx)("div",{className:"h-12 w-12 flex-shrink-0",children:"video"===e.type?(0,Dt.jsx)("video",{src:e.url,className:"h-12 w-12 rounded-lg object-cover",muted:!0}):(0,Dt.jsx)("img",{className:"h-12 w-12 rounded-lg object-cover",src:e.url,alt:e.title})})}),(0,Dt.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Dt.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,Dt.jsx)("div",{className:"text-sm text-gray-500",children:e.description})]}),(0,Dt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Dt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:e.category})}),(0,Dt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Dt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+("video"===e.type?"bg-purple-100 text-purple-800":"bg-green-100 text-green-800"),children:"video"===e.type?"Video":"Imagen"})}),(0,Dt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.created_at).toLocaleDateString("es-ES")}),(0,Dt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,Dt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Dt.jsx)(Vc,{className:"w-4 h-4 text-gray-400"}),(0,Dt.jsx)("span",{children:e.views||0})]})}),(0,Dt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Dt.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1s seguro de que quieres eliminar este elemento de la galer\xeda?"))try{const{error:t}=await Re.supabase.from("gallery").delete().eq("id",e);if(t)throw t;b(x.filter(t=>t.id!==e)),Ot.success("Elemento eliminado de la galer\xeda")}catch(t){console.error("Error eliminando elemento:",t),Ot.error("Error al eliminar el elemento")}})(e.id),className:"text-red-600 hover:text-red-900",children:(0,Dt.jsx)(ru,{className:"w-4 h-4"})})})]},e.id))})]})})]})}),"blog"===d&&(0,Dt.jsx)(Kl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:(0,Dt.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,Dt.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[(0,Dt.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Blog Corporativo"}),(0,Dt.jsxs)("button",{onClick:()=>g(!0),className:"btn-primary flex items-center",children:[(0,Dt.jsx)(lu,{className:"w-4 h-4 mr-2"}),"Crear Art\xedculo"]})]}),S?(0,Dt.jsxs)("div",{className:"p-6 text-center",children:[(0,Dt.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mx-auto"}),(0,Dt.jsx)("p",{className:"mt-2 text-gray-600",children:"Cargando blog..."})]}):0===w.length?(0,Dt.jsxs)("div",{className:"p-6 text-center text-gray-500",children:[(0,Dt.jsx)(au,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,Dt.jsx)("p",{className:"text-lg font-medium",children:"Gesti\xf3n de Art\xedculos"}),(0,Dt.jsx)("p",{className:"text-sm",children:"Crea y gestiona art\xedculos para mantener informados a tus clientes."}),(0,Dt.jsxs)("button",{onClick:()=>g(!0),className:"mt-4 btn-primary",children:[(0,Dt.jsx)(lu,{className:"w-4 h-4 mr-2"}),"Escribir Primer Art\xedculo"]})]}):(0,Dt.jsx)("div",{className:"overflow-x-auto",children:(0,Dt.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Dt.jsx)("thead",{className:"bg-gray-50",children:(0,Dt.jsxs)("tr",{children:[(0,Dt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Art\xedculo"}),(0,Dt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"T\xedtulo"}),(0,Dt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categor\xeda"}),(0,Dt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),(0,Dt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),(0,Dt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vistas"}),(0,Dt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),(0,Dt.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map(e=>(0,Dt.jsxs)("tr",{children:[(0,Dt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Dt.jsx)("div",{className:"h-12 w-12 flex-shrink-0",children:e.image?(0,Dt.jsx)("img",{className:"h-12 w-12 rounded-lg object-cover",src:e.image,alt:e.title}):(0,Dt.jsx)("div",{className:"h-12 w-12 rounded-lg bg-gray-200 flex items-center justify-center",children:(0,Dt.jsx)(au,{className:"w-6 h-6 text-gray-400"})})})}),(0,Dt.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Dt.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,Dt.jsx)("div",{className:"text-sm text-gray-500",children:e.excerpt})]}),(0,Dt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Dt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:e.category})}),(0,Dt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Dt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+(e.published?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.published?"Publicado":"Borrador"})}),(0,Dt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.created_at).toLocaleDateString("es-ES")}),(0,Dt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,Dt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Dt.jsx)(Vc,{className:"w-4 h-4 text-gray-400"}),(0,Dt.jsx)("span",{children:e.views||0})]})}),(0,Dt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Dt.jsxs)("div",{className:"flex space-x-2",children:[(0,Dt.jsx)("button",{onClick:()=>(e=>{y(e),g(!0)})(e),className:"text-blue-600 hover:text-blue-900",children:(0,Dt.jsx)(ou,{className:"w-4 h-4"})}),(0,Dt.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1s seguro de que quieres eliminar este art\xedculo?"))try{const{error:t}=await Re.supabase.from("blog").delete().eq("id",e);if(t)throw t;j(w.filter(t=>t.id!==e)),Ot.success("Art\xedculo eliminado")}catch(t){console.error("Error eliminando art\xedculo:",t),Ot.error("Error al eliminar el art\xedculo")}})(e.id),className:"text-red-600 hover:text-red-900",children:(0,Dt.jsx)(ru,{className:"w-4 h-4"})})]})})]},e.id))})]})})]})}),"stats"===d&&(0,Dt.jsx)(Kl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:(0,Dt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Dt.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Dt.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[(0,Dt.jsx)(nc,{className:"w-5 h-5 mr-2 text-blue-600"}),"Distribuci\xf3n por Condici\xf3n"]}),(0,Dt.jsxs)("div",{className:"space-y-4",children:[(0,Dt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Dt.jsx)("span",{className:"text-sm text-gray-600",children:"Nuevos"}),(0,Dt.jsx)("span",{className:"text-sm font-medium text-green-600",children:P.new_vehicles||0})]}),(0,Dt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Dt.jsx)("span",{className:"text-sm text-gray-600",children:"Usados"}),(0,Dt.jsx)("span",{className:"text-sm font-medium text-blue-600",children:P.used_vehicles||0})]}),(0,Dt.jsx)("div",{className:"border-t pt-2",children:(0,Dt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Dt.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Total"}),(0,Dt.jsx)("span",{className:"text-sm font-bold text-gray-900",children:P.total_vehicles||0})]})})]})]}),(0,Dt.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Dt.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[(0,Dt.jsx)(su,{className:"w-5 h-5 mr-2 text-green-600"}),"Estad\xedsticas Generales"]}),(0,Dt.jsxs)("div",{className:"space-y-4",children:[(0,Dt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Dt.jsx)("span",{className:"text-sm text-gray-600",children:"Total Veh\xedculos"}),(0,Dt.jsx)("span",{className:"text-sm font-medium text-gray-900",children:L.total_vehicles||0})]}),(0,Dt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Dt.jsx)("span",{className:"text-sm text-gray-600",children:"Total Visitas"}),(0,Dt.jsx)("span",{className:"text-sm font-medium text-gray-900",children:L.total_views||0})]}),(0,Dt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Dt.jsx)("span",{className:"text-sm text-gray-600",children:"Destacados"}),(0,Dt.jsx)("span",{className:"text-sm font-medium text-yellow-600",children:L.featured_vehicles||0})]}),(0,Dt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Dt.jsx)("span",{className:"text-sm text-gray-600",children:"Promociones"}),(0,Dt.jsx)("span",{className:"text-sm font-medium text-red-600",children:L.promotion_vehicles||0})]})]})]}),(0,Dt.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Dt.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[(0,Dt.jsx)(au,{className:"w-5 h-5 mr-2 text-purple-600"}),"Estad\xedsticas de Blog"]}),(0,Dt.jsxs)("div",{className:"space-y-4",children:[(0,Dt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Dt.jsx)("span",{className:"text-sm text-gray-600",children:"Total Art\xedculos"}),(0,Dt.jsx)("span",{className:"text-sm font-medium text-gray-900",children:A.total_articles||0})]}),(0,Dt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Dt.jsx)("span",{className:"text-sm text-gray-600",children:"Total Vistas"}),(0,Dt.jsx)("span",{className:"text-sm font-medium text-gray-900",children:A.total_views||0})]}),(0,Dt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Dt.jsx)("span",{className:"text-sm text-gray-600",children:"Promedio por Art\xedculo"}),(0,Dt.jsx)("span",{className:"text-sm font-medium text-purple-600",children:A.avg_views_per_article||0})]})]})]}),(0,Dt.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Dt.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[(0,Dt.jsx)($c,{className:"w-5 h-5 mr-2 text-purple-600"}),"Estad\xedsticas de Galer\xeda"]}),(0,Dt.jsxs)("div",{className:"space-y-4",children:[(0,Dt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Dt.jsx)("span",{className:"text-sm text-gray-600",children:"Total Elementos"}),(0,Dt.jsx)("span",{className:"text-sm font-medium text-gray-900",children:O.total_items||0})]}),(0,Dt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Dt.jsx)("span",{className:"text-sm text-gray-600",children:"Total Vistas"}),(0,Dt.jsx)("span",{className:"text-sm font-medium text-gray-900",children:O.total_views||0})]}),(0,Dt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Dt.jsx)("span",{className:"text-sm text-gray-600",children:"Promedio por Elemento"}),(0,Dt.jsx)("span",{className:"text-sm font-medium text-purple-600",children:O.avg_views_per_item||0})]}),(0,Dt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Dt.jsx)("span",{className:"text-sm text-gray-600",children:"Visitantes \xdanicos"}),(0,Dt.jsx)("span",{className:"text-sm font-medium text-blue-600",children:O.total_unique_visitors||0})]})]})]})]})})]}),o&&(0,Dt.jsx)(hu,{vehicle:c,onClose:F,onSuccess:()=>{F(),M()}}),m&&(0,Dt.jsx)(mu,{onClose:()=>p(!1),onSuccess:()=>{p(!1),$(),Ot.success("Contenido agregado a la galer\xeda")}}),f&&(0,Dt.jsx)(fu,{editArticle:v,onClose:()=>{g(!1),y(null)},onSuccess:()=>{g(!1),y(null),U(),Ot.success(v?"Art\xedculo actualizado":"Art\xedculo creado")}})]})},vu=Ut("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),yu=()=>{const{currentUser:e}=It(),[r,n]=(0,t.useState)([]),[s,a]=(0,t.useState)(!0),[i,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)(null),[h,m]=(0,t.useState)(!1),[p,f]=(0,t.useState)(!0),[g,v]=(0,t.useState)({email:"",role:"cliente"}),y=[{value:"cliente",label:"Cliente",icon:Vt,color:"bg-gray-100 text-gray-800"},{value:"admin",label:"Administrador",icon:vu,color:"bg-blue-100 text-blue-800"},{value:"owner",label:"Due\xf1o",icon:zt,color:"bg-purple-100 text-purple-800"}];(0,t.useEffect)(()=>{(async()=>{if(e)try{if(f(!0),console.log("\ud83d\udd0d Verificando permisos de owner para:",e.email),"oterov101@gmail.com"===e.email)return console.log("\ud83d\udc51 OWNER FORZADO para oterov101@gmail.com"),void m(!0);const t="oterov101@gmail.com"===e.email;m(t),console.log("\u2705 Permisos verificados:",{email:e.email,isOwner:t})}catch(t){console.error("\u274c Error en verificaci\xf3n de permisos:",t),m(!1)}finally{f(!1)}else f(!1)})()},[e]),(0,t.useEffect)(()=>{h&&x()},[h]);const x=async()=>{try{a(!0),console.log("\ud83d\udd0d Cargando usuarios desde la base de datos...");let e=[];try{console.log("\ud83d\udd0d Obteniendo usuarios reales de la DB...");const{data:t,error:r}=await Re.supabase.from("profiles").select("*").order("created_at",{ascending:!1});r?(console.warn("\u26a0\ufe0f Error obteniendo perfiles de DB:",r),console.log("\u2139\ufe0f Usando datos de ejemplo como fallback"),e=[{id:"4d3a21a6-cc21-4d72-8888-80ed99e9d9fe",email:"oterov101@gmail.com",display_name:"Administrador Principal",role:"owner",created_at:"2025-08-07T22:00:57.345228+00:00",updated_at:"2025-08-08T03:05:04.462677+00:00",last_sign_in:(new Date).toISOString(),email_confirmed:!0},{id:"f4937aae-e054-4fd3-9a5c-bdfea1234567",email:"oterov006@gmail.com",display_name:"Valentin Otero",role:"cliente",created_at:"2025-08-08T00:59:41.291027+00:00",updated_at:"2025-08-08T00:59:41.291027+00:00",last_sign_in:(new Date).toISOString(),email_confirmed:!0}]):(console.log("\u2705 Usuarios obtenidos de DB:",t),e=t.map(e=>({id:e.id,email:e.email,display_name:e.display_name||"Usuario",role:e.role||"cliente",created_at:e.created_at,updated_at:e.updated_at,last_sign_in:(new Date).toISOString(),email_confirmed:!0})))}catch(r){console.warn("\u26a0\ufe0f Error obteniendo usuarios de DB:",r),e=[{id:"4d3a21a6-cc21-4d72-8888-80ed99e9d9fe",email:"oterov101@gmail.com",display_name:"Administrador Principal",role:"owner",created_at:"2025-08-07T22:00:57.345228+00:00",updated_at:"2025-08-08T03:05:04.462677+00:00",last_sign_in:(new Date).toISOString(),email_confirmed:!0},{id:"f4937aae-e054-4fd3-9a5c-bdfea1234567",email:"oterov006@gmail.com",display_name:"Valentin Otero",role:"cliente",created_at:"2025-08-08T00:59:41.291027+00:00",updated_at:"2025-08-08T00:59:41.291027+00:00",last_sign_in:(new Date).toISOString(),email_confirmed:!0}]}console.log("\u2705 Usuarios cargados:",e.length),console.log("\ud83d\udccb Usuarios:",e),n(e)}catch(s){var t;if(console.error("\u274c Error cargando usuarios:",s),Ot.error("Error al cargar los usuarios: "+s.message),e)n([{id:e.id,email:e.email,display_name:(null===(t=e.user_metadata)||void 0===t?void 0:t.display_name)||"Usuario Principal",role:"oterov101@gmail.com"===e.email?"owner":"cliente",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),last_sign_in:(new Date).toISOString(),email_confirmed:!0}])}finally{a(!1)}},b=r.filter(e=>e.email.toLowerCase().includes(i.toLowerCase())),w=e=>y.find(t=>t.value===e)||y[0],j=e=>e?new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Nunca";return s||p?(0,Dt.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Dt.jsxs)("div",{className:"text-center",children:[(0,Dt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),(0,Dt.jsx)("p",{className:"text-gray-600",children:"Verificando permisos..."})]})}):h?(0,Dt.jsxs)("div",{className:"space-y-6",children:[(0,Dt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Dt.jsxs)("div",{children:[(0,Dt.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[(0,Dt.jsx)(zt,{className:"w-6 h-6 text-purple-600 mr-2"}),"Gesti\xf3n de Usuarios"]}),(0,Dt.jsx)("p",{className:"text-gray-600 mt-1",children:"Administra usuarios y sus roles en el sistema"})]}),(0,Dt.jsxs)("button",{onClick:()=>c(!0),className:"btn-primary flex items-center",children:[(0,Dt.jsx)(lu,{className:"w-4 h-4 mr-2"}),"Agregar Usuario"]})]}),(0,Dt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Dt.jsx)("div",{className:"bg-white rounded-lg shadow p-4",children:(0,Dt.jsxs)("div",{className:"flex items-center",children:[(0,Dt.jsx)(Lc,{className:"w-8 h-8 text-blue-600"}),(0,Dt.jsxs)("div",{className:"ml-4",children:[(0,Dt.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Usuarios"}),(0,Dt.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:r.length})]})]})}),(0,Dt.jsx)("div",{className:"bg-white rounded-lg shadow p-4",children:(0,Dt.jsxs)("div",{className:"flex items-center",children:[(0,Dt.jsx)(zt,{className:"w-8 h-8 text-purple-600"}),(0,Dt.jsxs)("div",{className:"ml-4",children:[(0,Dt.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Due\xf1os"}),(0,Dt.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:r.filter(e=>"owner"===e.role).length})]})]})}),(0,Dt.jsx)("div",{className:"bg-white rounded-lg shadow p-4",children:(0,Dt.jsxs)("div",{className:"flex items-center",children:[(0,Dt.jsx)(vu,{className:"w-8 h-8 text-blue-600"}),(0,Dt.jsxs)("div",{className:"ml-4",children:[(0,Dt.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Administradores"}),(0,Dt.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:r.filter(e=>"admin"===e.role).length})]})]})}),(0,Dt.jsx)("div",{className:"bg-white rounded-lg shadow p-4",children:(0,Dt.jsxs)("div",{className:"flex items-center",children:[(0,Dt.jsx)(Vt,{className:"w-8 h-8 text-gray-600"}),(0,Dt.jsxs)("div",{className:"ml-4",children:[(0,Dt.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Clientes"}),(0,Dt.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:r.filter(e=>"cliente"===e.role).length})]})]})})]}),(0,Dt.jsx)("div",{className:"bg-white rounded-lg shadow p-4",children:(0,Dt.jsxs)("div",{className:"relative",children:[(0,Dt.jsx)(sc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Dt.jsx)("input",{type:"text",placeholder:"Buscar usuarios por email...",value:i,onChange:e=>{return t=e.target.value,void o(t);var t},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})}),(0,Dt.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,Dt.jsx)("div",{className:"overflow-x-auto",children:(0,Dt.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Dt.jsx)("thead",{className:"bg-gray-50",children:(0,Dt.jsxs)("tr",{children:[(0,Dt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usuario"}),(0,Dt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rol"}),(0,Dt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Creado"}),(0,Dt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\xdaltimo acceso"}),(0,Dt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),(0,Dt.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(t=>{w(t.role);return(0,Dt.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Dt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Dt.jsxs)("div",{className:"flex items-center",children:[(0,Dt.jsx)(ec,{className:"w-5 h-5 text-gray-400 mr-3"}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("div",{className:"text-sm font-medium text-gray-900",children:t.email}),t.email===(null===e||void 0===e?void 0:e.email)&&(0,Dt.jsx)("div",{className:"text-xs text-blue-600",children:"(T\xfa)"})]})]})}),(0,Dt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Dt.jsx)("select",{value:t.role,onChange:s=>(async(t,s)=>{if(h)try{if(console.log(`\ud83d\udd04 Cambiando rol del usuario ${t} a ${s}`),"oterov101@gmail.com"!==e.email)return void Ot.error("Solo los due\xf1os pueden cambiar roles de usuarios");const i=r.find(e=>e.id===t);if("oterov101@gmail.com"===(null===i||void 0===i?void 0:i.email)&&"owner"!==s)return void Ot.error("No puedes cambiar tu propio rol de due\xf1o");try{console.log("\ud83d\udd04 Actualizando rol en DB para usuario:",t);const{data:e,error:r}=await Re.supabase.from("profiles").update({role:s,updated_at:(new Date).toISOString()}).eq("id",t).select().single();r?console.warn("\u26a0\ufe0f Error actualizando en DB (continuando localmente):",r):console.log("\u2705 Rol actualizado exitosamente en DB:",e)}catch(a){console.warn("\u26a0\ufe0f No se pudo actualizar en DB (continuando localmente):",a)}n(e=>e.map(e=>e.id===t?{...e,role:s,updated_at:(new Date).toISOString()}:e)),console.log("\u2705 Rol actualizado exitosamente"),Ot.success(`Rol actualizado a ${w(s).label}`)}catch(i){console.error("\u274c Error cambiando rol:",i),Ot.error("Error al cambiar el rol: "+i.message)}else Ot.error("Solo los due\xf1os pueden cambiar roles de usuarios")})(t.id,s.target.value),disabled:"oterov101@gmail.com"===t.email,className:"text-sm border border-gray-300 rounded px-2 py-1 disabled:bg-gray-100 disabled:cursor-not-allowed",children:y.map(e=>(0,Dt.jsx)("option",{value:e.value,children:e.label},e.value))})}),(0,Dt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(t.created_at)}),(0,Dt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(t.last_sign_in)}),(0,Dt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Dt.jsx)("div",{className:"flex space-x-2",children:"oterov101@gmail.com"!==t.email&&(0,Dt.jsx)("button",{onClick:()=>(async t=>{if(!h)return void Ot.error("Solo los due\xf1os pueden eliminar usuarios");const s=r.find(e=>e.id===t);if("oterov101@gmail.com"===e.email)if("oterov101@gmail.com"!==(null===s||void 0===s?void 0:s.email)){if(window.confirm(`\xbfEst\xe1s seguro de eliminar al usuario ${null===s||void 0===s?void 0:s.email}?\n\nEsta acci\xf3n eliminar\xe1:\n- El perfil del usuario\n- Su acceso al sistema\n\nEsta acci\xf3n no se puede deshacer.`))try{console.log(`\ud83d\uddd1\ufe0f Eliminando usuario ${t} (${null===s||void 0===s?void 0:s.email})`);try{console.log("\ud83d\udd04 Eliminando usuario de DB:",t);const{data:e,error:r}=await Re.supabase.from("profiles").delete().eq("id",t).select().single();r?console.warn("\u26a0\ufe0f Error eliminando de DB (continuando localmente):",r):console.log("\u2705 Usuario eliminado exitosamente de DB:",e)}catch(a){console.warn("\u26a0\ufe0f No se pudo eliminar de DB (continuando localmente):",a)}console.log("\u2139\ufe0f Omitiendo eliminaci\xf3n de auth.users (requiere permisos de servidor)"),console.log("\u2139\ufe0f Solo se eliminar\xe1 el perfil de la tabla profiles"),n(e=>e.filter(e=>e.id!==t)),console.log("\u2705 Usuario eliminado exitosamente"),Ot.success("Usuario eliminado exitosamente")}catch(i){console.error("\u274c Error eliminando usuario:",i),Ot.error("Error al eliminar el usuario: "+i.message)}}else Ot.error("No puedes eliminar al due\xf1o principal");else Ot.error("Solo los due\xf1os pueden eliminar usuarios")})(t.id),className:"text-red-600 hover:text-red-900",title:"Eliminar usuario",children:(0,Dt.jsx)(ru,{className:"w-4 h-4"})})})})]},t.id)})})]})})}),l&&(0,Dt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Dt.jsxs)(Kl.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[(0,Dt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Dt.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Agregar Nuevo Usuario"}),(0,Dt.jsx)("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Dt.jsx)(qt,{className:"w-5 h-5"})})]}),(0,Dt.jsxs)("div",{className:"space-y-4",children:[(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,Dt.jsx)("input",{type:"email",value:g.email,onChange:e=>v({...g,email:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"usuario@ejemplo.com"})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rol"}),(0,Dt.jsx)("select",{value:g.role,onChange:e=>v({...g,role:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:y.map(e=>(0,Dt.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,Dt.jsxs)("div",{className:"flex space-x-3 mt-6",children:[(0,Dt.jsx)("button",{onClick:()=>c(!1),className:"flex-1 px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"}),(0,Dt.jsx)("button",{onClick:async()=>{if(!h)return void Ot.error("Solo los due\xf1os pueden agregar usuarios");if(!g.email)return void Ot.error("El email es obligatorio");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g.email))return void Ot.error("Por favor ingresa un email v\xe1lido");const t=r.find(e=>e.email.toLowerCase()===g.email.toLowerCase());if(t)Ot.error("Ya existe un usuario con este email");else try{console.log("\ud83c\udd95 Agregando usuario:",g);const{data:t,error:r}=await Re.supabase.from("profiles").select("role").eq("id",e.id).maybeSingle();if(r||"owner"!==t.role)return void Ot.error("No tienes permisos para realizar esta acci\xf3n");console.log("\u2139\ufe0f Omitiendo creaci\xf3n en auth.users (requiere permisos de servidor)"),console.log("\u2139\ufe0f Solo se crear\xe1 el perfil en la tabla profiles");try{console.log("\ud83d\udd04 Creando usuario en DB:",g.email);const{data:e,error:t}=await Re.supabase.from("profiles").insert([{email:g.email,display_name:g.email.split("@")[0],role:g.role,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()}]).select().single();if(t){console.warn("\u26a0\ufe0f Error creando en DB (continuando localmente):",t);const e={id:`user_${Date.now()}`,email:g.email,display_name:g.email.split("@")[0],role:g.role,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),last_sign_in:null,email_confirmed:!0};n(t=>[e,...t])}else{console.log("\u2705 Usuario creado exitosamente en DB:",e);const t={id:e.id,email:e.email,display_name:e.display_name,role:e.role,created_at:e.created_at,updated_at:e.updated_at,last_sign_in:null,email_confirmed:!0};n(e=>[t,...e])}}catch(s){console.warn("\u26a0\ufe0f No se pudo crear en DB (continuando localmente):",s);const e={id:`user_${Date.now()}`,email:g.email,display_name:g.email.split("@")[0],role:g.role,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),last_sign_in:null,email_confirmed:!0};n(t=>[e,...t])}console.log("\u2705 Usuario agregado exitosamente"),Ot.success(`Usuario ${g.email} agregado con rol ${w(g.role).label}`),v({email:"",role:"cliente"}),c(!1)}catch(a){console.error("\u274c Error agregando usuario:",a),Ot.error("Error al agregar el usuario: "+a.message)}},className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Agregar Usuario"})]})]})})]}):(0,Dt.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Dt.jsxs)("div",{className:"text-center",children:[(0,Dt.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Dt.jsx)(zt,{className:"w-8 h-8 text-red-600"})}),(0,Dt.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Acceso Denegado"}),(0,Dt.jsx)("p",{className:"text-gray-600 mb-4",children:"Solo los due\xf1os pueden acceder a la gesti\xf3n de usuarios."}),(0,Dt.jsx)("p",{className:"text-sm text-gray-500",children:"Tu rol actual no tiene permisos para esta funci\xf3n."})]})})},xu=e=>{let{children:t}=e;const{currentUser:r,isClient:n,userRole:s,loading:a}=It();return console.log("\ud83d\udee1\ufe0f ProtectedRoute verificando acceso:",{currentUser:null===r||void 0===r?void 0:r.email,userRole:s,isClient:n(),loading:a}),a?(0,Dt.jsx)("div",{children:"Cargando..."}):r?n()?(console.log("\u2705 ProtectedRoute: Acceso permitido"),t):(console.log("\ud83d\udeab ProtectedRoute: Usuario no es cliente/admin, redirigiendo a home"),(0,Dt.jsx)(fe,{to:"/",replace:!0})):(console.log("\ud83d\udeab ProtectedRoute: No hay usuario, redirigiendo a login"),(0,Dt.jsx)(fe,{to:"/login",replace:!0}))},bu=e=>{let{children:t}=e;const{currentUser:r,isAdmin:n,userRole:s,loading:a}=It();return console.log("\ud83d\udee1\ufe0f AdminRoute verificando acceso:",{currentUser:null===r||void 0===r?void 0:r.email,userRole:s,isAdmin:n(),loading:a}),a?(0,Dt.jsx)("div",{children:"Cargando..."}):r?n()?(console.log("\u2705 AdminRoute: Acceso permitido"),t):(console.log("\ud83d\udeab AdminRoute: Usuario no es admin, redirigiendo a home"),(0,Dt.jsx)(fe,{to:"/",replace:!0})):(console.log("\ud83d\udeab AdminRoute: No hay usuario, redirigiendo a login"),(0,Dt.jsx)(fe,{to:"/login",replace:!0}))},wu=e=>{let{children:r}=e;const{currentUser:n,isOwner:s,userRole:a,loading:i}=It(),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{i||(async()=>{if(n)try{u(!0);const e="oterov101@gmail.com"===n.email||"owner"===a;l(e),console.log("\ud83d\udc51 OwnerRoute verificaci\xf3n completada:",{currentUser:null===n||void 0===n?void 0:n.email,userRole:a,isOwner:e})}catch(e){console.error("\u274c Error verificando owner:",e),l(!1)}finally{u(!1)}else u(!1)})()},[n,i,a]),i||c?(0,Dt.jsx)("div",{children:"Cargando..."}):n?o?(console.log("\u2705 OwnerRoute: Acceso permitido"),r):(console.log("\ud83d\udeab OwnerRoute: Usuario no es owner, redirigiendo a home"),(0,Dt.jsx)(fe,{to:"/",replace:!0})):(console.log("\ud83d\udeab OwnerRoute: No hay usuario, redirigiendo a login"),(0,Dt.jsx)(fe,{to:"/login",replace:!0}))};const ju=function(){const{loading:e}=It();return e?(0,Dt.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Dt.jsxs)("div",{className:"text-center",children:[(0,Dt.jsx)(Pc,{}),(0,Dt.jsx)("p",{className:"mt-4 text-gray-600",children:"Cargando aplicaci\xf3n..."})]})}):(0,Dt.jsx)(Se,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:(0,Dt.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,Dt.jsx)(Gl,{}),(0,Dt.jsx)("main",{className:"flex-grow",children:(0,Dt.jsxs)(ye,{children:[(0,Dt.jsx)(ge,{path:"/",element:(0,Dt.jsx)(Nc,{})}),(0,Dt.jsx)(ge,{path:"/catalogo",element:(0,Dt.jsx)(Tc,{})}),(0,Dt.jsx)(ge,{path:"/vehiculo/:id",element:(0,Dt.jsx)(Oc,{})}),(0,Dt.jsx)(ge,{path:"/nosotros",element:(0,Dt.jsx)(Mc,{})}),(0,Dt.jsx)(ge,{path:"/galeria",element:(0,Dt.jsx)(Bc,{})}),(0,Dt.jsx)(ge,{path:"/blog",element:(0,Dt.jsx)(Gc,{})}),(0,Dt.jsx)(ge,{path:"/login",element:(0,Dt.jsx)(Qc,{})}),(0,Dt.jsx)(ge,{path:"/registro",element:(0,Dt.jsx)(Xc,{})}),(0,Dt.jsx)(ge,{path:"/reset-password",element:(0,Dt.jsx)(eu,{})}),(0,Dt.jsx)(ge,{path:"/perfil",element:(0,Dt.jsx)(xu,{children:(0,Dt.jsx)(nu,{})})}),(0,Dt.jsx)(ge,{path:"/admin",element:(0,Dt.jsx)(bu,{children:(0,Dt.jsx)(gu,{})})}),(0,Dt.jsx)(ge,{path:"/users",element:(0,Dt.jsx)(wu,{children:(0,Dt.jsx)(yu,{})})})]})}),(0,Dt.jsx)(tc,{})]})})};s.createRoot(document.getElementById("root")).render((0,Dt.jsx)(t.StrictMode,{children:(0,Dt.jsxs)(Mt,{children:[(0,Dt.jsx)(ju,{}),(0,Dt.jsx)(Rt,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})}))})()})();
//# sourceMappingURL=main.fa35fb90.js.map