{"ast":null,"code":"import React,{useState,useEffect}from'react';import{X,Upload,Plus,Trash2,ChevronUp,ChevronDown,Check}from'lucide-react';import{motion,AnimatePresence}from'framer-motion';import{createVehicle,updateVehicle,uploadImage}from'../../services/vehicleService';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const VehicleForm=_ref=>{let{vehicle,onClose,onSuccess}=_ref;const[formData,setFormData]=useState({brand:'',model:'',version:'',year:new Date().getFullYear(),kilometers:0,price:0,currency:'USD',// Nueva campo para la moneda\ncondition:'used',transmission:'manual',fuelType:'gasoline',color:'',type:'sedan',location:'',engine:'',power:'',features:[],featured:false,promotion:false});const[images,setImages]=useState([]);const[existingImages,setExistingImages]=useState([]);const[imagesToDelete,setImagesToDelete]=useState([]);const[loading,setLoading]=useState(false);const[newFeature,setNewFeature]=useState('');const[showFeatureDropdown,setShowFeatureDropdown]=useState(false);useEffect(()=>{if(vehicle){setFormData({brand:vehicle.brand||'',model:vehicle.model||'',version:vehicle.version||'',year:vehicle.year||new Date().getFullYear(),kilometers:vehicle.kilometers||0,price:vehicle.price||vehicle.price_ars||0,currency:vehicle.price&&vehicle.price>0?'USD':'ARS',// Detectar moneda basada en qu√© campo tiene valor\ncondition:vehicle.condition||'used',transmission:vehicle.transmission||'manual',fuelType:vehicle.fuel_type||'gasoline',// Corregir nombre del campo\ncolor:vehicle.color||'',type:vehicle.type||'sedan',location:vehicle.location||'',engine:vehicle.engine||'',power:vehicle.power||'',features:vehicle.features||[],featured:vehicle.is_featured||false,// Corregir nombre del campo\npromotion:vehicle.is_promotion||false// Corregir nombre del campo\n});// Cargar im√°genes existentes\nsetExistingImages(vehicle.images||[]);setImages([]);// Limpiar las nuevas im√°genes\nsetImagesToDelete([]);// Limpiar im√°genes a eliminar\n}},[vehicle]);const handleChange=e=>{const{name,value,type,checked}=e.target;setFormData(prev=>({...prev,[name]:type==='checkbox'?checked:value}));};const handleImageChange=e=>{const files=Array.from(e.target.files);setImages(prev=>[...prev,...files]);};const removeImage=index=>{setImages(prev=>prev.filter((_,i)=>i!==index));};const removeExistingImage=index=>{const imageToDelete=existingImages[index];setImagesToDelete(prev=>[...prev,imageToDelete]);setExistingImages(prev=>prev.filter((_,i)=>i!==index));};const moveImage=(fromIndex,toIndex)=>{setImages(prev=>{const newImages=[...prev];const[movedImage]=newImages.splice(fromIndex,1);newImages.splice(toIndex,0,movedImage);return newImages;});};const moveExistingImage=(fromIndex,toIndex)=>{setExistingImages(prev=>{const newImages=[...prev];const[movedImage]=newImages.splice(fromIndex,1);newImages.splice(toIndex,0,movedImage);return newImages;});};const addFeature=()=>{if(newFeature.trim()){setFormData(prev=>({...prev,features:[...prev.features,newFeature.trim()]}));setNewFeature('');}};const removeFeature=index=>{setFormData(prev=>({...prev,features:prev.features.filter((_,i)=>i!==index)}));};const moveFeature=(fromIndex,toIndex)=>{setFormData(prev=>{const newFeatures=[...prev.features];const[movedFeature]=newFeatures.splice(fromIndex,1);newFeatures.splice(toIndex,0,movedFeature);return{...prev,features:newFeatures};});};const togglePredefinedFeature=feature=>{setFormData(prev=>{const exists=prev.features.includes(feature);return{...prev,features:exists?prev.features.filter(f=>f!==feature):[...prev.features,feature]};});};const handleSubmit=async e=>{e.preventDefault();if(loading){console.log('‚è≥ Ya se est√° procesando, ignorando...');return;}setLoading(true);try{// Validar que haya precio\nconst priceValue=parseFloat(formData.price)||0;if(priceValue<=0){toast.error('Debes ingresar un precio v√°lido');setLoading(false);return;}// Transformar datos para que coincidan con la estructura de Supabase\nconst vehicleData={brand:formData.brand||'',model:formData.model||'',year:parseInt(formData.year)||new Date().getFullYear(),kilometers:parseInt(formData.kilometers)||0,// L√≥gica de moneda: solo llenar el campo correspondiente\nprice:formData.currency==='USD'?priceValue:null,price_ars:formData.currency==='ARS'?priceValue:null,condition:formData.condition||'used',transmission:formData.transmission||'manual',fuel_type:formData.fuelType||'gasoline',// Asegurar que tenga un valor por defecto\ncolor:formData.color||'',type:formData.type||'sedan',location:formData.location||'',engine:formData.engine||'',power:formData.power||'',features:formData.features||[],is_featured:formData.featured||false,// Corregir nombre del campo\nis_promotion:formData.promotion||false,// Corregir nombre del campo\nimages:[]};console.log('üìù Datos del formulario:',formData);console.log('üí∞ Precio original:',formData.price,'Moneda:',formData.currency);console.log('üí∞ Precio procesado:',priceValue);console.log('üìù Datos del veh√≠culo a guardar:',vehicleData);console.log('üîç fuel_type espec√≠ficamente:',vehicleData.fuel_type);console.log('üíµ price (USD):',vehicleData.price);console.log('üí± price_ars (ARS):',vehicleData.price_ars);if(vehicle){// Actualizar veh√≠culo existente\nconsole.log('üîÑ Actualizando veh√≠culo existente...');// Validar que haya al menos una imagen (existente o nueva)\nif(existingImages.length===0&&images.length===0){toast.error('Debes tener al menos una imagen para el veh√≠culo');setLoading(false);return;}// Eliminar im√°genes marcadas para eliminar del storage\nif(imagesToDelete.length>0){console.log('üóëÔ∏è Eliminando im√°genes del storage:',imagesToDelete.length);for(const imageUrl of imagesToDelete){try{// Extraer el path de la imagen de la URL\nconst urlParts=imageUrl.split('/');const fileName=urlParts[urlParts.length-1];const filePath=`vehicles/${fileName}`;console.log('üóëÔ∏è Eliminando imagen del storage:',filePath);// Importar supabase para eliminar imagen\nconst{supabase}=await import('../../supabase/config');const{error:storageError}=await supabase.storage.from('vehicle-images').remove([filePath]);if(storageError){console.error('‚ùå Error eliminando imagen del storage:',storageError);}else{console.log('‚úÖ Imagen eliminada del storage exitosamente:',filePath);}}catch(imageError){console.error('‚ùå Error procesando eliminaci√≥n de imagen:',imageError);}}}// Si hay nuevas im√°genes, subirlas\nconst newImageUrls=[];if(images.length>0){console.log('üì§ Subiendo nuevas im√°genes...');for(let i=0;i<images.length;i++){try{console.log(`üì∑ Subiendo nueva imagen ${i+1}/${images.length}...`);const imageUrl=await uploadImage(images[i],vehicle.id,existingImages.length+i);newImageUrls.push(imageUrl);console.log(`‚úÖ Nueva imagen ${i+1} subida exitosamente:`,imageUrl);}catch(imageError){console.error(`‚ùå Error subiendo nueva imagen ${i+1}:`,imageError);toast.error(`Error subiendo imagen ${i+1}: ${imageError.message}`);}}}// Combinar im√°genes existentes con las nuevas\nconst allImages=[...existingImages,...newImageUrls];console.log('üñºÔ∏è Im√°genes finales:',allImages);// Actualizar veh√≠culo con todas las im√°genes\nawait updateVehicle(vehicle.id,{...vehicleData,images:allImages});toast.success('Veh√≠culo actualizado exitosamente');}else{// Crear nuevo veh√≠culo\nif(images.length===0){toast.error('Debes subir al menos una imagen');setLoading(false);return;}console.log('üì§ Subiendo im√°genes...');console.log('üñºÔ∏è Im√°genes a subir:',images.length);console.log('üñºÔ∏è Detalles de im√°genes:',images.map(img=>({name:img.name,size:img.size,type:img.type})));// Primero crear el veh√≠culo sin im√°genes\nconst newVehicle=await createVehicle(vehicleData);console.log('‚úÖ Veh√≠culo creado:',newVehicle);console.log('üÜî ID del veh√≠culo:',newVehicle.id);// Luego subir las im√°genes una por una\nconst imageUrls=[];console.log('üîÑ Iniciando bucle de subida de im√°genes...');for(let i=0;i<images.length;i++){try{console.log(`üì∑ Subiendo imagen ${i+1}/${images.length}...`);console.log(`üìÑ Archivo:`,images[i].name,'| Tama√±o:',images[i].size,'| Tipo:',images[i].type);const imageUrl=await uploadImage(images[i],newVehicle.id,i);imageUrls.push(imageUrl);console.log(`‚úÖ Imagen ${i+1} subida exitosamente:`,imageUrl);}catch(imageError){console.error(`‚ùå Error subiendo imagen ${i+1}:`,imageError);console.error(`‚ùå Detalles completos del error:`,{name:imageError.name,message:imageError.message,stack:imageError.stack});toast.error(`Error subiendo imagen ${i+1}: ${imageError.message}`);}}console.log('üìä Resumen de subida:');console.log('- Total im√°genes:',images.length);console.log('- Subidas exitosas:',imageUrls.length);console.log('- URLs generadas:',imageUrls);// Actualizar el veh√≠culo con las URLs de las im√°genes\nif(imageUrls.length>0){console.log('üîÑ Actualizando veh√≠culo con im√°genes...');await updateVehicle(newVehicle.id,{...vehicleData,images:imageUrls});console.log('‚úÖ Veh√≠culo actualizado con im√°genes');}toast.success('Veh√≠culo creado exitosamente');}onSuccess();}catch(error){console.error('‚ùå Error guardando veh√≠culo:',error);toast.error(`Error al guardar el veh√≠culo: ${error.message}`);}finally{setLoading(false);}};const brands=['Toyota','Honda','Ford','Chevrolet','Volkswagen','BMW','Mercedes-Benz','Audi','Nissan','Hyundai','Kia','Mazda','Subaru','Mitsubishi','Peugeot','Renault','Fiat','Volvo','Jaguar','Land Rover'];const predefinedFeatures=['Aire acondicionado','Calefacci√≥n','Direcci√≥n asistida','Vidrios el√©ctricos','Cierre centralizado','Alarma','Bluetooth','Radio AM/FM','USB/AUX','Pantalla t√°ctil','GPS/Navegaci√≥n','C√°mara de reversa','Sensores de estacionamiento','ABS','Airbag conductor','Airbag acompa√±ante','Airbags laterales','Control de estabilidad','Control de tracci√≥n','Frenos de disco','Llantas de aleaci√≥n','Techo corredizo','Quemacocos','Barras portaequipaje','Enganche para remolque','Asientos de cuero','Asientos calefaccionados','Asientos el√©ctricos','Volante multifunci√≥n','Computadora de viaje','Luces LED','Luces de xen√≥n','Faros antiniebla','Espejos el√©ctricos','Cristales polarizados','Arranque sin llave','Cargador inal√°mbrico'];const vehicleTypes=[{value:'sedan',label:'Sed√°n'},{value:'suv',label:'SUV'},{value:'pickup',label:'Pick-Up'},{value:'hatchback',label:'Hatchback'},{value:'coupe',label:'Coup√©'},{value:'cabriolet',label:'Cabriolet'},{value:'premium',label:'Premium'}];const conditions=[{value:'new',label:'Nuevo'},{value:'used',label:'Usado'}];const transmissions=[{value:'manual',label:'Manual'},{value:'automatic',label:'Autom√°tico'},{value:'cvt',label:'CVT'}];const fuelTypes=[{value:'gasoline',label:'Gasolina'},{value:'diesel',label:'Di√©sel'},{value:'hybrid',label:'H√≠brido'},{value:'electric',label:'El√©ctrico'},{value:'lpg',label:'GLP'}];const years=Array.from({length:25},(_,i)=>new Date().getFullYear()-i);return/*#__PURE__*/_jsx(AnimatePresence,{children:/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(motion.div,{initial:{scale:0.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0.9,opacity:0},className:\"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-6 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:vehicle?'Editar Veh√≠culo':'Agregar Veh√≠culo'}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(X,{className:\"w-6 h-6\"})})]})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"Informaci\\xF3n B\\xE1sica\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Marca *\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"brand\",value:formData.brand,onChange:handleChange,required:true,className:\"select-field\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Seleccionar marca\"}),brands.map(brand=>/*#__PURE__*/_jsx(\"option\",{value:brand,children:brand},brand))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Modelo *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"model\",value:formData.model,onChange:handleChange,required:true,className:\"input-field\",placeholder:\"Ej: Corolla\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Versi\\xF3n\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"version\",value:formData.version,onChange:handleChange,className:\"input-field\",placeholder:\"Ej: XEI 2.0\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"A\\xF1o *\"}),/*#__PURE__*/_jsx(\"select\",{name:\"year\",value:formData.year,onChange:handleChange,required:true,className:\"select-field\",children:years.map(year=>/*#__PURE__*/_jsx(\"option\",{value:year,children:year},year))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Kilometraje *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"kilometers\",value:formData.kilometers,onChange:handleChange,required:true,min:\"0\",max:\"999999\",className:\"input-field\",placeholder:\"0\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Precio *\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsxs(\"select\",{name:\"currency\",value:formData.currency,onChange:handleChange,className:\"select-field w-24\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"USD\",children:\"USD\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ARS\",children:\"ARS\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 relative\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 text-sm\",children:formData.currency==='USD'?'$':'$'}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"price\",value:formData.price,onChange:handleChange,required:true,className:\"input-field pl-8\",placeholder:formData.currency==='USD'?'150000000':'150000000000'})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:formData.currency==='USD'?'üí° Precio en d√≥lares estadounidenses':'üí° Precio en pesos argentinos'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"Especificaciones\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Condici\\xF3n *\"}),/*#__PURE__*/_jsx(\"select\",{name:\"condition\",value:formData.condition,onChange:handleChange,required:true,className:\"select-field\",children:conditions.map(condition=>/*#__PURE__*/_jsx(\"option\",{value:condition.value,children:condition.label},condition.value))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Tipo *\"}),/*#__PURE__*/_jsx(\"select\",{name:\"type\",value:formData.type,onChange:handleChange,required:true,className:\"select-field\",children:vehicleTypes.map(type=>/*#__PURE__*/_jsx(\"option\",{value:type.value,children:type.label},type.value))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Transmisi\\xF3n *\"}),/*#__PURE__*/_jsx(\"select\",{name:\"transmission\",value:formData.transmission,onChange:handleChange,required:true,className:\"select-field\",children:transmissions.map(transmission=>/*#__PURE__*/_jsx(\"option\",{value:transmission.value,children:transmission.label},transmission.value))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Combustible *\"}),/*#__PURE__*/_jsx(\"select\",{name:\"fuelType\",value:formData.fuelType,onChange:handleChange,required:true,className:\"select-field\",children:fuelTypes.map(fuelType=>/*#__PURE__*/_jsx(\"option\",{value:fuelType.value,children:fuelType.label},fuelType.value))})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Color\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"color\",value:formData.color,onChange:handleChange,className:\"input-field\",placeholder:\"Ej: Blanco\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Ubicaci\\xF3n\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"location\",value:formData.location,onChange:handleChange,className:\"input-field\",placeholder:\"Ej: CABA\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Motor\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"engine\",value:formData.engine,onChange:handleChange,className:\"input-field\",placeholder:\"Ej: 2.0L\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Potencia\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"power\",value:formData.power,onChange:handleChange,className:\"input-field\",placeholder:\"Ej: 150 HP\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Caracter\\xEDsticas\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>setShowFeatureDropdown(!showFeatureDropdown),className:\"w-full input-field flex items-center justify-between bg-white\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700\",children:formData.features.length===0?'Seleccionar caracter√≠sticas...':`${formData.features.length} caracter√≠sticas seleccionadas`}),/*#__PURE__*/_jsx(ChevronDown,{className:`w-5 h-5 transition-transform ${showFeatureDropdown?'rotate-180':''}`})]}),/*#__PURE__*/_jsx(AnimatePresence,{children:showFeatureDropdown&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:\"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 gap-1 p-2\",children:predefinedFeatures.map(feature=>/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>togglePredefinedFeature(feature),className:`flex items-center p-2 text-sm rounded hover:bg-gray-50 transition-colors ${formData.features.includes(feature)?'bg-primary-50 text-primary-700':'text-gray-700'}`,children:[/*#__PURE__*/_jsx(\"div\",{className:`w-4 h-4 mr-2 border rounded flex items-center justify-center ${formData.features.includes(feature)?'bg-primary-600 border-primary-600':'border-gray-300'}`,children:formData.features.includes(feature)&&/*#__PURE__*/_jsx(Check,{className:\"w-3 h-3 text-white\"})}),feature]},feature))})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newFeature,onChange:e=>setNewFeature(e.target.value),className:\"input-field flex-1\",placeholder:\"Agregar caracter\\xEDstica personalizada...\",onKeyPress:e=>e.key==='Enter'&&(e.preventDefault(),addFeature())}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:addFeature,className:\"btn-secondary flex items-center\",children:[/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4 mr-1\"}),\"Agregar\"]})]}),formData.features.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-sm font-medium text-gray-700\",children:[\"Caracter\\xEDsticas seleccionadas (\",formData.features.length,\"):\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-1\",children:formData.features.map((feature,index)=>/*#__PURE__*/_jsxs(motion.div,{layout:true,className:\"flex items-center justify-between bg-gray-50 rounded-lg px-3 py-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700 flex-1\",children:feature}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1\",children:[index>0&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>moveFeature(index,index-1),className:\"p-1 text-gray-400 hover:text-gray-600 transition-colors\",title:\"Mover arriba\",children:/*#__PURE__*/_jsx(ChevronUp,{className:\"w-4 h-4\"})}),index<formData.features.length-1&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>moveFeature(index,index+1),className:\"p-1 text-gray-400 hover:text-gray-600 transition-colors\",title:\"Mover abajo\",children:/*#__PURE__*/_jsx(ChevronDown,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>removeFeature(index),className:\"p-1 text-red-400 hover:text-red-600 transition-colors\",title:\"Eliminar\",children:/*#__PURE__*/_jsx(X,{className:\"w-4 h-4\"})})]})]},`${feature}-${index}`))})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Opciones\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"featured\",checked:formData.featured,onChange:handleChange,className:\"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"label\",{className:\"ml-2 block text-sm text-gray-900\",children:\"Marcar como destacado\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"promotion\",checked:formData.promotion,onChange:handleChange,className:\"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"label\",{className:\"ml-2 block text-sm text-gray-900\",children:\"Marcar como promoci\\xF3n\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:[\"Im\\xE1genes \",existingImages.length+images.length>0&&`(${existingImages.length+images.length} total)`]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"border-2 border-dashed border-gray-300 rounded-lg p-6 hover:border-primary-400 transition-colors\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(Upload,{className:\"mx-auto h-12 w-12 text-gray-400\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"images\",className:\"cursor-pointer\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-primary-600 hover:text-primary-500 font-medium\",children:images.length===0?'Seleccionar m√∫ltiples im√°genes':'Agregar m√°s im√°genes'}),/*#__PURE__*/_jsx(\"input\",{id:\"images\",type:\"file\",multiple:true,accept:\"image/*\",onChange:handleImageChange,className:\"hidden\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"Selecciona m\\xFAltiples archivos \\u2022 PNG, JPG, GIF hasta 10MB cada una\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-primary-600 mt-1\",children:\"\\uD83D\\uDCA1 Mant\\xE9n presionado Ctrl/Cmd para seleccionar varias im\\xE1genes\"})]})]})}),existingImages.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-sm font-medium text-gray-700\",children:[\"Im\\xE1genes actuales (\",existingImages.length,\"):\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:existingImages.map((imageUrl,index)=>/*#__PURE__*/_jsxs(motion.div,{layout:true,className:\"flex items-center bg-blue-50 rounded-lg p-3 border border-blue-200\",children:[/*#__PURE__*/_jsx(\"img\",{src:imageUrl,alt:`Imagen existente ${index+1}`,className:\"w-16 h-16 object-cover rounded-md flex-shrink-0\",onError:e=>{e.target.src='https://via.placeholder.com/64x64?text=Error';}}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3 flex-1 min-w-0\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm font-medium text-gray-900\",children:[\"Imagen \",index+1]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-blue-600\",children:\"Imagen actual del veh\\xEDculo\"}),index===0&&/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 mt-1\",children:\"Imagen principal\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1 ml-3\",children:[index>0&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>moveExistingImage(index,index-1),className:\"p-1 text-gray-400 hover:text-gray-600 transition-colors\",title:\"Mover arriba\",children:/*#__PURE__*/_jsx(ChevronUp,{className:\"w-4 h-4\"})}),index<existingImages.length-1&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>moveExistingImage(index,index+1),className:\"p-1 text-gray-400 hover:text-gray-600 transition-colors\",title:\"Mover abajo\",children:/*#__PURE__*/_jsx(ChevronDown,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>removeExistingImage(index),className:\"p-1 text-red-400 hover:text-red-600 transition-colors ml-2\",title:\"Eliminar imagen\",children:/*#__PURE__*/_jsx(X,{className:\"w-4 h-4\"})})]})]},`existing-${index}`))})]}),images.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-sm font-medium text-gray-700\",children:[\"Nuevas im\\xE1genes a agregar (\",images.length,\"):\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:images.map((image,index)=>/*#__PURE__*/_jsxs(motion.div,{layout:true,className:\"flex items-center bg-green-50 rounded-lg p-3 border border-green-200\",children:[/*#__PURE__*/_jsx(\"img\",{src:URL.createObjectURL(image),alt:`Imagen ${index+1}`,className:\"w-16 h-16 object-cover rounded-md flex-shrink-0\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3 flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900 truncate\",children:image.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500\",children:[(image.size/1024/1024).toFixed(2),\" MB\"]}),index===0&&/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-primary-100 text-primary-800 mt-1\",children:\"Imagen principal\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1 ml-3\",children:[index>0&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>moveImage(index,index-1),className:\"p-1 text-gray-400 hover:text-gray-600 transition-colors\",title:\"Mover arriba\",children:/*#__PURE__*/_jsx(ChevronUp,{className:\"w-4 h-4\"})}),index<images.length-1&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>moveImage(index,index+1),className:\"p-1 text-gray-400 hover:text-gray-600 transition-colors\",title:\"Mover abajo\",children:/*#__PURE__*/_jsx(ChevronDown,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>removeImage(index),className:\"p-1 text-red-400 hover:text-red-600 transition-colors ml-2\",title:\"Eliminar imagen\",children:/*#__PURE__*/_jsx(X,{className:\"w-4 h-4\"})})]})]},`${image.name}-${index}`))}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"\\uD83D\\uDCA1 Las nuevas im\\xE1genes se agregar\\xE1n despu\\xE9s de las existentes. Puedes reordenar todas las im\\xE1genes.\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 flex justify-end space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"btn-secondary\",children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"btn-primary\",children:loading?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner w-4 h-4 mr-2\"}),\"Guardando...\"]}):vehicle?'Actualizar Veh√≠culo':'Crear Veh√≠culo'})]})]})]})})});};export default VehicleForm;","map":{"version":3,"names":["React","useState","useEffect","X","Upload","Plus","Trash2","ChevronUp","ChevronDown","Check","motion","AnimatePresence","createVehicle","updateVehicle","uploadImage","toast","jsx","_jsx","jsxs","_jsxs","VehicleForm","_ref","vehicle","onClose","onSuccess","formData","setFormData","brand","model","version","year","Date","getFullYear","kilometers","price","currency","condition","transmission","fuelType","color","type","location","engine","power","features","featured","promotion","images","setImages","existingImages","setExistingImages","imagesToDelete","setImagesToDelete","loading","setLoading","newFeature","setNewFeature","showFeatureDropdown","setShowFeatureDropdown","price_ars","fuel_type","is_featured","is_promotion","handleChange","e","name","value","checked","target","prev","handleImageChange","files","Array","from","removeImage","index","filter","_","i","removeExistingImage","imageToDelete","moveImage","fromIndex","toIndex","newImages","movedImage","splice","moveExistingImage","addFeature","trim","removeFeature","moveFeature","newFeatures","movedFeature","togglePredefinedFeature","feature","exists","includes","f","handleSubmit","preventDefault","console","log","priceValue","parseFloat","error","vehicleData","parseInt","length","imageUrl","urlParts","split","fileName","filePath","supabase","storageError","storage","remove","imageError","newImageUrls","id","push","message","allImages","success","map","img","size","newVehicle","imageUrls","stack","brands","predefinedFeatures","vehicleTypes","label","conditions","transmissions","fuelTypes","years","children","div","initial","opacity","animate","exit","className","scale","onClick","onSubmit","onChange","required","placeholder","min","max","y","onKeyPress","key","layout","title","htmlFor","multiple","accept","src","alt","onError","image","URL","createObjectURL","toFixed","disabled"],"sources":["C:/Users/otero/OneDrive/Escritorio/Paginas Web/ri cars automotores/src/components/admin/VehicleForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { X, Upload, Plus, Trash2, ChevronUp, ChevronDown, Check } from 'lucide-react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { createVehicle, updateVehicle, uploadImage } from '../../services/vehicleService';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst VehicleForm = ({ vehicle, onClose, onSuccess }) => {\r\n  const [formData, setFormData] = useState({\r\n    brand: '',\r\n    model: '',\r\n    version: '',\r\n    year: new Date().getFullYear(),\r\n    kilometers: 0,\r\n    price: 0,\r\n    currency: 'USD', // Nueva campo para la moneda\r\n    condition: 'used',\r\n    transmission: 'manual',\r\n    fuelType: 'gasoline',\r\n    color: '',\r\n    type: 'sedan',\r\n    location: '',\r\n    engine: '',\r\n    power: '',\r\n    features: [],\r\n    featured: false,\r\n    promotion: false\r\n  });\r\n  const [images, setImages] = useState([]);\r\n  const [existingImages, setExistingImages] = useState([]);\r\n  const [imagesToDelete, setImagesToDelete] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [newFeature, setNewFeature] = useState('');\r\n  const [showFeatureDropdown, setShowFeatureDropdown] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (vehicle) {\r\n      setFormData({\r\n        brand: vehicle.brand || '',\r\n        model: vehicle.model || '',\r\n        version: vehicle.version || '',\r\n        year: vehicle.year || new Date().getFullYear(),\r\n        kilometers: vehicle.kilometers || 0,\r\n        price: vehicle.price || vehicle.price_ars || 0,\r\n        currency: vehicle.price && vehicle.price > 0 ? 'USD' : 'ARS', // Detectar moneda basada en qu√© campo tiene valor\r\n        condition: vehicle.condition || 'used',\r\n        transmission: vehicle.transmission || 'manual',\r\n        fuelType: vehicle.fuel_type || 'gasoline', // Corregir nombre del campo\r\n        color: vehicle.color || '',\r\n        type: vehicle.type || 'sedan',\r\n        location: vehicle.location || '',\r\n        engine: vehicle.engine || '',\r\n        power: vehicle.power || '',\r\n        features: vehicle.features || [],\r\n        featured: vehicle.is_featured || false, // Corregir nombre del campo\r\n        promotion: vehicle.is_promotion || false // Corregir nombre del campo\r\n      });\r\n      \r\n      // Cargar im√°genes existentes\r\n      setExistingImages(vehicle.images || []);\r\n      setImages([]); // Limpiar las nuevas im√°genes\r\n      setImagesToDelete([]); // Limpiar im√°genes a eliminar\r\n    }\r\n  }, [vehicle]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: type === 'checkbox' ? checked : value\r\n    }));\r\n  };\r\n\r\n  const handleImageChange = (e) => {\r\n    const files = Array.from(e.target.files);\r\n    setImages(prev => [...prev, ...files]);\r\n  };\r\n\r\n  const removeImage = (index) => {\r\n    setImages(prev => prev.filter((_, i) => i !== index));\r\n  };\r\n\r\n  const removeExistingImage = (index) => {\r\n    const imageToDelete = existingImages[index];\r\n    setImagesToDelete(prev => [...prev, imageToDelete]);\r\n    setExistingImages(prev => prev.filter((_, i) => i !== index));\r\n  };\r\n\r\n  const moveImage = (fromIndex, toIndex) => {\r\n    setImages(prev => {\r\n      const newImages = [...prev];\r\n      const [movedImage] = newImages.splice(fromIndex, 1);\r\n      newImages.splice(toIndex, 0, movedImage);\r\n      return newImages;\r\n    });\r\n  };\r\n\r\n  const moveExistingImage = (fromIndex, toIndex) => {\r\n    setExistingImages(prev => {\r\n      const newImages = [...prev];\r\n      const [movedImage] = newImages.splice(fromIndex, 1);\r\n      newImages.splice(toIndex, 0, movedImage);\r\n      return newImages;\r\n    });\r\n  };\r\n\r\n  const addFeature = () => {\r\n    if (newFeature.trim()) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        features: [...prev.features, newFeature.trim()]\r\n      }));\r\n      setNewFeature('');\r\n    }\r\n  };\r\n\r\n  const removeFeature = (index) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      features: prev.features.filter((_, i) => i !== index)\r\n    }));\r\n  };\r\n\r\n  const moveFeature = (fromIndex, toIndex) => {\r\n    setFormData(prev => {\r\n      const newFeatures = [...prev.features];\r\n      const [movedFeature] = newFeatures.splice(fromIndex, 1);\r\n      newFeatures.splice(toIndex, 0, movedFeature);\r\n      return { ...prev, features: newFeatures };\r\n    });\r\n  };\r\n\r\n  const togglePredefinedFeature = (feature) => {\r\n    setFormData(prev => {\r\n      const exists = prev.features.includes(feature);\r\n      return {\r\n        ...prev,\r\n        features: exists \r\n          ? prev.features.filter(f => f !== feature)\r\n          : [...prev.features, feature]\r\n      };\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (loading) {\r\n      console.log('‚è≥ Ya se est√° procesando, ignorando...');\r\n      return;\r\n    }\r\n    \r\n    setLoading(true);\r\n\r\n    try {\r\n      // Validar que haya precio\r\n      const priceValue = parseFloat(formData.price) || 0;\r\n      if (priceValue <= 0) {\r\n        toast.error('Debes ingresar un precio v√°lido');\r\n        setLoading(false);\r\n        return;\r\n      }\r\n      \r\n      // Transformar datos para que coincidan con la estructura de Supabase\r\n      \r\n      const vehicleData = {\r\n        brand: formData.brand || '',\r\n        model: formData.model || '',\r\n        year: parseInt(formData.year) || new Date().getFullYear(),\r\n        kilometers: parseInt(formData.kilometers) || 0,\r\n        // L√≥gica de moneda: solo llenar el campo correspondiente\r\n        price: formData.currency === 'USD' ? priceValue : null,\r\n        price_ars: formData.currency === 'ARS' ? priceValue : null,\r\n        condition: formData.condition || 'used',\r\n        transmission: formData.transmission || 'manual',\r\n        fuel_type: formData.fuelType || 'gasoline', // Asegurar que tenga un valor por defecto\r\n        color: formData.color || '',\r\n        type: formData.type || 'sedan',\r\n        location: formData.location || '',\r\n        engine: formData.engine || '',\r\n        power: formData.power || '',\r\n        features: formData.features || [],\r\n        is_featured: formData.featured || false, // Corregir nombre del campo\r\n        is_promotion: formData.promotion || false, // Corregir nombre del campo\r\n        images: []\r\n      };\r\n\r\n      console.log('üìù Datos del formulario:', formData);\r\n      console.log('üí∞ Precio original:', formData.price, 'Moneda:', formData.currency);\r\n      console.log('üí∞ Precio procesado:', priceValue);\r\n      console.log('üìù Datos del veh√≠culo a guardar:', vehicleData);\r\n      console.log('üîç fuel_type espec√≠ficamente:', vehicleData.fuel_type);\r\n      console.log('üíµ price (USD):', vehicleData.price);\r\n      console.log('üí± price_ars (ARS):', vehicleData.price_ars);\r\n\r\n      if (vehicle) {\r\n        // Actualizar veh√≠culo existente\r\n        console.log('üîÑ Actualizando veh√≠culo existente...');\r\n        \r\n        // Validar que haya al menos una imagen (existente o nueva)\r\n        if (existingImages.length === 0 && images.length === 0) {\r\n          toast.error('Debes tener al menos una imagen para el veh√≠culo');\r\n          setLoading(false);\r\n          return;\r\n        }\r\n\r\n        // Eliminar im√°genes marcadas para eliminar del storage\r\n        if (imagesToDelete.length > 0) {\r\n          console.log('üóëÔ∏è Eliminando im√°genes del storage:', imagesToDelete.length);\r\n          for (const imageUrl of imagesToDelete) {\r\n            try {\r\n              // Extraer el path de la imagen de la URL\r\n              const urlParts = imageUrl.split('/');\r\n              const fileName = urlParts[urlParts.length - 1];\r\n              const filePath = `vehicles/${fileName}`;\r\n              \r\n              console.log('üóëÔ∏è Eliminando imagen del storage:', filePath);\r\n              \r\n              // Importar supabase para eliminar imagen\r\n              const { supabase } = await import('../../supabase/config');\r\n              const { error: storageError } = await supabase.storage\r\n                .from('vehicle-images')\r\n                .remove([filePath]);\r\n              \r\n              if (storageError) {\r\n                console.error('‚ùå Error eliminando imagen del storage:', storageError);\r\n              } else {\r\n                console.log('‚úÖ Imagen eliminada del storage exitosamente:', filePath);\r\n              }\r\n            } catch (imageError) {\r\n              console.error('‚ùå Error procesando eliminaci√≥n de imagen:', imageError);\r\n            }\r\n          }\r\n        }\r\n        \r\n        // Si hay nuevas im√°genes, subirlas\r\n        const newImageUrls = [];\r\n        if (images.length > 0) {\r\n          console.log('üì§ Subiendo nuevas im√°genes...');\r\n          for (let i = 0; i < images.length; i++) {\r\n            try {\r\n              console.log(`üì∑ Subiendo nueva imagen ${i + 1}/${images.length}...`);\r\n              const imageUrl = await uploadImage(images[i], vehicle.id, existingImages.length + i);\r\n              newImageUrls.push(imageUrl);\r\n              console.log(`‚úÖ Nueva imagen ${i + 1} subida exitosamente:`, imageUrl);\r\n            } catch (imageError) {\r\n              console.error(`‚ùå Error subiendo nueva imagen ${i + 1}:`, imageError);\r\n              toast.error(`Error subiendo imagen ${i + 1}: ${imageError.message}`);\r\n            }\r\n          }\r\n        }\r\n        \r\n        // Combinar im√°genes existentes con las nuevas\r\n        const allImages = [...existingImages, ...newImageUrls];\r\n        console.log('üñºÔ∏è Im√°genes finales:', allImages);\r\n        \r\n        // Actualizar veh√≠culo con todas las im√°genes\r\n        await updateVehicle(vehicle.id, { ...vehicleData, images: allImages });\r\n        toast.success('Veh√≠culo actualizado exitosamente');\r\n      } else {\r\n        // Crear nuevo veh√≠culo\r\n        if (images.length === 0) {\r\n          toast.error('Debes subir al menos una imagen');\r\n          setLoading(false);\r\n          return;\r\n        }\r\n\r\n        console.log('üì§ Subiendo im√°genes...');\r\n        console.log('üñºÔ∏è Im√°genes a subir:', images.length);\r\n        console.log('üñºÔ∏è Detalles de im√°genes:', images.map(img => ({ name: img.name, size: img.size, type: img.type })));\r\n        \r\n        // Primero crear el veh√≠culo sin im√°genes\r\n        const newVehicle = await createVehicle(vehicleData);\r\n        console.log('‚úÖ Veh√≠culo creado:', newVehicle);\r\n        console.log('üÜî ID del veh√≠culo:', newVehicle.id);\r\n\r\n        // Luego subir las im√°genes una por una\r\n        const imageUrls = [];\r\n        console.log('üîÑ Iniciando bucle de subida de im√°genes...');\r\n        \r\n        for (let i = 0; i < images.length; i++) {\r\n          try {\r\n            console.log(`üì∑ Subiendo imagen ${i + 1}/${images.length}...`);\r\n            console.log(`üìÑ Archivo:`, images[i].name, '| Tama√±o:', images[i].size, '| Tipo:', images[i].type);\r\n            \r\n            const imageUrl = await uploadImage(images[i], newVehicle.id, i);\r\n            imageUrls.push(imageUrl);\r\n            console.log(`‚úÖ Imagen ${i + 1} subida exitosamente:`, imageUrl);\r\n          } catch (imageError) {\r\n            console.error(`‚ùå Error subiendo imagen ${i + 1}:`, imageError);\r\n            console.error(`‚ùå Detalles completos del error:`, {\r\n              name: imageError.name,\r\n              message: imageError.message,\r\n              stack: imageError.stack\r\n            });\r\n            toast.error(`Error subiendo imagen ${i + 1}: ${imageError.message}`);\r\n          }\r\n        }\r\n        \r\n        console.log('üìä Resumen de subida:');\r\n        console.log('- Total im√°genes:', images.length);\r\n        console.log('- Subidas exitosas:', imageUrls.length);\r\n        console.log('- URLs generadas:', imageUrls);\r\n\r\n        // Actualizar el veh√≠culo con las URLs de las im√°genes\r\n        if (imageUrls.length > 0) {\r\n          console.log('üîÑ Actualizando veh√≠culo con im√°genes...');\r\n          await updateVehicle(newVehicle.id, { ...vehicleData, images: imageUrls });\r\n          console.log('‚úÖ Veh√≠culo actualizado con im√°genes');\r\n        }\r\n\r\n        toast.success('Veh√≠culo creado exitosamente');\r\n      }\r\n      onSuccess();\r\n    } catch (error) {\r\n      console.error('‚ùå Error guardando veh√≠culo:', error);\r\n      toast.error(`Error al guardar el veh√≠culo: ${error.message}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const brands = [\r\n    'Toyota', 'Honda', 'Ford', 'Chevrolet', 'Volkswagen',\r\n    'BMW', 'Mercedes-Benz', 'Audi', 'Nissan', 'Hyundai',\r\n    'Kia', 'Mazda', 'Subaru', 'Mitsubishi', 'Peugeot',\r\n    'Renault', 'Fiat', 'Volvo', 'Jaguar', 'Land Rover'\r\n  ];\r\n\r\n  const predefinedFeatures = [\r\n    'Aire acondicionado', 'Calefacci√≥n', 'Direcci√≥n asistida', 'Vidrios el√©ctricos',\r\n    'Cierre centralizado', 'Alarma', 'Bluetooth', 'Radio AM/FM', 'USB/AUX',\r\n    'Pantalla t√°ctil', 'GPS/Navegaci√≥n', 'C√°mara de reversa', 'Sensores de estacionamiento',\r\n    'ABS', 'Airbag conductor', 'Airbag acompa√±ante', 'Airbags laterales',\r\n    'Control de estabilidad', 'Control de tracci√≥n', 'Frenos de disco',\r\n    'Llantas de aleaci√≥n', 'Techo corredizo', 'Quemacocos', 'Barras portaequipaje',\r\n    'Enganche para remolque', 'Asientos de cuero', 'Asientos calefaccionados',\r\n    'Asientos el√©ctricos', 'Volante multifunci√≥n', 'Computadora de viaje',\r\n    'Luces LED', 'Luces de xen√≥n', 'Faros antiniebla', 'Espejos el√©ctricos',\r\n    'Cristales polarizados', 'Arranque sin llave', 'Cargador inal√°mbrico'\r\n  ];\r\n\r\n  const vehicleTypes = [\r\n    { value: 'sedan', label: 'Sed√°n' },\r\n    { value: 'suv', label: 'SUV' },\r\n    { value: 'pickup', label: 'Pick-Up' },\r\n    { value: 'hatchback', label: 'Hatchback' },\r\n    { value: 'coupe', label: 'Coup√©' },\r\n    { value: 'cabriolet', label: 'Cabriolet' },\r\n    { value: 'premium', label: 'Premium' }\r\n  ];\r\n\r\n  const conditions = [\r\n    { value: 'new', label: 'Nuevo' },\r\n    { value: 'used', label: 'Usado' }\r\n  ];\r\n\r\n  const transmissions = [\r\n    { value: 'manual', label: 'Manual' },\r\n    { value: 'automatic', label: 'Autom√°tico' },\r\n    { value: 'cvt', label: 'CVT' }\r\n  ];\r\n\r\n  const fuelTypes = [\r\n    { value: 'gasoline', label: 'Gasolina' },\r\n    { value: 'diesel', label: 'Di√©sel' },\r\n    { value: 'hybrid', label: 'H√≠brido' },\r\n    { value: 'electric', label: 'El√©ctrico' },\r\n    { value: 'lpg', label: 'GLP' }\r\n  ];\r\n\r\n  const years = Array.from({ length: 25 }, (_, i) => new Date().getFullYear() - i);\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      <motion.div\r\n        initial={{ opacity: 0 }}\r\n        animate={{ opacity: 1 }}\r\n        exit={{ opacity: 0 }}\r\n        className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\"\r\n      >\r\n        <motion.div\r\n          initial={{ scale: 0.9, opacity: 0 }}\r\n          animate={{ scale: 1, opacity: 1 }}\r\n          exit={{ scale: 0.9, opacity: 0 }}\r\n          className=\"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\"\r\n        >\r\n          <div className=\"p-6 border-b border-gray-200\">\r\n            <div className=\"flex justify-between items-center\">\r\n              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n                {vehicle ? 'Editar Veh√≠culo' : 'Agregar Veh√≠culo'}\r\n              </h2>\r\n              <button\r\n                onClick={onClose}\r\n                className=\"text-gray-400 hover:text-gray-600\"\r\n              >\r\n                <X className=\"w-6 h-6\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <form onSubmit={handleSubmit} className=\"p-6\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              {/* Informaci√≥n b√°sica */}\r\n              <div className=\"space-y-4\">\r\n                <h3 className=\"text-lg font-medium text-gray-900\">Informaci√≥n B√°sica</h3>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Marca *\r\n                  </label>\r\n                  <select\r\n                    name=\"brand\"\r\n                    value={formData.brand}\r\n                    onChange={handleChange}\r\n                    required\r\n                    className=\"select-field\"\r\n                  >\r\n                    <option value=\"\">Seleccionar marca</option>\r\n                    {brands.map(brand => (\r\n                      <option key={brand} value={brand}>{brand}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Modelo *\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"model\"\r\n                    value={formData.model}\r\n                    onChange={handleChange}\r\n                    required\r\n                    className=\"input-field\"\r\n                    placeholder=\"Ej: Corolla\"\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Versi√≥n\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"version\"\r\n                    value={formData.version}\r\n                    onChange={handleChange}\r\n                    className=\"input-field\"\r\n                    placeholder=\"Ej: XEI 2.0\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                      A√±o *\r\n                    </label>\r\n                    <select\r\n                      name=\"year\"\r\n                      value={formData.year}\r\n                      onChange={handleChange}\r\n                      required\r\n                      className=\"select-field\"\r\n                    >\r\n                      {years.map(year => (\r\n                        <option key={year} value={year}>{year}</option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                      Kilometraje *\r\n                    </label>\r\n                    <input\r\n                      type=\"number\"\r\n                      name=\"kilometers\"\r\n                      value={formData.kilometers}\r\n                      onChange={handleChange}\r\n                      required\r\n                      min=\"0\"\r\n                      max=\"999999\"\r\n                      className=\"input-field\"\r\n                      placeholder=\"0\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Precio *\r\n                  </label>\r\n                  <div className=\"flex space-x-2\">\r\n                    {/* Selector de moneda */}\r\n                    <select\r\n                      name=\"currency\"\r\n                      value={formData.currency}\r\n                      onChange={handleChange}\r\n                      className=\"select-field w-24\"\r\n                    >\r\n                      <option value=\"USD\">USD</option>\r\n                      <option value=\"ARS\">ARS</option>\r\n                    </select>\r\n                    \r\n                    {/* Campo de precio */}\r\n                    <div className=\"flex-1 relative\">\r\n                      <span className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 text-sm\">\r\n                        {formData.currency === 'USD' ? '$' : '$'}\r\n                      </span>\r\n                      <input\r\n                        type=\"number\"\r\n                        name=\"price\"\r\n                        value={formData.price}\r\n                        onChange={handleChange}\r\n                        required\r\n                        className=\"input-field pl-8\"\r\n                        placeholder={formData.currency === 'USD' ? '150000000' : '150000000000'}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <p className=\"text-xs text-gray-500 mt-1\">\r\n                    {formData.currency === 'USD' \r\n                      ? 'üí° Precio en d√≥lares estadounidenses'\r\n                      : 'üí° Precio en pesos argentinos'\r\n                    }\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Especificaciones */}\r\n              <div className=\"space-y-4\">\r\n                <h3 className=\"text-lg font-medium text-gray-900\">Especificaciones</h3>\r\n\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                      Condici√≥n *\r\n                    </label>\r\n                    <select\r\n                      name=\"condition\"\r\n                      value={formData.condition}\r\n                      onChange={handleChange}\r\n                      required\r\n                      className=\"select-field\"\r\n                    >\r\n                      {conditions.map(condition => (\r\n                        <option key={condition.value} value={condition.value}>\r\n                          {condition.label}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                      Tipo *\r\n                    </label>\r\n                    <select\r\n                      name=\"type\"\r\n                      value={formData.type}\r\n                      onChange={handleChange}\r\n                      required\r\n                      className=\"select-field\"\r\n                    >\r\n                      {vehicleTypes.map(type => (\r\n                        <option key={type.value} value={type.value}>\r\n                          {type.label}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                      Transmisi√≥n *\r\n                    </label>\r\n                    <select\r\n                      name=\"transmission\"\r\n                      value={formData.transmission}\r\n                      onChange={handleChange}\r\n                      required\r\n                      className=\"select-field\"\r\n                    >\r\n                      {transmissions.map(transmission => (\r\n                        <option key={transmission.value} value={transmission.value}>\r\n                          {transmission.label}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                      Combustible *\r\n                    </label>\r\n                    <select\r\n                      name=\"fuelType\"\r\n                      value={formData.fuelType}\r\n                      onChange={handleChange}\r\n                      required\r\n                      className=\"select-field\"\r\n                    >\r\n                      {fuelTypes.map(fuelType => (\r\n                        <option key={fuelType.value} value={fuelType.value}>\r\n                          {fuelType.label}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Color\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"color\"\r\n                    value={formData.color}\r\n                    onChange={handleChange}\r\n                    className=\"input-field\"\r\n                    placeholder=\"Ej: Blanco\"\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Ubicaci√≥n\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"location\"\r\n                    value={formData.location}\r\n                    onChange={handleChange}\r\n                    className=\"input-field\"\r\n                    placeholder=\"Ej: CABA\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                      Motor\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"engine\"\r\n                      value={formData.engine}\r\n                      onChange={handleChange}\r\n                      className=\"input-field\"\r\n                      placeholder=\"Ej: 2.0L\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                      Potencia\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"power\"\r\n                      value={formData.power}\r\n                      onChange={handleChange}\r\n                      className=\"input-field\"\r\n                      placeholder=\"Ej: 150 HP\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Caracter√≠sticas */}\r\n            <div className=\"mt-6\">\r\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Caracter√≠sticas</h3>\r\n              <div className=\"space-y-4\">\r\n                \r\n                {/* Selector m√∫ltiple de caracter√≠sticas predefinidas */}\r\n                <div className=\"relative\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setShowFeatureDropdown(!showFeatureDropdown)}\r\n                    className=\"w-full input-field flex items-center justify-between bg-white\"\r\n                  >\r\n                    <span className=\"text-gray-700\">\r\n                      {formData.features.length === 0 \r\n                        ? 'Seleccionar caracter√≠sticas...' \r\n                        : `${formData.features.length} caracter√≠sticas seleccionadas`\r\n                      }\r\n                    </span>\r\n                    <ChevronDown className={`w-5 h-5 transition-transform ${showFeatureDropdown ? 'rotate-180' : ''}`} />\r\n                  </button>\r\n                  \r\n                  <AnimatePresence>\r\n                    {showFeatureDropdown && (\r\n                      <motion.div\r\n                        initial={{ opacity: 0, y: -10 }}\r\n                        animate={{ opacity: 1, y: 0 }}\r\n                        exit={{ opacity: 0, y: -10 }}\r\n                        className=\"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto\"\r\n                      >\r\n                        <div className=\"grid grid-cols-2 gap-1 p-2\">\r\n                          {predefinedFeatures.map((feature) => (\r\n                            <button\r\n                              key={feature}\r\n                              type=\"button\"\r\n                              onClick={() => togglePredefinedFeature(feature)}\r\n                              className={`flex items-center p-2 text-sm rounded hover:bg-gray-50 transition-colors ${\r\n                                formData.features.includes(feature)\r\n                                  ? 'bg-primary-50 text-primary-700'\r\n                                  : 'text-gray-700'\r\n                              }`}\r\n                            >\r\n                              <div className={`w-4 h-4 mr-2 border rounded flex items-center justify-center ${\r\n                                formData.features.includes(feature)\r\n                                  ? 'bg-primary-600 border-primary-600'\r\n                                  : 'border-gray-300'\r\n                              }`}>\r\n                                {formData.features.includes(feature) && (\r\n                                  <Check className=\"w-3 h-3 text-white\" />\r\n                                )}\r\n                              </div>\r\n                              {feature}\r\n                            </button>\r\n                          ))}\r\n                        </div>\r\n                      </motion.div>\r\n                    )}\r\n                  </AnimatePresence>\r\n                </div>\r\n\r\n                {/* Agregar caracter√≠stica personalizada */}\r\n                <div className=\"flex space-x-2\">\r\n                  <input\r\n                    type=\"text\"\r\n                    value={newFeature}\r\n                    onChange={(e) => setNewFeature(e.target.value)}\r\n                    className=\"input-field flex-1\"\r\n                    placeholder=\"Agregar caracter√≠stica personalizada...\"\r\n                    onKeyPress={(e) => e.key === 'Enter' && (e.preventDefault(), addFeature())}\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={addFeature}\r\n                    className=\"btn-secondary flex items-center\"\r\n                  >\r\n                    <Plus className=\"w-4 h-4 mr-1\" />\r\n                    Agregar\r\n                  </button>\r\n                </div>\r\n\r\n                {/* Lista de caracter√≠sticas seleccionadas con posibilidad de reordenar */}\r\n                {formData.features.length > 0 && (\r\n                  <div className=\"space-y-2\">\r\n                    <h4 className=\"text-sm font-medium text-gray-700\">Caracter√≠sticas seleccionadas ({formData.features.length}):</h4>\r\n                    <div className=\"space-y-1\">\r\n                      {formData.features.map((feature, index) => (\r\n                        <motion.div\r\n                          key={`${feature}-${index}`}\r\n                          layout\r\n                          className=\"flex items-center justify-between bg-gray-50 rounded-lg px-3 py-2\"\r\n                        >\r\n                          <span className=\"text-sm text-gray-700 flex-1\">{feature}</span>\r\n                          <div className=\"flex items-center space-x-1\">\r\n                            {index > 0 && (\r\n                              <button\r\n                                type=\"button\"\r\n                                onClick={() => moveFeature(index, index - 1)}\r\n                                className=\"p-1 text-gray-400 hover:text-gray-600 transition-colors\"\r\n                                title=\"Mover arriba\"\r\n                              >\r\n                                <ChevronUp className=\"w-4 h-4\" />\r\n                              </button>\r\n                            )}\r\n                            {index < formData.features.length - 1 && (\r\n                              <button\r\n                                type=\"button\"\r\n                                onClick={() => moveFeature(index, index + 1)}\r\n                                className=\"p-1 text-gray-400 hover:text-gray-600 transition-colors\"\r\n                                title=\"Mover abajo\"\r\n                              >\r\n                                <ChevronDown className=\"w-4 h-4\" />\r\n                              </button>\r\n                            )}\r\n                            <button\r\n                              type=\"button\"\r\n                              onClick={() => removeFeature(index)}\r\n                              className=\"p-1 text-red-400 hover:text-red-600 transition-colors\"\r\n                              title=\"Eliminar\"\r\n                            >\r\n                              <X className=\"w-4 h-4\" />\r\n                            </button>\r\n                          </div>\r\n                        </motion.div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Opciones */}\r\n            <div className=\"mt-6\">\r\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Opciones</h3>\r\n              <div className=\"space-y-4\">\r\n                <div className=\"flex items-center\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    name=\"featured\"\r\n                    checked={formData.featured}\r\n                    onChange={handleChange}\r\n                    className=\"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded\"\r\n                  />\r\n                  <label className=\"ml-2 block text-sm text-gray-900\">\r\n                    Marcar como destacado\r\n                  </label>\r\n                </div>\r\n\r\n                <div className=\"flex items-center\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    name=\"promotion\"\r\n                    checked={formData.promotion}\r\n                    onChange={handleChange}\r\n                    className=\"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded\"\r\n                  />\r\n                  <label className=\"ml-2 block text-sm text-gray-900\">\r\n                    Marcar como promoci√≥n\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Im√°genes */}\r\n            <div className=\"mt-6\">\r\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\r\n                Im√°genes {(existingImages.length + images.length > 0) && `(${existingImages.length + images.length} total)`}\r\n              </h3>\r\n              <div className=\"space-y-4\">\r\n                <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-6 hover:border-primary-400 transition-colors\">\r\n                  <div className=\"text-center\">\r\n                    <Upload className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n                    <div className=\"mt-2\">\r\n                      <label htmlFor=\"images\" className=\"cursor-pointer\">\r\n                        <span className=\"text-primary-600 hover:text-primary-500 font-medium\">\r\n                          {images.length === 0 ? 'Seleccionar m√∫ltiples im√°genes' : 'Agregar m√°s im√°genes'}\r\n                        </span>\r\n                        <input\r\n                          id=\"images\"\r\n                          type=\"file\"\r\n                          multiple\r\n                          accept=\"image/*\"\r\n                          onChange={handleImageChange}\r\n                          className=\"hidden\"\r\n                        />\r\n                      </label>\r\n                      <p className=\"text-xs text-gray-500 mt-1\">\r\n                        Selecciona m√∫ltiples archivos ‚Ä¢ PNG, JPG, GIF hasta 10MB cada una\r\n                      </p>\r\n                      <p className=\"text-xs text-primary-600 mt-1\">\r\n                        üí° Mant√©n presionado Ctrl/Cmd para seleccionar varias im√°genes\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Im√°genes existentes */}\r\n                {existingImages.length > 0 && (\r\n                  <div className=\"space-y-3\">\r\n                    <h4 className=\"text-sm font-medium text-gray-700\">\r\n                      Im√°genes actuales ({existingImages.length}):\r\n                    </h4>\r\n                    <div className=\"space-y-2\">\r\n                      {existingImages.map((imageUrl, index) => (\r\n                        <motion.div\r\n                          key={`existing-${index}`}\r\n                          layout\r\n                          className=\"flex items-center bg-blue-50 rounded-lg p-3 border border-blue-200\"\r\n                        >\r\n                          {/* Imagen miniatura */}\r\n                          <img\r\n                            src={imageUrl}\r\n                            alt={`Imagen existente ${index + 1}`}\r\n                            className=\"w-16 h-16 object-cover rounded-md flex-shrink-0\"\r\n                            onError={(e) => {\r\n                              e.target.src = 'https://via.placeholder.com/64x64?text=Error';\r\n                            }}\r\n                          />\r\n                          \r\n                          {/* Informaci√≥n de la imagen */}\r\n                          <div className=\"ml-3 flex-1 min-w-0\">\r\n                            <p className=\"text-sm font-medium text-gray-900\">\r\n                              Imagen {index + 1}\r\n                            </p>\r\n                            <p className=\"text-xs text-blue-600\">\r\n                              Imagen actual del veh√≠culo\r\n                            </p>\r\n                            {index === 0 && (\r\n                              <span className=\"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 mt-1\">\r\n                                Imagen principal\r\n                              </span>\r\n                            )}\r\n                          </div>\r\n\r\n                          {/* Controles de orden y eliminaci√≥n */}\r\n                          <div className=\"flex items-center space-x-1 ml-3\">\r\n                            {index > 0 && (\r\n                              <button\r\n                                type=\"button\"\r\n                                onClick={() => moveExistingImage(index, index - 1)}\r\n                                className=\"p-1 text-gray-400 hover:text-gray-600 transition-colors\"\r\n                                title=\"Mover arriba\"\r\n                              >\r\n                                <ChevronUp className=\"w-4 h-4\" />\r\n                              </button>\r\n                            )}\r\n                            {index < existingImages.length - 1 && (\r\n                              <button\r\n                                type=\"button\"\r\n                                onClick={() => moveExistingImage(index, index + 1)}\r\n                                className=\"p-1 text-gray-400 hover:text-gray-600 transition-colors\"\r\n                                title=\"Mover abajo\"\r\n                              >\r\n                                <ChevronDown className=\"w-4 h-4\" />\r\n                              </button>\r\n                            )}\r\n                            <button\r\n                              type=\"button\"\r\n                              onClick={() => removeExistingImage(index)}\r\n                              className=\"p-1 text-red-400 hover:text-red-600 transition-colors ml-2\"\r\n                              title=\"Eliminar imagen\"\r\n                            >\r\n                              <X className=\"w-4 h-4\" />\r\n                            </button>\r\n                          </div>\r\n                        </motion.div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Nuevas im√°genes */}\r\n                {images.length > 0 && (\r\n                  <div className=\"space-y-3\">\r\n                    <h4 className=\"text-sm font-medium text-gray-700\">\r\n                      Nuevas im√°genes a agregar ({images.length}):\r\n                    </h4>\r\n                    <div className=\"space-y-2\">\r\n                      {images.map((image, index) => (\r\n                        <motion.div\r\n                          key={`${image.name}-${index}`}\r\n                          layout\r\n                          className=\"flex items-center bg-green-50 rounded-lg p-3 border border-green-200\"\r\n                        >\r\n                          {/* Imagen miniatura */}\r\n                          <img\r\n                            src={URL.createObjectURL(image)}\r\n                            alt={`Imagen ${index + 1}`}\r\n                            className=\"w-16 h-16 object-cover rounded-md flex-shrink-0\"\r\n                          />\r\n                          \r\n                          {/* Informaci√≥n de la imagen */}\r\n                          <div className=\"ml-3 flex-1 min-w-0\">\r\n                            <p className=\"text-sm font-medium text-gray-900 truncate\">\r\n                              {image.name}\r\n                            </p>\r\n                            <p className=\"text-xs text-gray-500\">\r\n                              {(image.size / 1024 / 1024).toFixed(2)} MB\r\n                            </p>\r\n                            {index === 0 && (\r\n                              <span className=\"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-primary-100 text-primary-800 mt-1\">\r\n                                Imagen principal\r\n                              </span>\r\n                            )}\r\n                          </div>\r\n\r\n                          {/* Controles de orden */}\r\n                          <div className=\"flex items-center space-x-1 ml-3\">\r\n                            {index > 0 && (\r\n                              <button\r\n                                type=\"button\"\r\n                                onClick={() => moveImage(index, index - 1)}\r\n                                className=\"p-1 text-gray-400 hover:text-gray-600 transition-colors\"\r\n                                title=\"Mover arriba\"\r\n                              >\r\n                                <ChevronUp className=\"w-4 h-4\" />\r\n                              </button>\r\n                            )}\r\n                            {index < images.length - 1 && (\r\n                              <button\r\n                                type=\"button\"\r\n                                onClick={() => moveImage(index, index + 1)}\r\n                                className=\"p-1 text-gray-400 hover:text-gray-600 transition-colors\"\r\n                                title=\"Mover abajo\"\r\n                              >\r\n                                <ChevronDown className=\"w-4 h-4\" />\r\n                              </button>\r\n                            )}\r\n                            <button\r\n                              type=\"button\"\r\n                              onClick={() => removeImage(index)}\r\n                              className=\"p-1 text-red-400 hover:text-red-600 transition-colors ml-2\"\r\n                              title=\"Eliminar imagen\"\r\n                            >\r\n                              <X className=\"w-4 h-4\" />\r\n                            </button>\r\n                          </div>\r\n                        </motion.div>\r\n                      ))}\r\n                    </div>\r\n                    <p className=\"text-xs text-gray-500\">\r\n                      üí° Las nuevas im√°genes se agregar√°n despu√©s de las existentes. Puedes reordenar todas las im√°genes.\r\n                    </p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Botones */}\r\n            <div className=\"mt-8 flex justify-end space-x-4\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={onClose}\r\n                className=\"btn-secondary\"\r\n              >\r\n                Cancelar\r\n              </button>\r\n              <button\r\n                type=\"submit\"\r\n                disabled={loading}\r\n                className=\"btn-primary\"\r\n              >\r\n                {loading ? (\r\n                  <div className=\"flex items-center\">\r\n                    <div className=\"loading-spinner w-4 h-4 mr-2\"></div>\r\n                    Guardando...\r\n                  </div>\r\n                ) : (\r\n                  vehicle ? 'Actualizar Veh√≠culo' : 'Crear Veh√≠culo'\r\n                )}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </motion.div>\r\n      </motion.div>\r\n    </AnimatePresence>\r\n  );\r\n};\r\n\r\nexport default VehicleForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}