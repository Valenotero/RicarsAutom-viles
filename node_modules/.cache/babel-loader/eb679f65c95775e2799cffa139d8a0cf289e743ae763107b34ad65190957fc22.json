{"ast":null,"code":"import React,{useState}from'react';import{supabase}from'../../supabase/config';import{motion}from'framer-motion';import{Upload,Image,Video,X,Plus,Trash2,MapPin,User,Calendar}from'lucide-react';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const GalleryForm=_ref=>{let{onClose,onSuccess}=_ref;const[formData,setFormData]=useState({title:'',description:'',category:'eventos',location:'',author:'',type:'image'});const[files,setFiles]=useState([]);const[uploading,setUploading]=useState(false);const[previewUrls,setPreviewUrls]=useState([]);const categories=[{id:'eventos',name:'Eventos',icon:'üéâ'},{id:'instalaciones',name:'Instalaciones',icon:'üè¢'},{id:'equipo',name:'Equipo',icon:'üë•'},{id:'vehiculos',name:'Veh√≠culos',icon:'üöó'},{id:'promociones',name:'Promociones',icon:'üéØ'}];const handleInputChange=e=>{const{name,value}=e.target;setFormData(prev=>({...prev,[name]:value}));};const handleFileChange=e=>{const selectedFiles=Array.from(e.target.files);setFiles(selectedFiles);// Crear previews\nconst urls=selectedFiles.map(file=>URL.createObjectURL(file));setPreviewUrls(urls);};const removeFile=index=>{const newFiles=files.filter((_,i)=>i!==index);const newUrls=previewUrls.filter((_,i)=>i!==index);setFiles(newFiles);setPreviewUrls(newUrls);};const uploadFiles=async()=>{if(!formData.title||files.length===0){toast.error('Por favor completa todos los campos requeridos');return;}setUploading(true);try{const uploadedUrls=[];for(let i=0;i<files.length;i++){const file=files[i];const fileExt=file.name.split('.').pop();const fileName=`${Date.now()}_${i}.${fileExt}`;const filePath=`gallery/${fileName}`;// Subir archivo a Supabase Storage\nconst{data,error}=await supabase.storage.from('gallery-images').upload(filePath,file);if(error)throw error;// Obtener URL p√∫blica\nconst{data:{publicUrl}}=supabase.storage.from('gallery-images').getPublicUrl(filePath);uploadedUrls.push(publicUrl);}// Crear registros en la base de datos\nconst mediaRecords=uploadedUrls.map((url,index)=>({title:formData.title+(files.length>1?` (${index+1})`:''),description:formData.description,url:url,category:formData.category,location:formData.location,author:formData.author,type:files[index].type.startsWith('video/')?'video':'image',created_at:new Date().toISOString()}));const{error:dbError}=await supabase.from('gallery').insert(mediaRecords);if(dbError)throw dbError;toast.success('Archivos subidos exitosamente');onSuccess();onClose();}catch(error){console.error('Error uploading files:',error);toast.error('Error al subir los archivos');}finally{setUploading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,scale:0.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0.9},className:\"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-800\",children:\"Subir a Galer\\xEDa\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"p-2 text-gray-500 hover:text-gray-700 transition-colors\",children:/*#__PURE__*/_jsx(X,{className:\"w-6 h-6\"})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:e=>e.preventDefault(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"T\\xEDtulo *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",value:formData.title,onChange:handleInputChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"T\\xEDtulo del contenido\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Categor\\xEDa\"}),/*#__PURE__*/_jsx(\"select\",{name:\"category\",value:formData.category,onChange:handleInputChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",children:categories.map(category=>/*#__PURE__*/_jsxs(\"option\",{value:category.id,children:[category.icon,\" \",category.name]},category.id))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Descripci\\xF3n\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",value:formData.description,onChange:handleInputChange,rows:\"3\",className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"Descripci\\xF3n del contenido...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Ubicaci\\xF3n\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(MapPin,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"location\",value:formData.location,onChange:handleInputChange,className:\"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"Ubicaci\\xF3n (opcional)\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Autor\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(User,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"author\",value:formData.author,onChange:handleInputChange,className:\"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"Autor (opcional)\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Archivos (Fotos/Videos) *\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",multiple:true,accept:\"image/*,video/*\",onChange:handleFileChange,className:\"hidden\",id:\"file-upload\"}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"file-upload\",className:\"cursor-pointer\",children:[/*#__PURE__*/_jsx(Upload,{className:\"w-12 h-12 text-gray-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-2\",children:\"Haz clic para seleccionar archivos\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Soporta im\\xE1genes (JPG, PNG, GIF) y videos (MP4, MOV)\"})]})]})]}),previewUrls.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-sm font-medium text-gray-700 mb-3\",children:[\"Vista previa (\",files.length,\" archivos)\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-3 gap-4\",children:previewUrls.map((url,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"relative group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"aspect-square rounded-lg overflow-hidden bg-gray-100\",children:files[index].type.startsWith('video/')?/*#__PURE__*/_jsx(\"video\",{src:url,className:\"w-full h-full object-cover\",muted:true}):/*#__PURE__*/_jsx(\"img\",{src:url,alt:`Preview ${index+1}`,className:\"w-full h-full object-cover\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeFile(index),className:\"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity\",children:/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-2 left-2\",children:files[index].type.startsWith('video/')?/*#__PURE__*/_jsx(Video,{className:\"w-4 h-4 text-white bg-black bg-opacity-50 rounded p-1\"}):/*#__PURE__*/_jsx(Image,{className:\"w-4 h-4 text-white bg-black bg-opacity-50 rounded p-1\"})})]},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors\",children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:uploadFiles,disabled:uploading||!formData.title||files.length===0,className:\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2\",children:uploading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"}),\"Subiendo...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Upload,{className:\"w-4 h-4\"}),\"Subir Archivos\"]})})]})]})]})})});};export default GalleryForm;","map":{"version":3,"names":["React","useState","supabase","motion","Upload","Image","Video","X","Plus","Trash2","MapPin","User","Calendar","toast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","GalleryForm","_ref","onClose","onSuccess","formData","setFormData","title","description","category","location","author","type","files","setFiles","uploading","setUploading","previewUrls","setPreviewUrls","categories","id","name","icon","handleInputChange","e","value","target","prev","handleFileChange","selectedFiles","Array","from","urls","map","file","URL","createObjectURL","removeFile","index","newFiles","filter","_","i","newUrls","uploadFiles","length","error","uploadedUrls","fileExt","split","pop","fileName","Date","now","filePath","data","storage","upload","publicUrl","getPublicUrl","push","mediaRecords","url","startsWith","created_at","toISOString","dbError","insert","success","console","className","children","div","initial","opacity","scale","animate","exit","onClick","onSubmit","preventDefault","onChange","placeholder","required","rows","multiple","accept","htmlFor","src","muted","alt","disabled"],"sources":["C:/Users/otero/OneDrive/Escritorio/Paginas Web/ri cars automotores/src/components/admin/GalleryForm.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { supabase } from '../../supabase/config';\r\nimport { motion } from 'framer-motion';\r\nimport { \r\n  Upload, \r\n  Image, \r\n  Video, \r\n  X, \r\n  Plus, \r\n  Trash2,\r\n  MapPin,\r\n  User,\r\n  Calendar\r\n} from 'lucide-react';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst GalleryForm = ({ onClose, onSuccess }) => {\r\n  const [formData, setFormData] = useState({\r\n    title: '',\r\n    description: '',\r\n    category: 'eventos',\r\n    location: '',\r\n    author: '',\r\n    type: 'image'\r\n  });\r\n  const [files, setFiles] = useState([]);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [previewUrls, setPreviewUrls] = useState([]);\r\n\r\n  const categories = [\r\n    { id: 'eventos', name: 'Eventos', icon: 'üéâ' },\r\n    { id: 'instalaciones', name: 'Instalaciones', icon: 'üè¢' },\r\n    { id: 'equipo', name: 'Equipo', icon: 'üë•' },\r\n    { id: 'vehiculos', name: 'Veh√≠culos', icon: 'üöó' },\r\n    { id: 'promociones', name: 'Promociones', icon: 'üéØ' }\r\n  ];\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    const selectedFiles = Array.from(e.target.files);\r\n    setFiles(selectedFiles);\r\n\r\n    // Crear previews\r\n    const urls = selectedFiles.map(file => URL.createObjectURL(file));\r\n    setPreviewUrls(urls);\r\n  };\r\n\r\n  const removeFile = (index) => {\r\n    const newFiles = files.filter((_, i) => i !== index);\r\n    const newUrls = previewUrls.filter((_, i) => i !== index);\r\n    setFiles(newFiles);\r\n    setPreviewUrls(newUrls);\r\n  };\r\n\r\n  const uploadFiles = async () => {\r\n    if (!formData.title || files.length === 0) {\r\n      toast.error('Por favor completa todos los campos requeridos');\r\n      return;\r\n    }\r\n\r\n    setUploading(true);\r\n    try {\r\n      const uploadedUrls = [];\r\n\r\n      for (let i = 0; i < files.length; i++) {\r\n        const file = files[i];\r\n        const fileExt = file.name.split('.').pop();\r\n        const fileName = `${Date.now()}_${i}.${fileExt}`;\r\n        const filePath = `gallery/${fileName}`;\r\n\r\n        // Subir archivo a Supabase Storage\r\n        const { data, error } = await supabase.storage\r\n          .from('gallery-images')\r\n          .upload(filePath, file);\r\n\r\n        if (error) throw error;\r\n\r\n        // Obtener URL p√∫blica\r\n        const { data: { publicUrl } } = supabase.storage\r\n          .from('gallery-images')\r\n          .getPublicUrl(filePath);\r\n\r\n        uploadedUrls.push(publicUrl);\r\n      }\r\n\r\n      // Crear registros en la base de datos\r\n      const mediaRecords = uploadedUrls.map((url, index) => ({\r\n        title: formData.title + (files.length > 1 ? ` (${index + 1})` : ''),\r\n        description: formData.description,\r\n        url: url,\r\n        category: formData.category,\r\n        location: formData.location,\r\n        author: formData.author,\r\n        type: files[index].type.startsWith('video/') ? 'video' : 'image',\r\n        created_at: new Date().toISOString()\r\n      }));\r\n\r\n      const { error: dbError } = await supabase\r\n        .from('gallery')\r\n        .insert(mediaRecords);\r\n\r\n      if (dbError) throw dbError;\r\n\r\n      toast.success('Archivos subidos exitosamente');\r\n      onSuccess();\r\n      onClose();\r\n    } catch (error) {\r\n      console.error('Error uploading files:', error);\r\n      toast.error('Error al subir los archivos');\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n      <motion.div\r\n        initial={{ opacity: 0, scale: 0.9 }}\r\n        animate={{ opacity: 1, scale: 1 }}\r\n        exit={{ opacity: 0, scale: 0.9 }}\r\n        className=\"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto\"\r\n      >\r\n        <div className=\"p-6\">\r\n          <div className=\"flex items-center justify-between mb-6\">\r\n            <h2 className=\"text-2xl font-bold text-gray-800\">\r\n              Subir a Galer√≠a\r\n            </h2>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"p-2 text-gray-500 hover:text-gray-700 transition-colors\"\r\n            >\r\n              <X className=\"w-6 h-6\" />\r\n            </button>\r\n          </div>\r\n\r\n          <form onSubmit={(e) => e.preventDefault()}>\r\n            {/* Informaci√≥n b√°sica */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  T√≠tulo *\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"title\"\r\n                  value={formData.title}\r\n                  onChange={handleInputChange}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                  placeholder=\"T√≠tulo del contenido\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Categor√≠a\r\n                </label>\r\n                <select\r\n                  name=\"category\"\r\n                  value={formData.category}\r\n                  onChange={handleInputChange}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                >\r\n                  {categories.map(category => (\r\n                    <option key={category.id} value={category.id}>\r\n                      {category.icon} {category.name}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mb-6\">\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Descripci√≥n\r\n              </label>\r\n              <textarea\r\n                name=\"description\"\r\n                value={formData.description}\r\n                onChange={handleInputChange}\r\n                rows=\"3\"\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                placeholder=\"Descripci√≥n del contenido...\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Ubicaci√≥n\r\n                </label>\r\n                <div className=\"relative\">\r\n                  <MapPin className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"location\"\r\n                    value={formData.location}\r\n                    onChange={handleInputChange}\r\n                    className=\"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                    placeholder=\"Ubicaci√≥n (opcional)\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Autor\r\n                </label>\r\n                <div className=\"relative\">\r\n                  <User className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"author\"\r\n                    value={formData.author}\r\n                    onChange={handleInputChange}\r\n                    className=\"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                    placeholder=\"Autor (opcional)\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Upload Area */}\r\n            <div className=\"mb-6\">\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Archivos (Fotos/Videos) *\r\n              </label>\r\n              <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors\">\r\n                <input\r\n                  type=\"file\"\r\n                  multiple\r\n                  accept=\"image/*,video/*\"\r\n                  onChange={handleFileChange}\r\n                  className=\"hidden\"\r\n                  id=\"file-upload\"\r\n                />\r\n                <label htmlFor=\"file-upload\" className=\"cursor-pointer\">\r\n                  <Upload className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\r\n                  <p className=\"text-gray-600 mb-2\">\r\n                    Haz clic para seleccionar archivos\r\n                  </p>\r\n                  <p className=\"text-sm text-gray-500\">\r\n                    Soporta im√°genes (JPG, PNG, GIF) y videos (MP4, MOV)\r\n                  </p>\r\n                </label>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Preview */}\r\n            {previewUrls.length > 0 && (\r\n              <div className=\"mb-6\">\r\n                <h3 className=\"text-sm font-medium text-gray-700 mb-3\">\r\n                  Vista previa ({files.length} archivos)\r\n                </h3>\r\n                <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\r\n                  {previewUrls.map((url, index) => (\r\n                    <div key={index} className=\"relative group\">\r\n                      <div className=\"aspect-square rounded-lg overflow-hidden bg-gray-100\">\r\n                        {files[index].type.startsWith('video/') ? (\r\n                          <video\r\n                            src={url}\r\n                            className=\"w-full h-full object-cover\"\r\n                            muted\r\n                          />\r\n                        ) : (\r\n                          <img\r\n                            src={url}\r\n                            alt={`Preview ${index + 1}`}\r\n                            className=\"w-full h-full object-cover\"\r\n                          />\r\n                        )}\r\n                      </div>\r\n                      <button\r\n                        onClick={() => removeFile(index)}\r\n                        className=\"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity\"\r\n                      >\r\n                        <Trash2 className=\"w-4 h-4\" />\r\n                      </button>\r\n                      <div className=\"absolute bottom-2 left-2\">\r\n                        {files[index].type.startsWith('video/') ? (\r\n                          <Video className=\"w-4 h-4 text-white bg-black bg-opacity-50 rounded p-1\" />\r\n                        ) : (\r\n                          <Image className=\"w-4 h-4 text-white bg-black bg-opacity-50 rounded p-1\" />\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Action Buttons */}\r\n            <div className=\"flex gap-3\">\r\n              <button\r\n                onClick={onClose}\r\n                className=\"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors\"\r\n              >\r\n                Cancelar\r\n              </button>\r\n              <button\r\n                onClick={uploadFiles}\r\n                disabled={uploading || !formData.title || files.length === 0}\r\n                className=\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2\"\r\n              >\r\n                {uploading ? (\r\n                  <>\r\n                    <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\r\n                    Subiendo...\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <Upload className=\"w-4 h-4\" />\r\n                    Subir Archivos\r\n                  </>\r\n                )}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GalleryForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}